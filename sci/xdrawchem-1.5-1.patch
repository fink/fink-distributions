diff -ruN xdrawchem-1.5.orig/Makefile xdrawchem-1.5/Makefile
--- xdrawchem-1.5.orig/Makefile	2002-08-11 14:45:52.000000000 -0600
+++ xdrawchem-1.5/Makefile	2002-08-13 21:04:16.000000000 -0600
@@ -7,19 +7,20 @@
 #############################################################################
 
 ####### Compiler, tools and options
-
-CC       = gcc
-CXX      = g++
+prefix	= @FINKPREFIX@
+INSTALL_ROOT	= $(prefix)
+CC       = cc
+CXX      = c++
 LEX      = flex
 YACC     = yacc
-CFLAGS   = -pipe -Wall -W -g  -DUNIX -DRINGHOME=\"/usr/local/lib/xdrawchem\" -DXDC_SERVER=\"herger.ibb.gatech.edu\"
-CXXFLAGS = -pipe -Wall -W -g  -DUNIX -DRINGHOME=\"/usr/local/lib/xdrawchem\" -DXDC_SERVER=\"herger.ibb.gatech.edu\"
+CFLAGS   = -pipe -Wall -W -g -DUNIX -DRINGHOME=\"$(prefix)/lib/xdrawchem\" -DXDC_SERVER=\"herger.ibb.gatech.edu\"
+CXXFLAGS = -pipe -Wall -W -g -DUNIX -DRINGHOME=\"$(prefix)/lib/xdrawchem\" -DXDC_SERVER=\"herger.ibb.gatech.edu\"
 LEXFLAGS = 
 YACCFLAGS= -d
-INCPATH  = -I$(QTDIR)/include -I$(QTDIR)/mkspecs/default
-LINK     = g++
-LFLAGS   = 
-LIBS     = $(SUBLIBS) -Wl,-rpath,$(QTDIR)/lib -L$(QTDIR)/lib -L/usr/X11R6/lib -lqt -lXext -lX11 -lm
+INCPATH  = -I$(QTDIR)/include -I$(QTDIR)share/qt/mkspecs/darwin-g++
+LINK     = c++
+LFLAGS   =  
+LIBS     = $(SUBLIBS) -L$(QTDIR)/lib -L$(prefix)/lib -L/usr/X11R6/lib -lqt-mt -lXext -lX11
 AR       = ar cqs
 RANLIB   = 
 MOC      = $(QTDIR)/bin/moc
@@ -234,8 +235,8 @@
 		moc_smilesdialog.o
 DIST	   = 
 QMAKE_TARGET = xdrawchem
-DESTDIR  = /usr/local/bin/
-TARGET   = /usr/local/bin/xdrawchem
+DESTDIR  = ./bin/
+TARGET   = ./bin/xdrawchem
 
 first: all
 ####### Implicit rules
@@ -262,7 +263,7 @@
 all: Makefile $(TARGET)
 
 $(TARGET): $(UICDECLS) $(OBJECTS) $(OBJMOC) 
-	test -d /usr/local/bin/ || mkdir -p /usr/local/bin/
+	test -d ./bin/ || mkdir -p ./bin/
 	$(LINK) $(LFLAGS) -o $(TARGET) $(OBJECTS) $(OBJMOC) $(LIBS)
 
 mocables: $(SRCMOC)
@@ -270,7 +271,7 @@
 $(MOC): 
 	( cd $(QTDIR)/src/moc ; $(MAKE) )
 
-Makefile: xdrawchem.pro  $(QTDIR)/mkspecs/default/qmake.conf 
+Makefile: xdrawchem.pro  $(QTDIR)/share/qt/mkspecs/darwin-g++/qmake.conf 
 	$(QMAKE) xdrawchem.pro
 qmake: 
 	@$(QMAKE) xdrawchem.pro
@@ -292,7 +293,7 @@
 ####### Sub-libraries
 
 distclean: clean
-	-rm -f /usr/local/bin/$(TARGET) $(TARGET)
+	-rm -f $(prefix)/bin/$(TARGET) $(TARGET)
 	
 
 FORCE:
@@ -1103,81 +1104,84 @@
 ####### Install
 
 install_ringfile: 
-	@test -d $(INSTALL_ROOT)/usr/local/lib/xdrawchem/ || mkdir -p $(INSTALL_ROOT)/usr/local/lib/xdrawchem/
-	-$(COPY_FILE) "ring/6ring_boat.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/6ring_chair.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/adenine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/alanine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/anthracene.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/arginine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/asparagine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/aspartic_acid.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/benzene.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/benzene.png" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/biphenyl.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/boc.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/boc.cml~" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/cyclobutane.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/cycloheptane.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/cyclohexane.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/cyclohexane.png" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/cyclooctane.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/cyclopentadiene-sp.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/cyclopentadiene.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/cyclopentane.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/cyclopentane.png" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/cyclopropane.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/cysteine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/cytosine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/d-fructose.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/d-glucose.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/dabcyl.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/dabsyl.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/dansyl.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/deoxyribose.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/edans.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/fmoc.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/glutamic_acid.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/glutamine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/glycine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/guanine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/histidine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/imidazole.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/imidazole.png" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/indole.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/isoleucine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/leucine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/lysine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/methionine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/naphthalene.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/nitrophenylalanine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/phenylalanine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/proline.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/purine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/pyrimidine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/ribose.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/serine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/statine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/steroid.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/threonine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/thymine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/tryptophan.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/tyrosine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/uracil.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/valine.cml" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/xdrawchem_de.qm" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/xdrawchem_en.qm" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/xdrawchem_es.qm" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/xdrawchem_fr.qm" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/xdrawchem_it.qm" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/xdrawchem_nl.qm" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/xdrawchem_pl.qm" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/xdrawchemrc" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
-	-$(COPY_FILE) "ring/xdrawchemrc~" "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
+	@test -d $(INSTALL_ROOT)/bin/ || mkdir -p $(INSTALL_ROOT)/bin/
+	-$(COPY_FILE) "bin/xdrawchem" "$(INSTALL_ROOT)/bin/"
+
+	@test -d $(INSTALL_ROOT)/lib/xdrawchem/ || mkdir -p $(INSTALL_ROOT)/lib/xdrawchem/
+	-$(COPY_FILE) "ring/6ring_boat.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/6ring_chair.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/adenine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/alanine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/anthracene.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/arginine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/asparagine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/aspartic_acid.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/benzene.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/benzene.png" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/biphenyl.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/boc.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/boc.cml~" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/cyclobutane.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/cycloheptane.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/cyclohexane.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/cyclohexane.png" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/cyclooctane.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/cyclopentadiene-sp.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/cyclopentadiene.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/cyclopentane.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/cyclopentane.png" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/cyclopropane.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/cysteine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/cytosine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/d-fructose.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/d-glucose.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/dabcyl.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/dabsyl.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/dansyl.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/deoxyribose.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/edans.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/fmoc.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/glutamic_acid.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/glutamine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/glycine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/guanine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/histidine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/imidazole.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/imidazole.png" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/indole.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/isoleucine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/leucine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/lysine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/methionine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/naphthalene.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/nitrophenylalanine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/phenylalanine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/proline.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/purine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/pyrimidine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/ribose.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/serine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/statine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/steroid.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/threonine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/thymine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/tryptophan.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/tyrosine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/uracil.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/valine.cml" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/xdrawchem_de.qm" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/xdrawchem_en.qm" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/xdrawchem_es.qm" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/xdrawchem_fr.qm" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/xdrawchem_it.qm" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/xdrawchem_nl.qm" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/xdrawchem_pl.qm" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/xdrawchemrc" "$(INSTALL_ROOT)/lib/xdrawchem/"
+	-$(COPY_FILE) "ring/xdrawchemrc~" "$(INSTALL_ROOT)/lib/xdrawchem/"
 	
 uninstall_ringfile: 
-	-$(DEL_FILE) -r $(INSTALL_ROOT)/usr/local/lib/xdrawchem/*
-	-$(DEL_DIR) "$(INSTALL_ROOT)/usr/local/lib/xdrawchem/"
+	-$(DEL_FILE) -r $(INSTALL_ROOT)/lib/xdrawchem/*
+	-$(DEL_DIR) "$(INSTALL_ROOT)/lib/xdrawchem/"
 
 install: all install_ringfile 
 
