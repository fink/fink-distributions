Info2: <<
Package: ipython-py%type_pkg[python]
Version: 0.12.1
Revision: 1
# As of ipython 0.11, python must be >= 2.6
Type: python(2.7)
# 3.2 should work as of 0.12.  Just need pexpect and pygments
Maintainer: Kurt Schwehr <goatbar@users.sourceforge.net>
Recommends: zopeinterface-py%type_pkg[python]

Depends: <<
  python%type_pkg[python], 
  pexpect-py%type_pkg[python], zmq-py%type_pkg[python],
  pygments-py%type_pkg[python],
  tornado-py%type_pkg[python],
  pyqt4-py%type_pkg[python] | pyqt4-mac-py%type_pkg[python]
<<
Recommends: matplotlib-py%type_pkg[python]
# FIX: how do we enable one or the other of the pyqt4's?

BuildDepends: <<
  python%type_pkg[python], distribute-py%type_pkg[python],
  libzmq2
<<
# 
#  sphinx-py27
# Sphinx only needs a single instance to build the docs
# readline already correct in fink pythons

Source: http://archive.ipython.org/release/%v/ipython-%v.tar.gz
Source-MD5: ae3a9851cd99f40ba5227efec58c7a6c

CompileScript: python%type_raw[python] setup.py build
InstallScript: <<
 #!/bin/bash -ev
 python%type_raw[python] setup.py install --root=%d

 mv %i/share/doc/ipython{,-py%type_raw[python]}

 for file in %i/bin/*; do
   echo mv $file ${file}-py%type_pkg[python]
   mv $file ${file}-py%type_pkg[python]
 done

 for file in  %i/share/man/man1/*; do
   echo mv $file ${file%%.1.gz}-py%type_pkg[python].1.gz
   mv $file ${file%%.1.gz}-py%type_pkg[python].1.gz
 done

<<
#DocFiles: README.txt PKG-INFO
Description: Replacement interactive Python interpreter 
DescDetail: <<
 IPython is a replacement for the interactive Python interpreter with many
 extra features for object introspection, system shell access and with its 
 own special command system  for adding functionality when working 
 interactively. It serves  as an embeddable, ready to use interpreter for 
 your own programs and it offers a flexible framework which can be used as
 the base environment for other system with Python as the underlying
 language. Specifically scientific environments like Mathematica, IDL and
 Matlab inspired its design, but similar ideas can be useful in many fields.
<<
PostInstScript: <<

   # Remove the old if they exist
   update-alternatives --auto ipython
   update-alternatives --auto pycolor
   update-alternatives --auto irunner
   update-alternatives --remove ipython %p/bin/ipython%type_raw[python]
   update-alternatives --remove pycolor %p/bin/pycolor%type_raw[python]
   update-alternatives --remove irunner %p/bin/irunner%type_raw[python]

   # Now the new setup
   update-alternatives --verbose --install %p/bin/ipython ipython %p/bin/ipython-py%type_pkg[python] %type_pkg[python] \
	--slave %p/bin/ipcluster ipcluster %p/bin/ipcluster-py%type_pkg[python] \
	--slave %p/bin/ipcontroller ipcontroller %p/bin/ipcontroller-py%type_pkg[python] \
	--slave %p/bin/ipengine ipengine %p/bin/ipengine-py%type_pkg[python] \
	--slave %p/bin/iplogger iplogger %p/bin/iplogger-py%type_pkg[python] \
	--slave %p/bin/iptest iptest %p/bin/iptest-py%type_pkg[python] \
	--slave %p/bin/irunner irunner %p/bin/irunner-py%type_pkg[python] \
	--slave %p/bin/pycolor pycolor %p/bin/pycolor-py%type_pkg[python] \
	--slave %p/share/man/man1/ipython.1.gz ipython_man %p/share/man/man1/ipython-py%type_pkg[python].1.gz \
	--slave %p/share/man/man1/ipcluster.1.gz ipcluster_man %p/share/man/man1/ipcluster-py%type_pkg[python].1.gz \
	--slave %p/share/man/man1/ipcontroller.1.gz ipcontroller_man %p/share/man/man1/ipcontroller-py%type_pkg[python].1.gz \
	--slave %p/share/man/man1/ipengine.1.gz ipengine_man %p/share/man/man1/ipengine-py%type_pkg[python].1.gz \
	--slave %p/share/man/man1/iplogger.1.gz iplogger_man %p/share/man/man1/iplogger-py%type_pkg[python].1.gz \
	--slave %p/share/man/man1/irunner.1.gz irunner_man %p/share/man/man1/irunner-py%type_pkg[python].1.gz \
	--slave %p/share/man/man1/pycolor.1.gz pycolor_man %p/share/man/man1/pycolor-py%type_pkg[python].1.gz

  echo "You can inspect the links by running:"
  echo "  update-alternatives --list ipython"
  echo "  update-alternatives --display ipython"

<<

PreRmScript: <<

   # Remove the old
   update-alternatives --remove ipython %p/bin/ipython%type_raw[python]
   update-alternatives --remove pycolor %p/bin/pycolor%type_raw[python]
   update-alternatives --remove irunner %p/bin/irunner%type_raw[python]

  if [ $1 != "upgrade" ]; then
     echo "update-alternatives --verbose --remove ipython %p/bin/ipython-py%type_pkg[python]"
     update-alternatives --verbose --remove ipython %p/bin/ipython-py%type_pkg[python]
  else
    echo "Do not remove during upgrade"
  fi
<<

# TODO: add twisted, foolscap, pyobjc
# Passes for 2.5, but fails with 2.6.
#InfoTest: <<
#  TestDepends: nose-py%type_pkg[python], zopeinterface-py%type_pkg[python]
#  TestScript: <<
#    PYTHONPATH=`pwd` %p/bin/python%type_raw[python] scripts/iptest || exit 2
#  <<
#<<

DescPackaging: <<

Python 2.6 works despite failing the tests:
https://bugs.launchpad.net/ipython/+bug/329837

Has annoying warnings about deprecated python modules:
https://bugs.launchpad.net/ipython/+bug/284660

Still need to figure out how to handle ipcluster, ipcontroller,
ipengine, ipython-wx and ipythonx

Previous maintainer: Andrea Riciputi <ariciputi@users.sourceforge.net>

<<


License: BSD
Homepage: http://ipython.org/

# Info3
<<
