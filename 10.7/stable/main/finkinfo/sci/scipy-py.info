Info2: <<
Package: scipy-py%type_pkg[python]
Version: 0.12.0
Epoch: 1
Revision: 2
Maintainer: Jack Howarth <howarth@bromo.med.uc.edu>
Type: python (2.6 2.7 3.1 3.2)
Depends: numpy-py%type_pkg[python] (>= 1.6.1-1), python%type_pkg[python], gcc48-shlibs, suitesparse-shlibs
BuildDepends: fink (>= 0.24.12), gcc48, swig, suitesparse (>= 4.0.2-2)
Source: mirror:sourceforge:scipy/scipy-%v.tar.gz
Source-MD5: 2c387ab8b92875a830230cd1ba4fe1f9
PatchScript: <<
#!/bin/bash -ev
  sed -i.bak -e 's,<umfpack,<%p/include/suitesparse/umfpack,' scipy/sparse/linalg/dsolve/umfpack/umfpack.i
  cat <<EOF > site.cfg
[amd]
library_dirs = %p/lib
include_dirs = %p/include/suitesparse
amd_libs = amd

[umfpack]
library_dirs = %p/lib
include_dirs = %p/include/suitesparse
umfpack_libs = umfpack
EOF
<<
CompileScript: <<
#!/bin/sh -ev
 darwin_vers=`uname -r | cut -d. -f1`
 if [ "$darwin_vers" -ge 11 ]; then
   export CC=clang
   export CXX=clang++
   export FFLAGS=-ff2c
 else
   export CC=%p/bin/gcc-4
   export CXX=%p/bin/g++-4
 fi
 export FC=%p/bin/gfortran

 if [ %type_pkg[python] -eq 26 ] ; then
 	 export LDSHARED="$CC -bundle -L%p/lib/python%type_raw[python]/config -lpython%type_raw[python]"
 fi
 unset LDFLAGS
 %p/bin/python%type_raw[python] setup.py build --fcompiler gnu95
<<
InstallScript: <<
#!/bin/bash -ev
 %p/bin/python%type_raw[python] setup.py install --root %d

 if [ -f %b/INSTALL_MAKE_CHECK ]; then
   mkdir test
   cd test
   PYTHONPATH=%i/lib/python%type_raw[python]/site-packages %p/bin/python%type_raw[python] -c "import scipy; scipy.test()" 
   /usr/bin/find %i/lib/python%type_raw[python]/site-packages -name 'test*.pyc' -delete
   /usr/bin/find %i/lib/python%type_raw[python]/site-packages -name 'weave_test*.pyc' -delete
   rm -f %i/lib/python%type_raw[python]/site-packages/scipy/lib/lapack/tests/common.pyc
 fi
<<
InfoTest: <<
TestDepends: nose-py%type_pkg[python]
TestScript: touch %b/INSTALL_MAKE_CHECK
<<
DocFiles: INSTALL.txt LICENSE.txt
Description: Scientific tools for Python
DescDetail: <<
SciPy (pronounced "Sigh Pie") is open-source software for mathematics,
science, and engineering. It is also the name of a very popular
conference on scientific programming with Python. The SciPy library
depends on NumPy, which provides convenient and fast N-dimensional
array manipulation. The SciPy library is built to work with NumPy
arrays, and provides many user-friendly and efficient numerical
routines such as routines for numerical integration and
optimization. Together, they run on all popular operating systems, are
quick to install, and are free of charge. NumPy and SciPy are easy to
use, but powerful enough to be depended upon by some of the world's
leading scientists and engineers. If you need to manipulate numbers on
a computer and display or publish the results, give SciPy a try!
<<
DescPackaging: <<
The LDFLAGS environment variable is unset, because it overwrites the
link options, including the ones which provide the libpython2.5
library.

The patch script allow to compile scipy-py with the suitesparse
package installed. See:
http://thread.gmane.org/gmane.os.macosx.fink.user/28476

Originally packaged by Jeffrey Whitaker.

Build against gcc-4/g++-4/gfortran for darwin10 and earlier. Use
clang/clang++/gfortran with -ff2c on darwin11 and later. Note that
the Accelerate framework has single precision rounding issues starting
with darwin11 and the testsuite will show 57 failures on python26 and
63 failures on python27.
<<
License: OSI-Approved
Homepage: http://www.scipy.org
<<
