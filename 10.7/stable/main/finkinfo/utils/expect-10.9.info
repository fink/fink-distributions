Package: expect
Version: 5.45
Revision: 200
Distribution: 10.9
Maintainer: Matthias Neeracher <neeracher@mac.com>
BuildDepends: tcltk-dev (>= 8.6.0-1), x11-dev, fink (>= 0.24.12) 
Depends: tcltk (>= 8.6.0-1)
Source: mirror:sourceforge:%n/Expect/%v/%n%v.tar.gz
SourceDirectory: %n%v
Source2: mirror:sourceforge:tcl/tcl8.6.0-src.tar.gz
Source-MD5: 44e1a4f4c877e9ddc5a542dfa7ecc92b
Source2-MD5: 573aa5fe678e9185ef2b3c56b24658d3
PatchFile: %n-10.9.patch
PatchFile-MD5: 044c5ba50d24e7016f5ae9a8c368c962
ConfigureParams: --mandir='$(prefix)/share/man' --with-tcl=%p/lib --with-tk=%p/lib --x-inc=/usr/X11R6/include --x-lib=/usr/X11R6/lib --with-tkinclude=%p/include --with-tclinclude=../tcl8.6.0/generic
SetCFLAGS: -I%p/include -I/usr/X11R6/include -I../tcl8.6.0/unix
PatchScript: <<
  %{default_script}
  perl -pi -e 's|bin/sh|%p/bin/expect|g' foo
<<
InfoTest: TestScript: make test || exit 2
CompileScript: <<
#!/bin/sh -ev
  export LDFLAGS="-L%p/lib -ltclstub8.6"
  ./configure %c
  make
<<
InstallScript: <<
#!/bin/sh -ev
  make install DESTDIR=%d
  install_name_tool -change libexpect%v.dylib %p/lib/%n%v/libexpect%v.dylib %i/bin/expect
  install_name_tool -id %p/lib/%n%v/libexpect%v.dylib %i/lib/%n%v/libexpect%v.dylib
<<
Shlibs:%p/lib/expect5.45/libexpect5.45.dylib 5.45.0 %n (>= 5.45-100)
SplitOff: <<
 Package: %N-dev
 BuildDependsOnly: true
 Files: <<
 include/*.h
 bin/[a-df-z]*
 share/man/man1/[a-df-z]*
 <<
 DocFiles: README
<<
DocFiles: FAQ HISTORY NEWS README
Description: Tool for automatic interactive applications
DescDetail: <<
Expect is a tool for automating interactive applications such as
telnet, ftp, passwd, fsck, rlogin, tip, etc. Expect really makes this
stuff trivial. Expect is also useful for testing these same
applications. 
<<
DescPort: <<
Expect has to access internal Tcl headers, so it needs to grab the tcl
distribution during build (This should not require an extra download
since the source should still be around from the tcltk dependency).
<<
License: Public Domain
Homepage: http://expect.nist.gov
