Package: kdeedu3
Version: 3.2.3
Revision: 21
Description: KDE - educational software
License: GPL/LGPL
Maintainer: Benjamin Reed <ranger@befunk.com>

Depends: flashkard (>= %v-%r), kalzium (>= %v-%r), kbruch (>= %v-%r), keduca (>= %v-%r), khangman (>= %v-%r), kig (>= %v-%r), kiten (>= %v-%r), klettres (>= %v-%r), kmessedwords (>= %v-%r), kmplot (>= %v-%r), kpercentage (>= %v-%r), kstars (>= %v-%r), ktouch (>= %v-%r), kverbos (>= %v-%r), kvoctrain (>= %v-%r)
BuildDepends: arts-dev (>= 1.2.0-21), autoconf2.5 (>= 2.58-1), automake1.8, cctools (>= 446-1) | cctools-single-module, fink (>= 0.14.0-1), kdelibs3-ssl-dev (>= %v-21) | kdelibs3-dev (>= %v-21), libart2, libjpeg, libpng3 (>= 1.2.5-4), pcre, qt3 (>= 3.2.3-21), x11-dev
Replaces: %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
GCC: 3.3

CustomMirror: <<
  nam-US: http://ranger.befunk.com/fink
  nam-US: http://astrange.ithinksw.net/~astrange/ranger-fink
  nam-CA: http://www.southofheaven.net/befunk
<<
Source: mirror:kde:stable/%v/src/kdeedu-%v.tar.bz2
Source-MD5: 1c41b731f26269fdb39f2c097a95dd9a
Source2: mirror:custom:kde-admindir-20040609.tar.bz2
Source2-MD5: 265911d80a993a30bb3f82876e8cfab1
Source2ExtractDir: kdeedu-%v

PatchScript: <<
  perl -pi -e 's,-O2,-Os,' admin/acinclude.m4.in
  perl -pi -e 's,doc/HTML,doc/kde,g' admin/acinclude.m4.in
<<

NoSetCPPFLAGS: true
NoSetLDFLAGS: true
ConfigureParams: --includedir=%p/include --libdir=%p/lib --prefix=%p --with-qt-dir=%p --with-qt-includes=%p/include/qt --with-extra-libs=%p/lib --with-extra-includes=%p/include --enable-mt --with-pic --enable-rpath --enable-shared=yes --enable-static=no --mandir=%i/share/man --with-xinerama --with-pam --disable-final --with-distribution='Fink/Mac OS X'

CompileScript: <<
#!/bin/sh -e

  export HOME=/tmp
  export PREFIX="%p"
  . ./environment-helper.sh

  ./build-helper.sh cvs       %N %v %r make -f admin/Makefile.common cvs
  ./build-helper.sh configure %N %v %r ./configure %c
  ./build-helper.sh make      %N %v %r make all all_libraries="$ALL_LIBRARIES"
<<

InstallScript: <<
#!/bin/sh -e

  export PREFIX="%p"
  . ./environment-helper.sh

  ./build-helper.sh install %N %v %r make -j1 install DESTDIR=%d

  mkdir -p %i/share/doc/kde-installed-packages
  touch %i/share/doc/kde-installed-packages/%N
  touch %i/share/doc/kde-installed-packages/%N-base

  rm -rf %i/share/doc/kde/en/kmathtool

  # FIXME: this works around an initialization error in kstars, this should
  # get fixed for real!
  install -d -m 755 %i/share/config
  touch %i/share/config/kstarsrc
<<

DocFiles: COPYING INSTALL README
SplitOff: <<
  Package: flashkard
  Description: KDE - vocabulary studying tool
  Depends: %N-base (>= %v-%r), %N-common (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/flashkard
    share/applications/kde/flashkard.desktop
    share/apps/flashkard
    share/doc/kde/en/flashkard
    share/icons/crystalsvg/16x16/apps/flashkard.png
    share/icons/crystalsvg/32x32/apps/flashkard.png
    share/icons/crystalsvg/48x48/apps/flashkard.png
    share/icons/crystalsvg/128x128/apps/flashkard.png
  <<
<<
SplitOff2: <<
  Package: kalzium
  Description: KDE - periodic table
  Depends: %N-base (>= %v-%r), %N-common (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kalzium
    share/applications/kde/kalzium.desktop
    share/apps/kalzium
    share/doc/kde/en/kalzium
    share/icons/crystalsvg/16x16/apps/kalzium.png
    share/icons/crystalsvg/32x32/apps/kalzium.png
    share/icons/crystalsvg/48x48/apps/kalzium.png
    share/icons/crystalsvg/128x128/apps/kalzium.png
  <<
<<
SplitOff3: <<
  Package: kbruch
  Description: KDE - generate tasks with fractions
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kbruch
    share/applications/kde/kbruch.desktop
    share/apps/kbruch/kbruchui.rc
    share/doc/kde/en/kbruch
    share/icons/crystalsvg/16x16/apps/kbruch.png
    share/icons/crystalsvg/32x32/apps/kbruch.png
  <<
<<
SplitOff4: <<
  Package: keduca
  Description: KDE - create and revise form-based exams
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/keduca
    bin/keducabuilder
    share/applications/kde/keduca.desktop
    share/applications/kde/keducabuilder.desktop
    share/apps/keduca
    share/doc/kde/en/keduca
    share/icons/crystalsvg/16x16/apps/keduca.png
    share/icons/crystalsvg/32x32/apps/keduca.png
    share/icons/crystalsvg/48x48/apps/keduca.png
    share/mimelnk/application/x-edu.desktop
    share/mimelnk/application/x-edugallery.desktop
  <<
<<
SplitOff5: <<
  Package: khangman
  Description: KDE - hangman word game
  Depends: %N-base (>= %v-%r), %N-common (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/khangman
    share/applications/kde/khangman.desktop
    share/apps/khangman
    share/doc/kde/en/khangman
    share/icons/crystalsvg/16x16/apps/khangman.png
    share/icons/crystalsvg/32x32/apps/khangman.png
    share/icons/crystalsvg/48x48/apps/khangman.png
    share/icons/crystalsvg/128x128/apps/khangman.png
  <<
<<
SplitOff6: <<
  Package: kig
  Description: KDE - explore geometric constructions
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kig
    lib/kde3/libkig*
    share/applications/kde/kig.desktop
    share/apps/kig
    share/apps/kigpart
    share/doc/kde/en/kig
    share/icons/crystalsvg/16x16/apps/kig.png
    share/icons/crystalsvg/32x32/apps/kig.png
    share/icons/crystalsvg/48x48/apps/kig.png
    share/icons/crystalsvg/128x128/apps/kig.png
    share/mimelnk/application/x-kgeo.desktop
    share/mimelnk/application/x-kig.desktop
    share/mimelnk/application/x-kseg.desktop
    share/services/kig_part.desktop
  <<
<<
SplitOff7: <<
  Package: kiten
  Description: KDE - Japanese reference and learning tool
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kiten
    bin/kitengen
    share/applications/kde/kiten.desktop
    share/apps/kiten
    share/doc/kde/en/kiten
    share/icons/crystalsvg/16x16/apps/kiten.png
    share/icons/crystalsvg/32x32/apps/kiten.png
    share/icons/crystalsvg/48x48/apps/kiten.png
    share/icons/crystalsvg/128x128/apps/kiten.png
    share/icons/crystalsvg/16x16/actions/kanjidic.png
    share/icons/crystalsvg/22x22/actions/kanjidic.png
    share/icons/crystalsvg/22x22/actions/edit_add.png
    share/icons/crystalsvg/22x22/actions/edit_remove.png
    share/icons/locolor/16x16/actions/edit_add.png
    share/icons/locolor/16x16/actions/edit_remove.png
  <<
<<
SplitOff8: <<
  Package: klettres
  Description: KDE - multi-language alphabet learning aid
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/klettres
    share/applications/kde/klettres.desktop
    share/apps/klettres
    share/config.kcfg/klettres*
    share/doc/kde/en/klettres
    share/icons/hicolor/48x48/apps/grownup.png
    share/icons/hicolor/48x48/apps/kids.png
    share/icons/hicolor/48x48/apps/menubar.png
    share/icons/crystalsvg/16x16/apps/klettres.png
    share/icons/crystalsvg/32x32/apps/klettres.png
    share/icons/crystalsvg/48x48/apps/klettres.png
    share/icons/crystalsvg/128x128/apps/klettres.png
  <<
<<
SplitOff9: <<
  Package: kmessedwords
  Description: KDE - mind-training word game
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kmessedwords
    share/applications/kde/kmessedwords.desktop
    share/apps/kmessedwords
    share/doc/kde/en/kmessedwords
    share/icons/crystalsvg/16x16/apps/kmessedwords.png
    share/icons/crystalsvg/32x32/apps/kmessedwords.png
    share/icons/crystalsvg/48x48/apps/kmessedwords.png
    share/icons/crystalsvg/128x128/apps/kmessedwords.png
  <<
<<
SplitOff10: <<
  Package: kmplot
  Description: KDE - mathematical function plotter
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kmplot
    share/applications/kde/kmplot.desktop
    share/apps/kmplot
    share/doc/kde/en/kmplot
    share/icons/crystalsvg/16x16/apps/kmplot.png
    share/icons/crystalsvg/32x32/apps/kmplot.png
    share/icons/crystalsvg/48x48/apps/kmplot.png
    share/icons/crystalsvg/128x128/apps/kmplot.png
  <<
<<
SplitOff11: <<
  Package: kpercentage
  Description: KDE - practice calculating percentages
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kpercentage
    share/applications/kde/kpercentage.desktop
    share/apps/kpercentage
    share/doc/kde/en/kpercentage
    share/icons/crystalsvg/16x16/apps/kpercentage.png
    share/icons/crystalsvg/32x32/apps/kpercentage.png
    share/icons/crystalsvg/48x48/apps/kpercentage.png
    share/icons/crystalsvg/128x128/apps/kpercentage.png
  <<
<<
SplitOff12: <<
  Package: kstars
  Description: KDE - desktop planetarium
  Depends: %N-base (>= %v-%r), %N-common (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/celestrongps
    bin/indiserver
    bin/kstars
    bin/lx200*
    include/kstarsinterface.h
    include/simclockinterface.h
    share/applications/kde/kstars.desktop
    share/apps/kstars
    share/config/kstarsrc
    share/doc/kde/en/kstars
    share/icons/crystalsvg/16x16/apps/kstars.png
    share/icons/crystalsvg/32x32/apps/kstars.png
    share/icons/crystalsvg/48x48/apps/kstars.png
    share/icons/crystalsvg/128x128/apps/kstars.png
  <<
<<
SplitOff13: <<
  Package: ktouch
  Description: KDE - touch-typing tutor
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/ktouch
    share/applications/kde/ktouch.desktop
    share/apps/ktouch
    share/doc/kde/en/ktouch
    share/icons/crystalsvg/128x128/apps/ktouch.png
    share/icons/crystalsvg/16x16/apps/ktouch.png
    share/icons/crystalsvg/32x32/apps/ktouch.png
    share/icons/crystalsvg/48x48/apps/ktouch.png
  <<
<<
SplitOff14: <<
  Package: kverbos
  Description: KDE - spanish verb form study aid
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kverbos
    share/applications/kde/kverbos.desktop
    share/apps/kverbos
    share/doc/kde/en/kverbos
    share/icons/crystalsvg/16x16/actions/kverbosuser.png
    share/icons/crystalsvg/16x16/apps/kverbos.png
    share/icons/crystalsvg/32x32/apps/kverbos.png
    share/icons/crystalsvg/48x48/apps/kverbos.png
    share/icons/crystalsvg/128x128/apps/kverbos.png
  <<
<<
SplitOff15: <<
  Package: kvoctrain
  Description: KDE - vocabulary training tool
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kvoctrain
    share/applications/kde/kvoctrain.desktop
    share/apps/kvoctrain
    share/doc/kde/en/kvoctrain
    share/icons/crystalsvg/16x16/apps/kvoctrain.png
    share/icons/crystalsvg/22x22/apps/kvoctrain.png
    share/icons/crystalsvg/32x32/apps/kvoctrain.png
    share/icons/crystalsvg/48x48/apps/kvoctrain.png
  <<
<<
SplitOff16: <<
  Package: %N-common
  Description: KDE - kdeedu common shared libraries
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/langen2kvtml
    bin/spotlight2kvtml
    lib/libkdeeducore.1*.dylib
    lib/libkdeeduplot.1*.dylib
    lib/libkdeeduui.1*.dylib
  <<
  Shlibs: <<
    %p/lib/libkdeeducore.1.dylib 4.0.0 %N-common (>= 3.2.0-1)
    %p/lib/libkdeeduplot.1.dylib 4.0.0 %N-common (>= 3.2.0-1)
    %p/lib/libkdeeduui.1.dylib 4.0.0 %N-common (>= 3.2.0-1)
  <<
<<
SplitOff17: <<
  Package: %N-dev
  Description: KDE - kdeedu development headers and libraries
  Depends: %N (>= %v-%r), arts (>= 1.2.0-21), kdelibs3-ssl (>= %v-21) | kdelibs3 (>= %v-21), libart2-shlibs, libpng3-shlibs (>= 1.2.5-4), qt3-shlibs (>= 3.2.3-21), x11
  Recommends: arts-dev (>= 1.2.0-1), autoconf2.5 (>= 2.58-1), automake1.8, kdelibs3-ssl-dev (>= %v-1) | kdelibs3-dev (>= %v-1), libart2, libpng3 (>= 1.2.5-4), qt3 (>= 3.2.3-1), x11
  Replaces: %N (<< %v-%r), %N-shlibs (<< %v-%r)
  BuildDependsOnly: true
  Files: <<
    include
    lib/*.la
    lib/*.dylib
  <<
<<
SplitOff18: <<
  Package: %N-base
  Description: KDE - kdeedu base package
  Depends: kdebase3-ssl (>= %v-21) | kdebase3 (>= %v-21)
  Replaces: %N (<< %v-%r), %N-shlibs (<< %v-%r)
  Recommends: %N (>= %v-%r), kdebase3-ssl (>= %v-1) | kdebase3 (>= %v-1)
  Files: <<
    share/doc/kde-installed-packages/%N-base
  <<
<<

PostInstScript: <<
  env HOME=/tmp/ %p/bin/kbuildsycoca --global
<<

DescDetail: <<
Install kdeedu3 if you would like to install all of the kdeedu
packages.  kdeedu3 contains:

  flashkard
  kalzium
  kbruch
  keduca
  khangman
  kig
  kiten
  klettres
  kmessedwords
  kmplot
  kpercentage
  kstars
  ktouch
  kverbos
  kvoctrain
<<
DescUsage: <<
---[ Installation ]---------------------------------------------------

To install all of the official KDE packages, install "bundle-kde" or
"bundle-kde-ssl" (depending on whether crypotgraphic laws permit
downloading strong cryptography).  Unless you have a specific reason
not to, "bundle-kde-ssl" is suggested.

---[ Configuration ]--------------------------------------------------

To use KDE as your windowing system in XDarwin, create a file called
".xinitrc" in your home directory, containing the following line:

  /sw/bin/startkde >/tmp/kde.log 2>&1

See http://fink.sourceforge.net/doc/x11/run-xfree86.php#xinitrc
for more information on the xinitrc files and how they work.

If you want to use Apple's X11 instead of the KDE window manager,
put the following line before the startkde line in .xinitrc:

  export KDEWM=quartz-wm

Note that depending on your version of Apple's X11, this can cause
strange resizing issues with the kicker (KDE task bar).

---[ Startup ]--------------------------------------------------------

Once you have created an ~/.xinitrc file, you should be able to start
KDE by clicking on the "XDarwin" icon in your Applications folder.  

NOTE: By default, X11 on Mac OS X runs in "rootless" mode, generally.
If you run KDE in rootless mode, it will take over your desktop with
a window that covers everything up.  You can remove this by disabling
desktop icons in the KDE control center.  Open the control center
(either from the "K" menu bar, or by typing "kcontrol" in an xterm)
then expand the "Desktop" list, click "Behavior", and uncheck the
"Show icons on desktop" checkbox.
   
---[ Removal ]--------------------------------------------------------
   
To remove all of the official KDE packages, you can remove the KDE
libraries and anything that depends on them by running, in a terminal:
   
  sudo apt-get remove kdelibs3-ssl-shlibs kdelibs3-shlibs

To remove an individual KDE package collection (like kdenetwork3 or
kdesdk3) you can generally remove [package]-base.  For example, to
remove all of the kdenetwork3 packages, run:

  sudo apt-get remove kdenetwork3-base
<<
