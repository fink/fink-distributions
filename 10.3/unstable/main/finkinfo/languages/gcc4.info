Package: gcc4
Version: 20050402
Revision: 3
Source: ftp://gcc.gnu.org/pub/gcc/snapshots/4.0-%v/gcc-4.0-%v.tar.bz2
Source-MD5: 638325368cd4e7a37dae40bb4eeee902
NoSetCPPFLAGS: True
NoSetLDFLAGS: True
SourceDirectory: gcc-4.0-%v
Depends: gmp-shlibs (>= 4.1.3-11), cctools (>= 576-1) | odcctools (>= 528-20041018), %N-shlibs, libiconv
BuildDepends: gmp (>= 4.1.3-11), libiconv-dev
BuildConflicts: autogen-dev
Replaces: gfortran
Provides: gfortran
ConfigureParams: --prefix=%p/lib/gcc4 --infodir='${prefix}/share/info' --with-gmp=%p  --with-included-gettext --host=%m-apple-darwin`uname -r|cut -f1 -d.` `if test ! -f /usr/lib/libSystemStubs.a ; then echo -n "--with-as=%p/lib/odcctools/bin/as --with-ld=%p/lib/odcctools/bin/ld" ; fi`
PatchScript: <<
 #!/bin/sh
 # make sure odcctools libtool being used on Panther.
 if test ! -f /usr/lib/libSystemStubs.a ; then perl -pi -e 's,/usr/bin/libtool,%p/lib/odcctools/bin/libtool,;' gcc/config/darwin.h ; fi
<<
CompileScript: <<
 #!/bin/sh
 ulimit -S -s unlimited
 mkdir darwin 
 cd darwin
 ../configure %c
 make
<<
InstallScript: <<
 #!/bin/sh
 cd darwin
 make install DESTDIR=%d
 mkdir -p %i/bin
 cd %i/bin
 ln -s %p/lib/gcc4/bin/gcj gcj
 ln -s %p/lib/gcc4/bin/gfortran gfortran
 ln -s %p/lib/gcc4/bin/gcc gcc-4
 ln -s %p/lib/gcc4/bin/g++ g++-4
 ln -s %p/lib/gcc4/bin/c++ c++-4
 ln -s %p/lib/gcc4/bin/cpp cpp-4
 ln -s %p/lib/gcc4/bin/gcov gcov-4
 ln -s %p/lib/gcc4/bin/gcj-dbtool gcj-dbtool
 ln -s %p/lib/gcc4/bin/gcjh gcjh
 ln -s %p/lib/gcc4/bin/gij gij
 ln -s %p/lib/gcc4/bin/grepjar grepjar
 ln -s %p/lib/gcc4/bin/grmic grmic
 ln -s %p/lib/gcc4/bin/grmiregistry grmiregistry
 ln -s %p/lib/gcc4/bin/jcf-dump jcf-dump
 ln -s %p/lib/gcc4/bin/jv-convert jv-convert
<<
SplitOff: <<
  Package: %N-shlibs
  Replaces: gcc4 (<= 20050130-4), gfortran-shlibs
  Provides: gfortran-shlibs
  Description: Shared libraries for gcc4
  DocFiles: gcc/COPYING gcc/COPYING.LIB
  Homepage: http://gcc.gnu.org/
  Files: <<
    lib/gcc4/lib/libffi.4.dylib
    lib/gcc4/lib/libffi.4.0.1.dylib
    lib/gcc4/lib/libgcc_s.1.0.dylib
    lib/gcc4/lib/libgcj.6.dylib
    lib/gcc4/lib/libgcj.6.0.0.dylib
    lib/gcc4/lib/libgij.6.dylib
    lib/gcc4/lib/libgij.6.0.0.dylib
    lib/gcc4/lib/libobjc-gnu.1.dylib
    lib/gcc4/lib/libobjc-gnu.1.0.0.dylib
    lib/gcc4/lib/libstdc++.6.dylib
    lib/gcc4/lib/libstdc++.6.0.4.dylib
    lib/gcc4/lib/libgfortran.0.dylib
    lib/gcc4/lib/libgfortran.0.0.0.dylib
  <<
  Shlibs: <<
    %p/lib/gcc4/lib/libffi.4.dylib 5.0.0 %n (>= 20050130-5)
    %p/lib/gcc4/lib/libgcc_s.1.0.dylib 1.0.0 %n (>= 20050130-5)
    %p/lib/gcc4/lib/libgcj.6.dylib 7.0.0 %n (>= 20050130-5)
    %p/lib/gcc4/lib/libgij.6.dylib 7.0.0 %n (>= 20050130-5)
    %p/lib/gcc4/lib/libobjc-gnu.1.dylib 2.0.0 %n (>= 20050130-5)
    %p/lib/gcc4/lib/libstdc++.6.dylib 7.0.0 %n (>= 20050130-5)
    %p/lib/gcc4/lib/libgfortran.0.dylib 1.0.0 %n (>= 20050320-1)
  <<
<<
License: GPL
Description: GNU Compiler Collection Version 4
DescDetail: <<
 GCC, the GNU Compiler Collection, includes front ends for
 C, C++, Objective-C, Fortran, Java, and Ada, as well as libraries
 for these languages (libstdc++, libgcj,...).
 .
 C, C++, Objective C, Fortran and Java are included in this package.
 .
 The C and C++ compilers are named gcc-4 and g++-4 to avoid
 conflicts with gcc and g++ installed by the Apple Developer Tools
<<
Homepage: http://gcc.gnu.org/
Maintainer: Jeffrey Whitaker <jswhit@fastmail.fm>
