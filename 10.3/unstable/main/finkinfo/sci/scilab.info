Package: scilab
Version: 3.0
Revision: 2
Maintainer: Jeffrey Whitaker <jswhit@fastmail.fm>
Depends: g77, tcltk,  xaw3d-shlibs
BuildDepends: tcltk-dev, xaw3d, ncurses-dev, ocaml
Conflicts: scilab-atlas
Replaces: scilab-atlas
Source: ftp://ftp.inria.fr/INRIA/Scilab/release_candidate/Scilab-%v-RC1.src.tar.gz
SourceDirectory: Scilab-%v-RC1
Source-MD5: 698341a25b478649883278a830afab18
PatchScript: sed 's|@PREFIX@|%p|g' %a/%n.patch | patch -p1
ConfigureParams: --without-pvm --with-tcl-include=%p/include --with-tcl-library=%p/lib --with-ocaml
CompileScript: <<
 #!/bin/csh
 ./configure %c
 # periX11 needs -O (not -O2) to prevent crashes with Apple X11
 # when executing graphics examples.
 # not needed with fink xfree86 package.
 make CFLAGS='-O -I/usr/X11R6/include' routines/graphics/periX11.o
 make all
<<
InstallScript: <<
 mkdir -p %i/lib
 mkdir -p %i/bin
 touch .binary 
 echo bin/scilex
 (cd tests; make distclean)
 (cd examples; make distclean)
 (cd .. ; tar cf - Scilab-%v-RC1 | (cd %i/lib; tar xf -))
 rm .binary
 ln -fs %p/lib/Scilab-%v-RC1/bin/scilab %i/bin/scilab
 ln -fs %p/lib/Scilab-%v-RC1/bin/intersci %i/bin/intersci
 ln -fs %p/lib/Scilab-%v-RC1/bin/intersci-n %i/bin/intersci-n
<<
PostInstScript: (cd %p/lib/Scilab-%v-RC1; make)
Description: Software package for numerical computations
License: OSI-Approved
Homepage: http://www-rocq.inria.fr/scilab/
