Package: php5-apache2-ssl
Version: 5.1.4
Revision: 2
###
Depends: libapache2-ssl-mod-php5 | %N-cgi
BuildDepends: apr-ssl (>= 0.9.12-1), libtool14, libgettext3-dev, libiconv-dev, gd2, mysql14-dev, sqlite-dev, postgresql80-unified-dev, libcurl3-unified, expat, libmhash (>= 0.8.18-2), libmcrypt, libxml2, libxslt, openldap23-dev (>= 2.3.11-2), ming, t1lib5, libpng3, apache2-ssl-dev (>= 2.0.58-1), unixodbc2 | unixodbc2-nox, gdbm3, net-snmp-unified, net-snmp-unified-dev, db43-ssl, libtiff, x11-dev, gmp (>= 4.1.4-1), libmpfr1, uw-imap-c-client-ssl (>= 2004e-1), libjpeg, cyrus-sasl2-dev
Replaces: php5-apache2, php5-apache, php5-apache-ssl
Conflicts: php5-apache2, php5-apache, php5-apache-ssl
Provides: php5-ssl
###
CustomMirror: <<
  eur-AR: http://ar.php.net/
  oce-AU: http://au.php.net/
  oce-AU: http://au2.php.net/
  oce-AU: http://au3.php.net/
  eur-AT: http://at.php.net/
  eur-AT: http://at2.php.net/
  eur-BE: http://be.php.net/
  eur-BE: http://be2.php.net/
  sam-BR: http://br.php.net/
  sam-BR: http://br2.php.net/
  nam-CA: http://ca.php.net/
  nam-CA: http://ca2.php.net/
  nam-CA: http://ca3.php.net/
  asi-CN: http://cn.php.net/
  asi-CN: http://cn2.php.net/
  sam-CR: http://cr2.php.net/
  eur-CZ: http://cz.php.net/
  eur-DK: http://dk.php.net/
  eur-DK: http://dk2.php.net/
  eur-FR: http://fr.php.net/
  eur-FR: http://fr2.php.net/
  eur-FR: http://fr3.php.net/
  eur-DE: http://de.php.net/
  eur-DE: http://de2.php.net/
  eur-DE: http://de3.php.net/
  eur-GR: http://gr.php.net/
  eur-GR: http://gr2.php.net/
  eur-HU: http://hu.php.net/
  eur-HU: http://hu2.php.net/
  asi-ID: http://id.php.net/
  eur-IE: http://ie.php.net/
  asi-JP: http://jp.php.net/
  asi-JP: http://jp2.php.net/
  eur-LV: http://lv.php.net/
  nam-MX: http://mx.php.net/
  eur-PL: http://pl.php.net/
  eur-PL: http://pl2.php.net/
  eur-RU: http://ru.php.net/
  eur-RU: http://ru2.php.net/
  eur-SI: http://si.php.net/
  eur-SI: http://si2.php.net/
  eur-SE: http://se.php.net/
  eur-SE: http://se2.php.net/
  eur-CH: http://ch.php.net/
  eur-CH: http://ch2.php.net/
  asi-TW: http://tw.php.net/
  asi-TW: http://tw2.php.net/
  eur-UA: http://ua.php.net/
  eur-UA: http://ua2.php.net/
  eur-UK: http://uk.php.net/
  eur-UK: http://uk2.php.net/
  nam-US: http://us2.php.net/
  nam-US: http://us3.php.net/  
  nam-US: http://us4.php.net/  
  nam-US: http://www.php.net/  
  eur-YU: http://yu.php.net/
<<
###
Source: mirror:custom:distributions/php-%v.tar.bz2
Source-MD5: 66a806161d4a2d3b5153ebe4cd0f2e1c
Source2: ftp://ftp.cac.washington.edu/imap/old/imap-2004e.tar.Z
Source2-MD5: deee044b2dcaf6fe12dc545673906ac5
Source3: http://pear.php.net/install-pear-nozlib.phar
Source3-MD5: 1030f325e0ce140db7cb3063bda52d3b
###
PatchScript: <<
  ### Fix for gd/freetype
  ### Apple's GCC 4 prohibits nested functions
  sed 's|@FINKPREFIX@|%p|g' < %a/%n.patch | patch -p1

  ### Fix c-client
  cd ../imap-2004e; perl -pi -e 's,\@echo Do you want to continue this build anyway\?  Type y or n please\:,\@echo Do you want to continue this build anyway\?  Type y or n please\:\nnone:\n,g' Makefile
  cd ../imap-2004e; perl -pi -e 's,SPOOLDIR=/var/spool MAILSPOOL=/var/mail,SPOOLDIR=%p/var/spool MAILSPOOL=%p/var/mail,g' src/osdep/unix/Makefile
  cd ../imap-2004e; perl -pi -e 's,BASECFLAGS=\"-g -O -Wno-pointer-sign\",BASECFLAGS=\"-g -O\",g' src/osdep/unix/Makefile

  ### Fix for fink's bison
  perl -pi -e 's,bison -,/usr/bin/bison -,g' configure
  perl -pi -e 's,bison -,/usr/bin/bison -,g' genfiles
  perl -pi -e 's,bison -,/usr/bin/bison -,g' run-tests.php
  perl -pi -e 's,bison -,/usr/bin/bison -,g' run-tests2.php
  perl -pi -e 's,bison -,/usr/bin/bison -,g' makedist
  perl -pi -e 's,bison -,/usr/bin/bison -,g' Zend/Zend.dsp
  perl -pi -e 's,bison -,/usr/bin/bison -,g' Zend/Zend.m4
  perl -pi -e 's,bison -,/usr/bin/bison -,g' Zend/ZendTS.dsp
  perl -pi -e 's,bison -,/usr/bin/bison -,g' ext/w32api/w32api.dsp
  perl -pi -e 's,bison -,/usr/bin/bison -,g' win32/php5dll.dsp
  perl -pi -e 's,bison -,/usr/bin/bison -,g' win32/php5dllts.dsp
  perl -pi -e 's,YACC=\"yacc\",YACC=\"/usr/bin/yacc\",g' configure

  ### Fix to allow finks xft2 or xfree4.3
  perl -pi -e 's,for i in \$PHP_FREETYPE_DIR /usr/local /usr; do,for i in \$PHP_FREETYPE_DIR %p /usr/X11R6 /usr/local /usr; do,g' configure

  ### Fix libtool relink
  perl -pi -e 's,need_relink=yes,need_relink=no,g' ltmain.sh

  ### Add db-4.3 support
  perl -pi -e 's,db-4.[1|2|3],db-4.3,g' configure

  ### Fix Zend build on PPC
  perl -pi -e 's,#define u_int32_t uint32_t,/*#define u_int32_t uint32_t*/,g' Zend/zend_strtod.c

  ### mysqli
  perl -pi -e 's,^zend_class_entry,extern zend_class_entry,g' ext/mysqli/php_mysqli.h
  perl -pi -e 's,extern void php_mysqli_connect\(INTERNAL_FUNCTION_PARAMETERS\);,extern void php_mysqli_connect\(INTERNAL_FUNCTION_PARAMETERS\);\n\nzend_class_entry *mysqli_link_class_entry;\nzend_class_entry *mysqli_stmt_class_entry;\nzend_class_entry *mysqli_result_class_entry;\nzend_class_entry *mysqli_driver_class_entry;\nzend_class_entry *mysqli_warning_class_entry;\nzend_class_entry *mysqli_exception_class_entry;,g' ext/mysqli/mysqli.c

  ### Fix LAYOUT to be all versioned
  perl -pi -e 's,PEAR_INSTALLDIR=\$datadir/pear,PEAR_INSTALLDIR=\$datadir/pear5,'g configure
  perl -pi -e 's,libdir=\$libdir/php,libdir=\$libdir/php5,g' configure
  perl -pi -e 's,datadir=\$datadir/php,datadir=\$datadir/php5,g' configure
  perl -pi -e 's,extbasedir=\$extbasedir-debug,extbasedir=\$extbasedir,g' configure
  perl -pi -e 's,php/build,php5/build,g' scripts/Makefile.frag
  perl -pi -e 's,\$\(includedir\)/php,\$\(includedir\)/php5,g' scripts/Makefile.frag

  perl -pi -e 's,php,php5,g' scripts/php-config.in
  perl -pi -e 's,php/build,php5/build,g' scripts/phpize.in
  perl -pi -e 's,include/php,include/php5,g' scripts/phpize.in

  cp ../install-pear-nozlib.phar pear/

  ### Fix thread-safety
  perl -pi -e 's,enable_maintainer_zts=no,enable_maintainer_zts=yes,g' configure
<<
### Fix for 10.3 dns stuff & apr & snmp
SetCFLAGS: -DBIND_8_COMPAT -I%p/include/apr-0
###
DocFiles: <<
  CODING_STANDARDS CREDITS EXTENSIONS NEWS README* LICENSE TODO
  Zend/LICENSE:LICENSE.Zend TSRM/LICENSE:LICENSE.TSRM
<<
###
ConfigureParams: --enable-thread-safety --with-ming=%p --with-db4=%p --enable-dba --with-gdbm=%p --enable-dbx --with-zlib-dir=/usr --enable-ucd-snmp-hack --without-mcal --without-recode --enable-force-cgi-redirect --enable-maintainer-zts --without-mm --program-suffix=5 --disable-debug --enable-safe-mode --enable-memory-limit --with-layout=GNU --enable-calendar --disable-sysvmsg --disable-sysvsem --disable-sysvshm --enable-track-vars --enable-trans-sid --enable-bcmath --with-bz2=%p --enable-ctype --with-iconv=%p --enable-exif --enable-flatfile --enable-filepro --enable-ftp --with-libxml-dir=%p --with-gettext=%p --enable-mbstring --enable-shmop --enable-sockets --enable-wddx --enable-soap --enable-sqlite-utf8 --with-pcre-regex --with-expat-dir=%p --enable-yp --with-zlib --with-kerberos=/usr --with-openssl --without-sybase-ct --with-regex=php --disable-rpath --disable-static --with-exec-dir=%p/lib/php5/libexec --mandir=%p/share/man
###
CompileScript: <<
  ### Configure for apache2
  if [ -d apache-build ]; then rm -rf apache-build; fi
  mkdir -p apache-build
  mkdir -p apache-build/ext/dba/libcdb
  mkdir -p apache-build/ext/dba/libflatfile
  mkdir -p apache-build/ext/sqlite/libsqlite/src
  cd apache-build; YACC="/usr/bin/bison -y" ../configure %c --with-apxs2=%p/sbin/apxs --with-config-file-path=%p/etc/php5/apache2 --with-imap-ssl=%p --with-xmlrpc=shared --with-xsl=shared,%p --with-gmp=shared,%p --with-curl=shared,%p --with-gd=shared,%p --with-tiff-dir=%p --with-jpeg-dir=%p --with-xpm-dir=shared,/usr/X11R6 --with-png-dir=%p --with-freetype-dir=shared,%p --with-imap=shared,%p/share/c-client --with-ldap=shared,%p --with-ldap-sasl=%p --with-mhash=shared,%p --with-mcrypt=shared,%p --with-mysql=shared,%p --with-sqlite=shared,%p --with-mysqli=shared,%p/bin/mysql_config --with-pgsql=shared,%p --with-unixODBC=shared,%p --with-t1lib=%p --with-ttf=%p --with-snmp=shared,%p

  ### Fix for dlcompat
  perl -pi -e 's,#define HAVE_MACH_O_DYLD_H 1,#undef HAVE_MACH_O_DYLD_H,g' apache-build/main/php_config.h

  ### Configure for cgi
  if [ -d cgi-build ]; then rm -rf cgi-build; fi
  mkdir -p cgi-build
  cd cgi-build; YACC="/usr/bin/bison -y" ../configure %c --with-config-file-path=%p/etc/php5/cgi --without-mm --without-mysql --without-pgsql

  ### Fix for dlcompat
  perl -pi -e 's,#define HAVE_MACH_O_DYLD_H 1,#undef HAVE_MACH_O_DYLD_H,g' cgi-build/main/php_config.h

  ### Build c-client objects
  cd ../imap-2004e; make osx SSLTYPE=unix SSLDIR=%p SSLCERTS=%p/etc/ssl EXTRACFLAGS=-fno-common

  ### copy objects to ext/imap dir for linking
  for i in dummy fdstring flstring imap4r1 mail mbx mh misc mmdf mtx mx netmsg news newsrc nntp osdep phile pop3 pseudo rfc822 siglocal smanager smtp tenex unix utf8; do cp %b/../imap-2004e/c-client/$i.o %b/apache-build/ext/imap/$i.o; done

  perl -pi -e 's,-lc-client,ext/imap/osdep.o ext/imap/mail.o ext/imap/misc.o ext/imap/newsrc.o ext/imap/smanager.o ext/imap/utf8.o ext/imap/siglocal.o ext/imap/dummy.o ext/imap/pseudo.o ext/imap/netmsg.o ext/imap/flstring.o ext/imap/fdstring.o ext/imap/rfc822.o ext/imap/nntp.o ext/imap/smtp.o ext/imap/imap4r1.o ext/imap/pop3.o ext/imap/unix.o ext/imap/mbx.o ext/imap/mmdf.o ext/imap/tenex.o ext/imap/mtx.o ext/imap/news.o ext/imap/phile.o ext/imap/mh.o ext/imap/mx.o,g' apache-build/Makefile

  ### Make for apache2
  cd apache-build; make

  ### Make for cgi
  cd cgi-build; make
  mv cgi-build/sapi/cli/php cgi-build/php5.cgi

  ### Hack to not reconfigure cgi twice
  cd cgi-build; perl -pi -e 's/FORCE_CGI_REDIRECT 1/FORCE_CGI_REDIRECT 0/g' main/php_config.h
  cd cgi-build; perl -pi -e 's/DISCARD_PATH 0/DISCARD_PATH 1/g' main/php_config.h
  cd cgi-build; make clean
  cd cgi-build; make
  mv cgi-build/sapi/cli/php cgi-build/php5

  ### sanitize php.ini file
  cat php.ini-dist | tr "\t" " " > php.ini-dist.new
  mv php.ini-dist.new php.ini-dist

  ### Fix module path in conf file
  perl -pi -e 's,\.\/,\/,g' php.ini-dist
<<
###
InstallScript: <<
  ### installing default config files
  mkdir -p %i/etc/php5/apache2
  mkdir -p %i/etc/php5/cgi
  install -m 644 php.ini-dist %i/etc/php5/apache2/php.ini
  install -m 644 php.ini-dist %i/etc/php5/cgi/php.ini

  ### for libapache2-ssl-mod-php5
  mkdir -p %i/lib/apache2/modules
  install -m 644 apache-build/libs/libphp5.so %i/lib/apache2/modules

  ### install modules' files
  cd apache-build && make install-modules INSTALL_ROOT=%d
  cd apache-build && make install-pear INSTALL_ROOT=%d
  cd apache-build && make install-build INSTALL_ROOT=%d
  cd apache-build && make install-headers INSTALL_ROOT=%d
  cd apache-build && make install-programs INSTALL_ROOT=%d

  ### Fix pear
  perl -pi -e 's,bin/php\",bin/php5\",g' %i/bin/pear
  perl -pi -e 's,PHP=php\",PHP=php5\",g' %i/bin/pear
  perl -pi -e 's,bin/php\",bin/php5\",g' %i/bin/peardev
  perl -pi -e 's,PHP=php\",PHP=php5\",g' %i/bin/peardev
  perl -pi -e 's,bin/php\",bin/php5\",g' %i/bin/pecl
  perl -pi -e 's,PHP=php\",PHP=php5\",g' %i/bin/pecl
  perl -pi -e 's,pear\.conf,pear5\.conf,g' %i/share/pear5/PEAR/Config.php
  perl -pi -e 's,/usr/local/bin/gpg,%p/bin/gpg,g' %i/share/pear5/PEAR/Config.php
  perl -pi -e "s,'php','php5',g" %i/share/pear5/PEAR/Config.php
  perl -pi -e 's,try \"pear,try \"pear5,g' %i/share/pear5/PEAR/Command/Remote.php
  perl -pi -e "s,'pear','pear5',g" %i/share/pear5/pearcmd.php
  perl -pi -e "s,'pecl','pecl5',g" %i/share/pear5/peclcmd.php
  ### FIXME Need to count %p 11 -3 + %p
  OLD=`/usr/bin/perl fink/fixpearconf conf %i/etc/pear.conf`; NEW=`/usr/bin/perl fink/fixpearconf new %p`; perl -pi -e 's,'${OLD}','${NEW}',g' %i/etc/pear.conf
  mv %i/bin/pear %i/bin/pear5
  mv %i/bin/pecl %i/bin/pecl5
  mv %i/bin/peardev %i/bin/pear5dev
  mv %i/etc/pear.conf %i/etc/pear5.conf

  install -m 755 cgi-build/php5 %i/bin/php5
  mkdir -p %i/lib/cgi-bin
  install -m 755 cgi-build/php5.cgi %i/lib/cgi-bin/php5

  ### Make needed links
  ln -s %p/lib/php5/20050922-zts %i/lib/php5/libexec

  ### Remove un needed files
  rm -rf %i/lib/php5/20050922-zts/*.a
  rm -rf %i/../.channels %i/../.depdb %i/../.depdblock %i/../.filemap %i/../.lock %i/../.registry
<<
###
SplitOff: <<
  Package: libapache2-ssl-mod-php5
  Depends: apache2-ssl (>= 2.0.58-1), apache2-ssl-nothread, apr-ssl-shlibs, bzip2-shlibs, db43-ssl-shlibs, expat-shlibs, gdbm3-shlibs, libxml2-shlibs, ming-shlibs, openldap23-shlibs, openssl097-shlibs
  Replaces: libapache2-mod-php5, libapache-ssl-mod-php5, libapache-mod-php5
  Conflicts: libapache2-mod-php5, libapache-ssl-mod-php5, libapache-mod-php5
  ConfFiles: %p/etc/php5/apache2/php.ini
  Files: <<
    etc/php5/apache2
    lib/apache2
  <<
  DocFiles: php.ini-dist LICENSE
  Description: Server-side, HTML-embedded scripting language
  DescDetail: <<
    This package provides the loadable module for the apache webserver. Compiled
    in modules are: bcmath, bz2, calendar, ctype, exif, ftp, gettext, iconv, 
    mbstring, openssl, overload, pcre, posix, session, shmop, sockets,
    standard, tockenizer, wddx, xslt, xml, yp, and zlib.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write dynamically
    generated pages quickly.
    .
    The most significant change between php3 and php5 is the new parser engine
    called Zend, which boosts performance quite impressively.
  <<
  PostInstScript: <<
    echo "PHP4 and PHP5 can *NOT* be activated in the same apache session at"
    echo "the same time.  If apache fails to load make sure you are only"
    echo "loading one of them by removing the LoadModule line or removing one"
    echo "of the packages."
    echo ""
    MODULENAME=php5
    APXS=%p/sbin/apxs
    MOD_PREFIX=`$APXS -q LIBEXECDIR`
    MODULE=$MOD_PREFIX/lib$MODULENAME.so

    echo "Enabling mod_$MODULENAME module..."

    $APXS -e -a -n $MODULENAME $MODULE
    %p/sbin/apachectl graceful
  <<
  PreRmScript: <<
    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    MODULENAME=php5
    APXS=%p/sbin/apxs
    MOD_PREFIX=`$APXS -q LIBEXECDIR`
    MODULE=$MOD_PREFIX/lib$MODULENAME.so

    echo "Disabling mod_$MODULENAME module..."

    $APXS -e -A -n $MODULENAME $MODULE
    %p/sbin/apachectl graceful
  <<
<<
SplitOff2: <<
  Package: %N-cgi
  Depends: bzip2-shlibs, libxml2-shlibs, openssl097-shlibs
  Conflicts: php5-apache2-cgi, php5-apache-ssl-cgi, php5-apache-cgi
  Replaces: php5-apache2-cgi, php5-apache-ssl-cgi, php5-apache-cgi
  Provides: php5-ssl-cgi
  ConfFiles: %p/etc/php5/cgi/php.ini
  Files: <<
    etc/php5/cgi
    bin/php5
    lib/cgi-bin
  <<
  DocFiles: php.ini-dist LICENSE
  Description: Server-side, HTML-embedded scripting language
  DescDetail: <<
    This package provides the CGI module for command line. Compiled
    in modules are: bcmath, bz2, calendar, ctype, exif, ftp, gettext, iconv,
    mbstring, openssl, overload, pcre, posix, session, shmop, sockets,
    standard, tockenizer, wddx, xslt, xml, yp, and zlib.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
    .
    The most significant change between php3 and php5 is the new parser engine
    called Zend, which boosts performance quite impressively.
  <<
<<
SplitOff3: <<
  Package: %N-dev
  Conflicts: php5-apache2-dev, php5-apache-ssl-dev, php5-apache-dev, php4-apache2-dev, php4-apache2-ssl-dev
  Replaces: php5-apache2-dev, php5-apache-ssl-dev, php5-apache-dev, php4-apache2-dev, php4-apache2-ssl-dev
  Provides: php5-ssl-dev
  Files: <<
    bin/php-config5
    bin/phpize5
    include
    lib/php5/build
    share/man/man1/php-config5.1
    share/man/man1/phpize5.1
  <<
  DocFiles: LICENSE
  Description: Files for PHP5 module development
  DescDetail: <<
    This package provides the files from the PHP5 source needed for compiling
    additional modules.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
    .
    The most significant change between php3 and php5 is the new parser engine
    called Zend, which boosts performance quite impressively.
  <<
<<
SplitOff4: <<
  Package: %N-pear
  Depends: %N-cgi
  Conflicts: php5-apache2-pear, php5-apache-ssl-pear, php5-apache-pear
  Replaces: php5-apache2-pear, php5-apache-ssl-pear, php5-apache-pear
  Provides: php5-ssl-pear
  ConfFiles: %p/etc/pear5.conf
  Files: <<
    bin/pear5
    bin/pear5dev
    bin/pecl5
    share/pear5
    etc/pear5.conf
  <<
  DocFiles: pear/install-pear.txt LICENSE
  Description: PEAR - PHP Extension and Application Repository
  DescDetail: <<
    This package contains PEAR files for php5. That is plenty of classes for
    easier and cleaner manipulation with eg. databases.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
<<
SplitOff5: <<
  Package: %N-curl
  Depends: %N, curl-unified, libcurl3-unified-shlibs, openssl097-shlibs
  Conflicts: php5-apache2-curl, php5-apache-ssl-curl, php5-apache-curl
  Replaces: php5-apache2-curl, php5-apache-ssl-curl, php5-apache-curl
  Provides: php5-ssl-curl
  Files: lib/php5/20050922-zts/curl.so
  DocFiles: LICENSE
  Description: CURL module for php5
  DescDetail: <<
    CURL is a library for getting files from  FTP, GOPHER, HTTP server.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=curl

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=curl

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff6: <<
  Package: %N-gd
  Depends: %N, gd2-shlibs, t1lib5-shlibs, libpng3-shlibs, libjpeg-shlibs
  Conflicts: php5-apache2-gd, php5-apache-ssl-gd, php5-apache-gd
  Replaces: php5-apache2-gd, php5-apache-ssl-gd, php5-apache-gd
  Provides: php5-ssl-gd
  Files: lib/php5/20050922-zts/gd.so
  DocFiles: LICENSE
  Description: GD module for php5
  DescDetail: <<
    This package provides a module for handling graphics directly from PHP
    scripts. It supports the PNG, JPEG, XPM and ttf fonts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=gd

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=gd

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff7: <<
  Package: %N-imap
  Depends: %N, openssl097-shlibs
  Conflicts: php5-apache2-imap, php5-apache-ssl-imap, php5-apache-imap
  Replaces: php5-apache2-imap, php5-apache-ssl-imap, php5-apache-imap
  Provides: php5-ssl-imap
  Files: lib/php5/20050922-zts/imap.so
  DocFiles: LICENSE
  Description: IMAP module for php5
  DescDetail: <<
    This package provides a module for IMAP functions in PHP scripts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=imap

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=imap

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff8: <<
  Package: %N-ldap
  Depends: %N, cyrus-sasl2-shlibs, db43-ssl-shlibs, openldap23-shlibs
  Conflicts: php5-apache2-ldap, php5-apache-ssl-ldap, php5-apache-ldap
  Replaces: php5-apache2-ldap, php5-apache-ssl-ldap, php5-apache-ldap
  Provides: php5-ssl-ldap
  Files: lib/php5/20050922-zts/ldap.so
  DocFiles: LICENSE
  Description: LDAP module for php5
  DescDetail: <<
    This package provides a module for LDAP functions in PHP scripts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=ldap

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=ldap

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff9: <<
  Package: %N-mcrypt
  Depends: %N, libmcrypt-shlibs, libtool14-shlibs
  Conflicts: php5-apache2-mcrypt, php5-apache-ssl-mcrypt, php5-apache-mcrypt
  Replaces: php5-apache2-mcrypt, php5-apache-ssl-mcrypt, php5-apache-mcrypt
  Provides: php5-ssl-mcrypt
  Files: lib/php5/20050922-zts/mcrypt.so
  DocFiles: LICENSE
  Description: MCRYPT module for php5
  DescDetail: <<
    This package provides a module for MCRYPT functions in PHP scripts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mcrypt

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mcrypt

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff10: <<
  Package: %N-mhash
  Depends: %N, libmhash-shlibs (>= 0.8.18-2)
  Conflicts: php5-apache2-mhash, php5-apache-ssl-mhash, php5-apache-mhash
  Replaces: php5-apache2-mhash, php5-apache-ssl-mhash, php5-apache-mhash
  Provides: php5-ssl-mhash
  Files: lib/php5/20050922-zts/mhash.so
  DocFiles: LICENSE
  Description: MHASH module for php5
  DescDetail: <<
    This package provides a module for MHASH functions in PHP scripts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mhash

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mhash

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff11: <<
  Package: %N-mysql
  Depends: %N, mysql14-shlibs
  Conflicts: php5-apache2-mysql, php5-apache-ssl-mysql, php5-apache-mysql
  Replaces: php5-apache2-mysql, php5-apache-ssl-mysql, php5-apache-mysql
  Provides: php5-ssl-mysql
  Files: lib/php5/20050922-zts/mysql.so
  DocFiles: LICENSE
  Description: MySQL module for php5
  DescDetail: <<
    This package provides a module for MySQL database connections directly from
    PHP scripts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mysql

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mysql

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff12: <<
  Package: %N-mysqli
  Depends: %N, mysql14-shlibs
  Conflicts: php5-apache2-mysqli, php5-apache-ssl-mysql, php5-apache-mysql
  Replaces: php5-apache2-mysqli, php5-apache-ssl-mysql, php5-apache-mysql
  Provides: php5-ssl-mysqli
  Files: lib/php5/20050922-zts/mysqli.so
  DocFiles: LICENSE
  Description: MySQLi module for php5
  DescDetail: <<
    This package provides a module for MySQLi database connections directly from
    PHP scripts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=mysqli

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=mysqli

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<

SplitOff13: <<
  Package: %N-odbc
  Depends: %N, unixodbc2-shlibs | unixodbc2-nox-shlibs
  Conflicts: php5-apache2-odbc, php5-apache-ssl-odbc, php5-apache-odbc
  Replaces: php5-apache2-odbc, php5-apache-ssl-odbc, php5-apache-odbc
  Provides: php5-ssl-odbc
  Files: lib/php5/20050922-zts/odbc.so
  DocFiles: LICENSE
  Description: ODBC module for php5
  DescDetail: <<
    This package provides a module for database access through ODBC drivers.
    It uses the unixODBC library as an ODBC provider.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=odbc

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=odbc

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff14: <<
  Package: %N-pgsql
  Depends: %N, postgresql80-unified-shlibs
  Conflicts: php5-apache2-pgsql, php5-apache-ssl-pgsql, php5-apache-pgsql
  Replaces: php5-apache2-pgsql, php5-apache-ssl-pgsql, php5-apache-pgsql
  Provides: php5-ssl-pgsql
  Files: lib/php5/20050922-zts/pgsql.so
  DocFiles: LICENSE
  Description: PostgreSQL module for php5
  DescDetail: <<
    This package provides a module for PostgreSQL database connections directly
    from PHP scripts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=pgsql

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=pgsql

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff15: <<
  Package: %N-snmp
  Depends: %N, openssl097-shlibs, net-snmp-unified15-shlibs
  Conflicts: php5-apache2-snmp, php5-apache-ssl-snmp, php5-apache-snmp
  Replaces: php5-apache2-snmp, php5-apache-ssl-snmp, php5-apache-snmp
  Provides: php5-ssl-snmp
  Files: lib/php5/20050922-zts/snmp.so
  DocFiles: LICENSE
  Description: SNMP module for php5
  DescDetail: <<
    This package provides a module for SNMP functions in PHP scripts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=snmp

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=snmp

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff17: <<
  Package: %N-gmp
  Depends: %N, gmp-shlibs (>= 4.1.4-1), libmpfr1-shlibs
  Conflicts: php5-apache2-gmp, php5-apache-ssl-gmp, php5-apache-gmp
  Replaces: php5-apache2-gmp, php5-apache-ssl-gmp, php5-apache-gmp
  Provides: php5-ssl-gmp
  Files: lib/php5/20050922-zts/gmp.so
  DocFiles: LICENSE
  Description: GNU MP module for php5
  DescDetail: <<
    This package provides a module for GNU MP (gmp) functions in PHP scripts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=gmp

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=gmp

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff19: <<
  Package: %N-sqlite
  Depends: %N, sqlite-shlibs
  Conflicts: php5-apache2-sqlite, php5-apache-ssl-sqlite, php5-apache-sqlite
  Replaces: php5-apache2-sqlite, php5-apache-ssl-sqlite, php5-apache-sqlite
  Provides: php5-ssl-sqlite
  Files: lib/php5/20050922-zts/sqlite.so
  DocFiles: LICENSE
  Description: SQLite module for php5
  DescDetail: <<
    This package provides a module for sqlite functions in PHP scripts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=sqlite

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=sqlite

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff21: <<
  Package: %N-xsl
  Depends: %N, libxslt-shlibs, libxml2-shlibs
  Conflicts: php5-apache2-xsl, php5-apache-ssl-xsl, php5-apache-xsl
  Replaces: php5-apache2-xsl, php5-apache-ssl-xsl, php5-apache-xsl
  Provides: php5-ssl-xsl
  Files: lib/php5/20050922-zts/xsl.so
  DocFiles: LICENSE
  Description: (e)xslt module for php5
  DescDetail: <<
    This package provides a module for (e)xslt functions in PHP scripts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=xsl

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=xsl

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
SplitOff22: <<
  Package: %N-xmlrpc
  Depends: %N, expat-shlibs, libiconv
  Conflicts: php5-apache2-xmlrpc, php5-apache-ssl-xmlrpc, php5-apache-xmlrpc
  Replaces: php5-apache2-xmlrpc, php5-apache-ssl-xmlrpc, php5-apache-xmlrpc
  Provides: php5-ssl-xmlrpc
  Files: lib/php5/20050922-zts/xmlrpc.so
  DocFiles: LICENSE
  Description: XMLRPC-EPI module for php5
  DescDetail: <<
    This package provides a module for XMLRPC-EPI functions in PHP scripts.
    .
    PHP5 is an HTML-embedded scripting language. Much of its syntax is borrowed
    from C, Java and Perl with a couple of unique PHP-specific features thrown
    in. The goal of the language is to allow web developers to write
    dynamically generated pages quickly.
  <<
  PostInstScript: <<
    module=xmlrpc

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if ! grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are installing \"$module\" support for php5, but it's not"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "To enable it you need to add this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to add it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            echo "extension=%p/lib/php5/libexec/$module.so" >> %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
  PreRmScript: <<
    module=xmlrpc

    if [ "$1" != "remove" -a "$1" != "purge" ]; then
      exit 0
    fi

    for conf in apache apache2 cgi; do
      if [ -f %p/etc/php5/$conf/php.ini ]; then
        if grep -q "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" %p/etc/php5/$conf/php.ini; then
          echo "You are removing \"$module\" support for php5, but it is still"
          echo "enabled in your %p/etc/php5/$conf/php.ini."
          echo
          echo "You should remove this line:"
          echo
          echo "extension=%p/lib/php5/libexec/$module.so"
          echo
          echo -n "Do you want me to do it now [Y/n] ?"
          read a
          if ! echo $a | grep -iq ^n; then
            cat %p/etc/php5/$conf/php.ini | grep -v "^[[:space:]]*extension[[:space:]]*=[[:space:]]*%p/lib/php5/libexec/$module.so" > %p/etc/php5/$conf/php.ini.$moduleremove
            mv %p/etc/php5/$conf/php.ini.$moduleremove %p/etc/php5/$conf/php.ini
          fi
        fi
      fi
    done

    exit 0
  <<
<<
###
Description: HTML-embedded server-side scripting language
DescDetail: <<
  PHP is a scripting language that can be embedded into HTML pages. Like
  with CGI scripts, the code is evaluated on the server side (like a CGI
  script), allowing you to generate content dynamically. PHP is
  implemented as a loadable module (DSO) for the Apache web server.
  .
  PHP has interfaces to almost any database, library and API that you
  can think of. PHP is one of the most popular RAD environments for 
  website development, being used by many of todays top web sites and 
  portals.
  .
  PHP is a widely-used Open Source general-purpose scripting language that
  is especially suited for Web development and can be embedded into HTML. Its
  syntax draws upon C, Java, and Perl, and is easy to learn. PHP runs on many
  different platforms and can be used as a standalone executable or as a
  module under a variety of Web servers. It has excellent support for
  databases, XML, LDAP, IMAP, Java, various Internet protocols, and general
  data manipulation, and is extensible via its powerful API. It is actively
  developed and supported by a talented and energetic international team.
  Numerous Open Source and commercial PHP-based application packages are
  available.
  .  
  This packages install an Apache2.x.x DSO module and the PHP CLI.
  .  
  Maintainer for 10.4: Dustin Sias <dustin@coretechnologies.net>
<<
###
License: GPL
Homepage: http://www.php.net/
Maintainer: None <fink-devel@lists.sourceforge.net>
