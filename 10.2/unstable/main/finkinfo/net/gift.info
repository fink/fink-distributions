# $Id$
Package: gift
Version: 0.10.0-20030712
Revision: 1
Source: mirror:custom:%n-%v.tar.bz2
CustomMirror: <<
  First: http://homepage.mac.com/beren/
  Second: http://fink.zubrzycki.org/
<<
Source-MD5: 
SourceDirectory: giFT
Depends: dlcompat, db41-shlibs | db41-ssl-shlibs, libvorbis0-shlibs, imagemagick | imagemagick-nox
BuildDepends: dlcompat, db41 | db41-ssl, automake, autoconf2.5, libtool14, libvorbis0, imagemagick | imagemagick-nox, pkgconfig
Recommends: gift-frontend, gift-plugin
Patch: %n.patch
SetCFLAGS: -I%p/include/db4
NoSetLDFLAGS: true
SetLIBS: -L%p/lib
SetCPPFLAGS: -I%p/include/db4
ConfigureParams: --mandir='${prefix}/share/man' --enable-gnutella
CompileScript: <<
#!/bin/sh -e
# find . -name CVS -type d -print0 | xargs -0 rm -r --
 LIBTOOL=glibtool ./autogen.sh %c
 make
<<
InstallScript: <<
  make install DESTDIR=%d
  mkdir -p %i/etc
  cp -r etc %i/etc/giFT
  mkdir -p %i/share/man/man1
  cp giFT.1 %i/share/man/man1
  mkdir -p %i/share/man/man5
  cp gift.conf.5 %i/share/man/man5
  cp OpenFT.conf.5 %i/share/man/man5
<<
DocFiles: AUTHORS COPYING ChangeLog NEWS TODO doc/DEVELOPERS doc/FAQ doc/INTERFACE doc/README
Description: GNU Internet File Transfer project
DescDetail: <<
giFT is a `recursive' acronym for `giFT: Internet File Transfer'. The
giFT project is actually a collection of several components together:
the giFT daemon (which acts as bridge to the actual file sharing
protocols), OpenFT (a p2p network designed to exploit all the
functionality giFT supports), and a user interface front-end.

Note that giFT is alpha software (but it works!), and is still very much
under development!  You should update *often*.
<<
DescUsage: <<
*********************************************************************
*********************************************************************
****                                                             ****
****    Make sure you run giFT-setup before using giFT           ****
****                                                             ****
****    Especially with versions older than 5/21/2003            ****
****                                                             ****
*********************************************************************
*********************************************************************

I usually open a termnial window and run giFT, and then in another
window run giFT-shell or giFTcurs.

man giFT, OpenFT.conf  and gift.conf. They are your friends
sample config files are in %p/etc/giFT this entire dir can be copied to
~/.giFT

please do not beg for help on #gift. They *will* flame you if the
information you seek is in the docs. You have been warned.

You can ask me for help in #fink, my nick is cirdan. Just private msg
me.

giFT -d detaches giFT from the term.

Share! (there is no meta-info or resource forks. Files with resource
forks must be encoded somehow: .bin .sit .dmg, etc.)

:-)
<<
DescPort: <<
There is meta information support in this version, and it does not handle
mac resource forks.

#Perl's DynaLoader on OS X is broken, it exports two symbols (dlsym and dlclose)
#which conflict with dlcompat, and break perl support. To work around this, we 
#manually make these symbols static in a very very big hack.

#Damn, I wish Apple would fix this...

--disabled for now:
 cp /System/Library/Perl/darwin/auto/DynaLoader/DynaLoader.a /tmp/DynaLoader.a
 echo "_dlsym" > sym.list
 echo "_dlclose" >> sym.list
 nmedit -R sym.list /tmp/DynaLoader.a
 find . -name "Makefile" -print | xargs perl -p -i -e 's#/System/Library/Perl/darwin/auto/DynaLoader/DynaLoader.a#/tmp/DynaLoader.a#;'
 make
 rm -f /tmp/DynaLoader.a
--

This package may not be moved to the stable/binary tree, unless immidate binary updates may be made my myself, this is to keep the OpenFT network free of stale versions. ( developer request )
This is only a cvs snapshot, and when there is an official binary release, it can be moved to stable.
<<
License: GPL
Maintainer: Chris Zubrzycki <beren12@users.sourceforge.net>
Homepage: http://gift.sourceforge.net/
