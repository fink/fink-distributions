Package: xotcl
Version: 0.9.4
Revision: 2
Source: http://media.wu-wien.ac.at/download/%n-full-%v.tar.gz
Source-MD5: c29a70341bccc130fb5d2b8d0168af35
Source2: ftp://ftp.tcl.tk/pub/tcl/tcl8_3/tcl8.3.4.tar.gz
Source2-MD5: 8777250e03d6be9be7551bfc6e99d252
BuildDepends: tcltk-dev (= 8.3.4-1), gdbm, dlcompat-dev
Depends: tcltk (= 8.3.4-1), tcltk-shlibs (= 8.3.4-1), gdbm-shlibs, %N-shlibs (= %v-%r)
Patch: %f.patch
CompileScript: <<
 ( cd ../tcl8.3.4/unix ; ./configure --enable-shared --prefix=%p --exec-prefix=%p --mandir='${prefix}/share/man' )
 ./configure --with-gdbm=%p/lib --prefix=%p --mandir='${prefix}/share/man' --x-includes=/usr/X11R6/include --x-libraries=/usr/X11R6/lib
 make
<<
InstallScript: <<
 make DESTDIR=%d install
 ( cd %i/lib; ln -s %p/lib/libxotcl0.9.dylib libxotcl.dylib ; ln -s %p/lib/xotcl0.9/store/libxotclgdbm0.9.dylib libxotclgdbm.dylib ; ln -s %p/lib/xotcl0.9/store/libxotclsdbm0.9.dylib libxotclsdbm.dylib ; ln -s %p/lib/xotcl0.9/xml/libxotclexpat0.9.dylib libxotclexpat.dylib )
<<
DocFiles: README COMPILE COPYRIGHT
#
SplitOff: <<
 Package: %N-shlibs
 Description: Shared libraries (tcl modules) for xotcl
 Files: lib/libxotcl0.9.dylib lib/xotcl0.9/store/libxotclgdbm0.9.dylib lib/xotcl0.9/store/libxotclsdbm0.9.dylib lib/xotcl0.9/xml/libxotclexpat0.9.dylib
 DocFiles: README COPYRIGHT
 Shlibs: <<
  %p/lib/libxotcl0.9.dylib 0.9.0 %n (>= 0.9.4-2)
  %p/lib/xotcl0.9/store/libxotclgdbm0.9.dylib 0.9.0 %n (>= 0.9.4-2)
  %p/lib/xotcl0.9/store/libxotclsdbm0.9.dylib 0.9.0 %n (>= 0.9.4-2)
  %p/lib/xotcl0.9/xml/libxotclexpat0.9.dylib 0.9.0 %n (>= 0.9.4-2)
 <<
<<
SplitOff2: <<
 Package: %N-dev
 Description: Development files for xotcl
 Files: include lib/libxotclstub0.9.a lib/libxotclexpat.dylib lib/libxotclsdbm.dylib lib/libxotcl.dylib lib/libxotclgdbm.dylib
 DocFiles: README COPYRIGHT
 BuildDependsOnly: true
<<
#
Description: Object-oriented library for tcl scripting
DescDetail: <<
XOTcl is an object-oriented scripting language based on Tcl and MIT's
OTcl object extension.
<<
DescUsage: <<
Run the xotclsh or xowish binary. Alternatively, the xotcl library can
be loaded into tclsh at runtime via the tcl package command.
<<
DescPort: <<
Xotcl requires the tcl 8.3 source to build. Since it's impossible to
rely on the presence of the original tcltk source and configuration,
the tcltk source is downloaded and configured again. Tcl/tk v8.3.4 is
used because it configures more cleanly. [Note: for tcl versions prior to
8.3.4, tcl requires a bundle library for loadable modules. However,
for tcl version 8.3.4, tcl requires a dynamic object for loadable
modules.]

Patched configure and Makefile.in files to find libraries from fink.
Patched configure script to insert version information into shlib
flags.  Patched the Makefiles to add ranlibs for static (stub)
libraries in appropriate places.  Patched Makefile.in files to fix
installation targets.
<<
Homepage: http://media.wu-wien.ac.at/
License: BSD
Maintainer: David Bacher <drbacher@alum.mit.edu>
