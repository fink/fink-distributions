Package: libpci3-shlibs 
Version: 3.10.0
Revision: 1
Description: Libpci3 shared libraries
License: GPL
# Free to modify, update, and take over
Maintainer: Hanspeter Niederstrasser <nieder@users.sourceforge.net>

BuildDepends: <<
	pkgconfig (>= 0.23)
<<

Source: https://mj.ucw.cz/download/linux/pci/pciutils-%v.tar.gz
#Source: https://github.com/pciutils/pciutils/archive/refs/tags/v3.10.0.tar.gz
#SourceRename: pciutils-%v.tar.gz
Source-Checksum: SHA256(7deabe38ae5fa88a96a8c4947975cf31c591506db546e9665a10dddbf350ead0)
PatchFile: %n.patch
PatchFile-MD5: 7427e765f03353d91fbf1aa286e45f9d
PatchScript: <<
	%{default_script}
	perl -ni -e 'print unless /Libs.private:/' lib/libpci.pc.in
<<

CompileScript: <<
	make ZLIB=yes DNS=yes SHARED=yes PREFIX=%p
<<
InstallScript: <<
	make install install-lib DESTDIR=%d PREFIX=%p
	ln -s %p/lib/libpci.3.dylib %i/lib/libpci.dylib
<<
Shlibs: <<
	%p/lib/libpci.3.dylib 3.0.0 %n (>= 3.10.0-1)
<<
DocFiles: ChangeLog COPYING README
#
SplitOff: <<
	Package: pciutils
	Description: PCI utilities
	Files: <<
		sbin
		share/pci.ids.gz
		share/man/man{5,7,8}
	<<
	Depends: <<
		libpci3-shlibs (>= %v-%r)
	<<
	DocFiles: ChangeLog COPYING README
<<
#
SplitOff2: <<
	Package: libpci3-dev
	Conflicts: libpci3-dev
	Replaces: libpci3-dev
	Description: Libpci3 development headers
	Depends: libpci3-shlibs (= %v-%r)
	BuildDependsOnly: True
	Files: <<
		include
		lib/libpci.dylib
		lib/pkgconfig
	<<
	DocFiles: ChangeLog COPYING README
<<
Homepage: https://mj.ucw.cz/sw/pciutils/
DescDetail: <<
The PCI Utilities are a collection of programs for inspecting and
manipulating configuration of PCI devices, all based on a common
portable library libpci which offers access to the PCI configuration
space on a variety of operating systems.
<<
DescUsage: <<
PCI Utils may need to be run as root with SIP disabled to gather any details.
* Boot into Rescue Mode, disable SIP, reboot, then run the command:
	sudo nvram boot-args="debug=0x144"
* May need to reboot again.
<<
