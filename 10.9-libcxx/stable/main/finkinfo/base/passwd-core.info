Package: passwd-core
Version: 20230717
Revision: 1

BuildDepends: fink (>= 0.33.0), autorevision
Replaces: passwd ( << 20130103-1 ), passwd-configs

Source: https://github.com/fink/%n/releases/download/%v/%n-%v.tgz
Source-Checksum: SHA256(141b89ad66c48a463f5c8c9a2be7b0916d09537db9ffa8e6742e2bdfb0012625)
SourceRename: passwd-%v.tgz
SourceDirectory: passwd-%v

CompileScript: make all DESTDIR=%d prefix=%p

InstallScript: make install DESTDIR=%d prefix=%p
ConfFiles: %p/etc/passwd.conf

Recommends: <<
    bash,
    asciidoc-a2x
<<

SplitOff98: <<
  Package: passwd-configs
  Depends: passwd-core (>= 20230717-1)
  Description: OBSOLETE: use package 'passwd-core' instead
  RuntimeDepends: fink-obsolete-packages
  DocFiles: README.md README.removing-users.md
<<

SplitOff99: <<
  Package: passwd
  Depends: passwd-core (>= 20130103-1)
  Description: OBSOLETE: use package 'passwd-core' instead
  RuntimeDepends: fink-obsolete-packages
  DocFiles: README.md README.removing-users.md
<<
## New users are added as separate passwd-FOO.info files in the 'base' section.

DocFiles: README.md README.removing-users.md README.passwd-configs.md NEWS
#
Description: User and group entries for daemons: core pkg
DescDetail: <<
This package facilitates the addtions of various administrative user and group
entries to your user database. These are needed to protect the data of several
daemons (e.g. news server, database server).
<<
DescUsage: <<
Packages that require a specific user (@user@), should set Depends: on
'passwd-@user@'.  Packages that currently depend on 'passwd' (the legacy
non-split package) can be upgraded at will to use their needed passwd-@user@
package.

As of version 20230529, the data required for each user has been migrated into
its own package, rather than relying on a central database from passwd-core.
The format is:

	update-passwd -n <Short-Name> -g <Group-Name> [-h <Home-Dir>] [-s <Shell>] -i <Info-String> -m <Group-Members>

or

	update-passwd -g <Group-Name> -m <Group-Members>

for entries which are only groups.

See the manpage for more details.
<<
DescPackaging: <<
20131113 (nieder):
Each user:group is now controlled by an independent package. Packages that
require a specific user should depend on 'passwd-@user@' and not on the
base package 'passwd'.
<<
License: Public Domain
Maintainer: Fink Core Group <fink-core@lists.sourceforge.net>
Homepage: https://github.com/fink/passwd
