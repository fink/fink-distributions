# -*- coding: ascii; tab-width: 4 -*-
Info2: <<
Package: pre-commit-py%type_pkg[python]
Version: 4.1.0
Revision: 1
Type: python (3.9 3.10)

Description: Framework for multi-language pre-commit hooks
Maintainer: Scott Hannahs <shannahs@users.sourceforge.net>
License: BSD
Homepage: https://pypi.org/project/pre-commit/

Source: https://files.pythonhosted.org/packages/source/p/pre_commit/pre_commit-%v.tar.gz
Source-Checksum: SHA256(ae3f018575a588e30dfddfab9a05448bfbd6b73d78709617b5a2b853549716d4)

Depends: python%type_pkg[python]
BuildDepends: <<
	fink (>= 0.24.12),
	setuptools-tng-py%type_pkg[python],
	covdefaults-py%type_pkg[python] (>=2.2),
	coverage-py%type_pkg[python],
	distlib-py%type_pkg[python],
	re-assert-py%type_pkg[python],
	cfgv-py%type_pkg[python],
	identify-py%type_pkg[python],
	yaml-py%type_pkg[python]
<<
CompileScript: <<
	%p/bin/python%type_raw[python] setup.py build
<<

# test_async_keywords fails on <3.5 because only 3.5+ supports async.
#		pytest-env-py%type_pkg[python]
InfoTest: <<
	TestDepends: <<
		pytest-py%type_pkg[python]
	<<
	TestScript: PYTHONPATH=. %p/bin/python%type_raw[python] test_mccabe.py || exit 1
<<

InstallScript: <<
    #!/bin/bash -ev
    export LC_ALL=en_US.UTF-8
	%p/bin/python%type_raw[python] setup.py install --root=%d
	for file in pre-commit; do
       mv %i/bin/${file} %i/bin/${file}-py%type_pkg[python]
    done
<<

PostInstScript: <<
  update-alternatives --verbose --install "%p/bin/pre-commit" pre-commit "%p/bin/pre-commit-py%type_pkg[python]" %type_pkg[python]
<<

PreRmScript: <<
  if [ $1 != "upgrade" ]; then
    update-alternatives --verbose --remove pre-commit "%p/bin/pre-commit-py%type_pkg[python]"
  fi
<<

DocFiles: LICENSE README.md
#Info2
<<
