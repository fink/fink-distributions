Info2: <<
Package: markdown-py%type_pkg[python]
# 3.7 is the last version to support py38
# v3.8 requires NEWSETUPTOOLS >= 77
Version: 3.7
Revision: 1
Description: Markdown templating in python
License: BSD
# Free to modify, update, and take over
Maintainer: Hanspeter Niederstrasser <nieder@users.sourceforge.net>

Type: python (3.8 3.9 3.10)
Depends: <<
	python%type_pkg[python],
	importlib-metadata-py%type_pkg[python] (>= 4.4)
<<
BuildDepends: <<
	bootstrap-modules-py%type_pkg[python],
	setuptools-tng-py%type_pkg[python] (>= 61.2)
<<
Recommends: pygments-py%type_pkg[python]

Source: https://files.pythonhosted.org/packages/source/M/Markdown/markdown-%v.tar.gz
Source-Checksum: SHA256(2ae2471477cfd02dbbf038d5d9bc226d40def84b4fe2986e49b59b6b472bbed2)

CompileScript: <<
	PYTHONPATH=%p/share/bootstrap-modules-python%type_pkg[python] %p/bin/python%type_raw[python] -m build --wheel --no-isolation --skip-dependency-check
<<
InfoTest: <<
	TestDepends: <<
		coverage-py%type_pkg[python]
	<<
	# py39+ fail several comments tests due to python upstream change in
	# parser in python/cpython#135464. Fixed post %N-v3.10
	# py38 passes all tests
	# See GH#1534, GH#1537, GH#1539, GH#1586, GH#1587
	TestScript: <<
		%p/bin/coverage%type_raw[python] run --source=markdown -m unittest discover `pwd`/tests || exit 1
	<<
<<
InstallScript: <<
	#!/bin/sh -ev
	PYTHONPATH=%p/share/bootstrap-modules-python%type_pkg[python] %p/bin/python%type_raw[python] -m installer --destdir %d dist/*.whl
	mv %i/bin/markdown_py %i/bin/markdown_py%type_pkg[python]
<<

PostInstScript: <<
  update-alternatives --verbose --install "%p/bin/markdown" markdown "%p/bin/markdown_py%type_pkg[python]" %type_pkg[python]
<<

PreRmScript: <<
  if [ $1 != "upgrade" ]; then
    update-alternatives --verbose --remove markdown "%p/bin/markdown_py%type_pkg[python]"
  fi
<<
HomePage: https://pypi.org/project/Markdown
DocFiles: LICENSE.md README.md
DescDetail: <<
  Python implementation of John Gruber's Markdown. It is almost
  completely compliant with the reference implementation.
<<

# Info2
<<
