# -*- coding: ascii; tab-width: 4 -*-
Info2: <<

Package: ipykernel-py%type_pkg[python]
Version: 5.1.1
Revision: 1
Maintainer: Derek Homeier <dhomeie@gwdg.de>
License: BSD
Type: python (3.5 3.6 3.7)
Homepage: https://github.com/ipython/ipykernel
Source: https://files.pythonhosted.org/packages/source/i/ipykernel/ipykernel-%v.tar.gz
Source-Checksum: SHA256(f0e962052718068ad3b1d8bcc703794660858f58803c3798628817f492a8769c)

Depends: <<
    python%type_pkg[python]-shlibs,
    ptyprocess-py%type_pkg[python],
    tornado-py%type_pkg[python] (>= 4.2.0-1),
    traitlets-py%type_pkg[python] (>= 4.2.0-1)
<<

BuildDepends: <<
    python%type_pkg[python],
    ipython-py%type_pkg[python] (>= 4.1.2),
    setuptools-tng-py%type_pkg[python]
<<

CompileScript: python%type_raw[python] setup.py build

InstallScript: <<
    find build/lib -name '*.py[oc]' -exec rm {} \;
    python%type_raw[python] setup.py install --root=%d --install-data=%p/share/ipykernel-py%type_pkg[python]
<<

InfoTest: <<
    TestDepends: <<
        coverage-py%type_pkg[python],
        jupyter-client-py%type_pkg[python],
        nose-py%type_pkg[python],
        ( %type_pkg[python] <= 34 ) backports.abc-py%type_pkg[python]
    <<
    TestScript: <<
        # Sets a `warningfilters` option, which requires https://pypi.org/project/nose_warnings_filters/
        # to be installed - rather move the file out of the way for the tests than adding another package.
        mv setup.cfg setup.broken
        # exclude 4 failing tests; 1 ZeroDivisionError remaining but apparently not raising a test failure
        PYTHONPATH=build/lib %p/bin/nosetests-%type_raw[python] --with-coverage --cover-package ipykernel ipykernel -e test_async_interrupt -e test_sys_path.* -e test_complete || exit 2
        mv setup.broken setup.cfg
    <<
    TestSuiteSize: medium
<<

Description: IPython Kernel for Jupyter

DescDetail: <<
This package provides the IPython kernel for Jupyter.
After installation, all normal ipython commands will use this newly-installed
version of the kernel.
<<

DescPackaging: <<
Tests have circular dependencies with nbconvert and ipython; for testing
install the latter and 'rebuild -m' afterwards.
<<

DocFiles: README.md examples/

# Info2
<<
