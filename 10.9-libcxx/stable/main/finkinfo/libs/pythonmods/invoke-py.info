# -*- coding: ascii; tab-width: 4 -*-
Info4: <<
Package: invoke-py%type_pkg[python]
Version: 1.0.0
Revision: 1
Type: python (2.7 3.5 3.6 3.7)

Description: Pythonic task execution tool & library
DescDetail: <<
Invoke is a Python task execution tool & library, drawing inspiration from
various sources to arrive at a powerful & clean feature set.
Like Ruby's Rake tool and Invoke's own predecessor Fabric 1.x, it provides a
clean, high level API for running shell commands and defining/organizing task
functions from a tasks.py file.

From GNU Make, it inherits an emphasis on minimal boilerplate for common
patterns and the ability to run multiple tasks in a single invocation.

Where Fabric 1.x considered the command-line approach the default mode of use,
Invoke (and tools built on it) are equally at home embedded in your own Python
code or a REPL.

Following the lead of most Unix CLI applications, it offers a traditional
flag-based style of command-line parsing, deriving flag names and value
types from task signatures (optionally, of course!).

Like many of its predecessors, it offers advanced features as well -
namespacing, task aliasing, before/after hooks, parallel execution and more.

For documentation, including detailed installation information, please see
http://pyinvoke.org.
Post-install usage information may be found in invoke --help.
<<

DescPackaging: <<
Needs pytest to run tests and pytest >=3.6 needs invoke; first-time build
just with --validate. Also requires yet another pytest extension module...
<<

Maintainer: Derek Homeier <dhomeie@gwdg.de>
License: BSD
Homepage: http://pyinvoke.org/

Source: https://pypi.io/packages/source/i/invoke/invoke-%v.tar.gz
Source-Checksum: SHA256(21274204515dca62206470b088bbcf9d41ffda82b3715b90e01d71b7a4681921)

Depends: python%type_pkg[python]
BuildDepends: fink (>= 0.32), setuptools-tng-py%type_pkg[python]

CompileScript: %p/bin/python%type_raw[python] setup.py build

InstallScript: <<
	find build -name '*.pyc' -delete
	%p/bin/python%type_raw[python] setup.py install --root=%d
	mv %i/bin/invoke %i/bin/invoke-py%type_pkg[python]
	mv %i/bin/inv %i/bin/inv-py%type_pkg[python]
<<

PostInstScript: <<
	update-alternatives --install %p/bin/invoke invoke %p/bin/invoke-py%type_pkg[python] %type_pkg[python] --slave %p/bin/inv inv %p/bin/inv-py%type_pkg[python]
<<

PreRmScript: <<
	if [ $1 != "upgrade" ]; then
		update-alternatives --remove invoke %p/bin/invoke-py%type_pkg[python]
	fi
<<

InfoTest: <<
	TestDepends: <<
		pytest-py%type_pkg[python],
		pytest-relaxed-py%type_pkg[python],
		decorator-py%type_pkg[python],
		mock-py%type_pkg[python]
	<<
	TestScript: <<
		PYTHONPATH=%b/build/lib %p/bin/pytest-%type_raw[python]
	<<
<<

# ToDo: Sphinx-build docs?
DocFiles: LICENSE PKG-INFO README.rst sites/docs
# Info4
<<
