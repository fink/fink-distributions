# -*- coding: ascii; tab-width: 4; x-counterpart: ipywidgets-py.patch -*-
Info2: <<

Package: ipywidgets-py%type_pkg[python]
Version: 7.4.2
Revision: 1
Maintainer: Derek Homeier <dhomeie@gwdg.de>
License: BSD
Type: python (2.7 3.5 3.6 3.7)
Homepage: https://pypi.org/project/ipywidgets
Source: https://files.pythonhosted.org/packages/source/i/ipywidgets/ipywidgets-%v.tar.gz
Source-MD5: 85224a59406b5167fd16417aed4b7733
Source-Checksum: SHA256(a3e224f430163f767047ab9a042fc55adbcab0c24bbe6cf9f306c4f89fdf0ba3)

Depends: python%type_pkg[python]
BuildDepends: <<
    jupyter-client-py%type_pkg[python] (>= 5.2.4-1),
    jupyter-core-py%type_pkg[python] (>= 4.4.0-1),
    jupyter-sphinx-py%type_pkg[python],
    nbconvert-docs-py%type_pkg[python],
    nbformat-py%type_pkg[python] (>= 4.4.0-1),
    nbsphinx-py%type_pkg[python],
    recommonmark-py%type_pkg[python],
    setuptools-tng-py%type_pkg[python],
    sphinx-py%type_pkg[python] (>= 1.6.2-1),
    ( %type_pkg[python] <= 27 ) async-py%type_pkg[python]
<<

PatchFile: ipywidgets-py.patch
PatchFile-MD5: 6bcf78ec076a22eba472cabc07d30259
PatchScript: <<
    sed 's|@PREFIX@|%p|g;s|@PY_PKG@|%type_pkg[python]|g;s|@PY_RAW@|%type_raw[python]|g' < %{PatchFile} | patch -p1
    # Point example notebooks to versioned python/ipython executables:
    perl -pi -e 's|(ipython)(3)|${1}-py%type_pkg[python]|;s|(python)(3)|${1}%type_raw[python]|;' docs/source/examples/*.ipynb
<<

CompileScript: <<
    python%type_raw[python] setup.py build
    make -C docs LANG=en_US.UTF-8 PYTHON=%p/bin/python%type_raw[python] PYTHONPATH=%b/build/lib SPHINXBUILD=%p/bin/sphinx-build%type_raw[python] html
<<

InstallScript: <<
    find build/lib -name '*.py[oc]' -exec rm {} \;
    python%type_raw[python] setup.py install --root=%d
<<

InfoTest: <<
    TestDepends: <<
        pytest-py%type_pkg[python],
        ( %type_pkg[python] <= 27 ) ipython-py%type_pkg[python] (>= 5.0.0),
        ( %type_pkg[python] >= 35 ) ipython-py%type_pkg[python] (>= 7.0.0)
    <<
    TestScript: <<
        #!/bin/sh -ev
        export PYTHONPATH=%b/build/lib
        if [ %type_pkg[python] -le 36 ]; then
            %p/bin/python%type_raw[python] -Bm pytest || exit 2
        else
            %p/bin/pytest-%type_raw[python] -k 'not test_cors and not test_escape and not test_snippet and not test_minimal_html_file' || exit 2
        fi
    <<
    TestSuiteSize: small
<<

Description: Interactive HTML Widgets

DescDetail: <<
Interactive HTML widgets for Jupyter notebooks and the IPython kernel.
Usage:
 from ipywidgets import IntSlider
 IntSlider()
<<

DescPackaging: <<
Tests require a working ipython installation (possibly 5.2 or higher), leading to
circular dependencies for maintainter-mode installations.
<<

# ToDo: build docs/build/html
DocFiles: CONTRIBUTING.md README.md LICENSE PKG-INFO docs/build/html

# Info2
<<
