Package: node-got
Version: 11.8.1
Revision: 3.1
###
BuildDepends: <<
	fink (>= 0.32),
	node-typescript
<<
Depends: <<
	node-decompress-response,
	node-get-stream,
	node-json-buffer,
	node-lowercase-keys,
	node-mimic-response,
	node-p-cancelable (>= 2.0.0-1),
	nodejs
<<
Provides: <<
	node-cacheable-lookup,
	node-cacheable-request,
	node-clone-response,
	node-defer-to-connect,
	node-http-cache-semantics,
	node-http2-wrapper,
	node-keyv,
	node-normalize-url,
	node-resolve-alpn,
	node-responselike,
	node-sindresorhus-is,
	node-szmarczak-http-timer,
	node-cacheable-request-types,
	node-http-cache-semantics-types,
	node-keyv-types,
	node-responselike-types
<<
###
Source: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig.tar.gz
Source-Checksum: SHA256(9fb575354a4a141c8214507e6a5a25a7b0b925408cac89e032412e33ab487338)
SourceDirectory: got-%v
Source2: mirror:debian:pool/main/n/%n/%n_%v+~cs53.13.17-3+deb11u1.debian.tar.xz
Source2-Checksum: SHA256(cfd59c025fe6911700e2add4dd3309b54d6ba9a1f4a1953e10988599f2b7a3ec)
Source2ExtractDir: got-%v
Source3: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-cacheable-lookup.tar.gz
Source3-Checksum: SHA256(7638428826aa4cb8207ef90c32328138ee7d86168bef8f13d202f39ae7b0c9e3)
Source3ExtractDir: got-%v
Source4: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-cacheable-request.tar.gz
Source4-Checksum: SHA256(8fd2fcffdf1e8f1ffe6bfbcd9ff9a0d37ef10583234ecc6534ec7123e3f6d2e9)
Source4ExtractDir: got-%v
Source5: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-clone-response.tar.gz
Source5-Checksum: SHA256(31ef06b43d37b661a14f21d071c65551417e49d464bf0036e806a03af4dbffee)
Source5ExtractDir: got-%v
Source6: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-defer-to-connect.tar.gz
Source6-Checksum: SHA256(637d939397c82a6f0c8b9cf670e5c9350a842e3e0b162c79d522725a77d253de)
Source6ExtractDir: got-%v
Source7: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-http-cache-semantics.tar.gz
Source7-Checksum: SHA256(0f0810b15ad8b9293c62a331bc017180511a89ff5d6caaed45dd7815d71ac594)
Source7ExtractDir: got-%v
Source8: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-http2-wrapper.tar.gz
Source8-Checksum: SHA256(863d36221549ad0917ab9b661de4b8410d68caf7d5ffdced1071cb3343829d2a)
Source8ExtractDir: got-%v/http2-wrapper-tmp
Source9: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-keyv.tar.gz
Source9-Checksum: SHA256(a201e044c3b408c7d0f7902c5257499f456b23d9147b218da9c2af193a28204b)
Source9ExtractDir: got-%v
Source10: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-normalize-url.tar.gz
Source10-Checksum: SHA256(d3c7ceb6ccf50ca016c73e7781882b7169fdd9a50c2f7733213108d74feb4f51)
Source10ExtractDir: got-%v
Source11: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-resolve-alpn.tar.gz
Source11-Checksum: SHA256(edad308138cb0d296cea7ea0704e78a04e95adac0c5163a2e44e0439101e9661)
Source11ExtractDir: got-%v
Source12: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-responselike.tar.gz
Source12-Checksum: SHA256(25fa89d7e917fa657352b0000b539d7d98a811c83a2ac087acfce0242771a567)
Source12ExtractDir: got-%v
Source13: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-sindresorhus-is.tar.gz
Source13-Checksum: SHA256(7164e1a18f4dddab801aad5f91b6d0ea1d199e0d0387c8f51a6b5e395d511fa3)
Source13ExtractDir: got-%v
Source14: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-szmarczak-http-timer.tar.gz
Source14-Checksum: SHA256(2bfa6ac0a1a964200a535106e3371bbcabd61bac8d4b0ab0d3b5943ac3394bee)
Source14ExtractDir: got-%v
Source15: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-types-cacheable-request.tar.gz
Source15-Checksum: SHA256(c6305b72a9ecb8cc9ba3297ff3aa8555fb431aedf3c7bb14f3e862b756267e9b)
Source15ExtractDir: got-%v/types-cacheable-request
Source16: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-types-http-cache-semantics.tar.gz
Source16-Checksum: SHA256(83c400778ef5f66d523bc9b36a5859fea8b10ea55cb50403ab10b95638ac3d94)
Source16ExtractDir: got-%v/types-http-cache-semantics
Source17: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-types-keyv.tar.gz
Source17-Checksum: SHA256(498b509fca626878afc6d60c81e1578537f032ddca31ccf4a5573810a27c1931)
Source17ExtractDir: got-%v/types-keyv
Source18: mirror:debian:/pool/main/n/%n/%n_%v+~cs53.13.17.orig-types-responselike.tar.gz
Source18-Checksum: SHA256(1aad40913e81849c6a3e7a6c40b61fecdbc082b478a74c2221e8015c47da9484)
Source18ExtractDir: got-%v/types-responselike
###
DocFiles: readme.md license documentation/*.md documentation/examples
###
PatchScript: <<
mv cacheable-lookup-5.0.4 cacheable-lookup
mv cacheable-request-7.0.1 cacheable-request
mv clone-response-1.0.2 clone-response
mv defer-to-connect-2.0.0 defer-to-connect
mv http-cache-semantics-4.1.0 http-cache-semantics
mv http2-wrapper-tmp/package http2-wrapper
mv keyv-4.0.3 keyv
mv normalize-url-5.3.0 normalize-url
mv resolve-alpn-1.0.0 resolve-alpn
mv responselike-2.0.0 responselike
mv is-4.0.0 sindresorhus-is
mv http-timer-4.0.5 szmarczak-http-timer

mkdir -p node_modules/@types
mv types-cacheable-request/cacheable-request node_modules/@types/cacheable-request
mv types-http-cache-semantics/http-cache-semantics node_modules/@types/http-cache-semantics
mv types-keyv/keyv node_modules/@types/keyv
mv types-responselike/responselike node_modules/@types/responselike

ln -s %p/share/nodejs/decompress-response node_modules/
ln -s %p/share/nodejs/lowercase-keys node_modules/
ln -s %p/share/nodejs/p-cancelable node_modules/
ln -s %p/share/nodejs/@types/node node_modules/@types/

mkdir -p node_modules/@sindresorhus
ln -s ../../debian/build_modules/@sindresorhus/tsconfig node_modules/@sindresorhus/
ln -s ../../sindresorhus-is/dist node_modules/@sindresorhus/is

mkdir -p node_modules/@szmarczak
ln -s ../../szmarczak-http-timer/dist node_modules/@szmarczak/http-timer

ln -s ../defer-to-connect/dist node_modules/defer-to-connect

ln -s ../cacheable-lookup node_modules/

patch -p1 < debian/patches/build-source-only.diff
patch -p1 < debian/patches/fix-package-json-paths.diff
patch -p1 < debian/patches/CVE-2021-33502.patch
patch -p1 < debian/patches/CVE-2022-33987.patch
patch -p1 < debian/patches/fix-typescript.patch
<<
CompileScript: <<
tsc -p sindresorhus-is
tsc -p defer-to-connect
tsc -p szmarczak-http-timer
tsc
<<
InstallScript: <<
install -d -m0755 %i/share/nodejs/@sindresorhus/is
cp -R sindresorhus-is/dist %i/share/nodejs/@sindresorhus/is/
install -m0644 sindresorhus-is/package.json %i/share/nodejs/@sindresorhus/is/

install -d -m0755 %i/share/nodejs/@szmarczak/http-timer
cp -R sindresorhus-is/dist %i/share/nodejs/@szmarczak/http-timer/
install -m0644 sindresorhus-is/package.json %i/share/nodejs/@szmarczak/http-timer/

install -d -m0755 %i/share/nodejs/@types
install -d -m0755 %i/share/nodejs/@types/cacheable-request
install -m0644 node_modules/@types/cacheable-request/index.d.ts %i/share/nodejs/@types/cacheable-request/
install -m0644 node_modules/@types/cacheable-request/package.json %i/share/nodejs/@types/cacheable-request/
install -d -m0755 %i/share/nodejs/@types/http-cache-semantics
install -m0644 node_modules/@types/http-cache-semantics/index.d.ts %i/share/nodejs/@types/http-cache-semantics/
install -m0644 node_modules/@types/http-cache-semantics/package.json %i/share/nodejs/@types/http-cache-semantics/
install -d -m0755 %i/share/nodejs/@types/keyv
install -m0644 node_modules/@types/keyv/index.d.ts %i/share/nodejs/@types/keyv/
install -m0644 node_modules/@types/keyv/package.json %i/share/nodejs/@types/keyv/
install -d -m0755 %i/share/nodejs/@types/responselike
install -m0644 node_modules/@types/responselike/index.d.ts %i/share/nodejs/@types/responselike/
install -m0644 node_modules/@types/responselike/package.json %i/share/nodejs/@types/cacheable-request/

install -d -m0755 %i/share/nodejs/cacheable-lookup
install -m0644 cacheable-lookup/index.d.ts %i/share/nodejs/cacheable-lookup/
install -m0644 cacheable-lookup/package.json %i/share/nodejs/cacheable-lookup/
cp -R cacheable-lookup/source %i/share/nodejs/cacheable-lookup/

install -d -m0755 %i/share/nodejs/cacheable-request
install -m0644 cacheable-request/package.json %i/share/nodejs/cacheable-request/
cp -R cacheable-request/src %i/share/nodejs/cacheable-request/

install -d -m0755 %i/share/nodejs/clone-response
install -m0644 clone-response/package.json %i/share/nodejs/clone-response/
cp -R clone-response/src %i/share/nodejs/clone-response/

install -d -m0755 %i/share/nodejs/defer-to-connect
install -m0644 defer-to-connect/package.json %i/share/nodejs/defer-to-connect/
cp -R defer-to-connect/dist %i/share/nodejs/defer-to-connect

install -d -m0755 %i/share/nodejs/got
install -m0644 package.json %i/share/nodejs/got/
cp -R dist %i/share/nodejs/got/

install -d -m0755 %i/share/nodejs/http-cache-semantics
install -m0644 http-cache-semantics/package.json %i/share/nodejs/http-cache-semantics/
install -m0644 http-cache-semantics/index.js %i/share/nodejs/http-cache-semantics/

install -d -m0755 %i/share/nodejs/http2-wrapper
install -m0644 http2-wrapper/package.json %i/share/nodejs/http2-wrapper/
cp -R http2-wrapper/source %i/share/nodejs/http2-wrapper/

install -d -m0755 %i/share/nodejs/keyv
install -m0644 keyv/package.json %i/share/nodejs/keyv/
cp -R keyv/src %i/share/nodejs/keyv/

install -d -m0755 %i/share/nodejs/normalize-url
install -m0644 normalize-url/package.json %i/share/nodejs/normalize-url/
install -m0644 normalize-url/index.js %i/share/nodejs/normalize-url/
install -m0644 normalize-url/index.d.ts %i/share/nodejs/normalize-url/

install -d -m0755 %i/share/nodejs/resolve-alpn
install -m0644 resolve-alpn/package.json %i/share/nodejs/resolve-alpn/
install -m0644 resolve-alpn/index.js %i/share/nodejs/resolve-alpn/

install -d -m0755 %i/share/nodejs/responselike
install -m0644 responselike/package.json %i/share/nodejs/responselike/
cp -R responselike/src %i/share/nodejs/responselike/
<<
###
Description: Simplified HTTP requests
DescDetail: <<
This module provides a nicer interface to the built-in http module.
.
This module was created because request is bloated *(several megabytes!)*.
.
Highlights:
 - Promise & stream API
 - Request cancellation
 - Follows redirects
 - Retries on network failure
 - Handles gzip/deflate
 - Timeout handling
 - Errors with metadata
 - JSON mode
 - WHATWG URL support
 - Electron support
.
Node.js is an event-based server-side JavaScript engine.
<<
###
License: BSD
Homepage: https://github.com/sindresorhus/got
Maintainer: Justin F. Hallett <thesin@users.sourceforge.net>
