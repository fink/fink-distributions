Package: libspiro0-shlibs
Epoch: 1
Version: 0.5.20150702
Revision: 3
License: GPL
Description: Convert spiro points to bezier splines
Maintainer: Daniel Johnson <daniel@daniel-johnson.org>
Homepage: https://github.com/fontforge/libspiro

Source: https://github.com/fontforge/libspiro/archive/%v.tar.gz
Source-Checksum: SHA256(14f761d83c7fa6be31c4e0317251ed1201b367dc5b2a8678e2da179d74938fc7)
SourceRename: libspiro-%v.tar.gz

BuildDepends: <<
	autoconf2.6,
	automake1.15-core,
	libtool2
<<
Conflicts: libspiro0 (<< 1:0.5.20150702-3)
Replaces: libspiro0 (<< 1:0.5.20150702-3)
NoSetCPPFLAGS: true
NoSetLDFLAGS: true

# Short-circuit a broken autoconf test (only looks for actual symbol
# even if it's a macro in a header).
ConfigureParams: <<
	ac_cv_func_isfinite=yes \
	ac_cv_func_isinfinite=yes \
	--disable-static
<<
CompileScript: <<
	AUTOMAKE=automake-1.15 ACLOCAL=aclocal-1.15 autoreconf -i
	automake-1.15 --foreign -Wall
	%{default_script}
<<

InfoTest: TestScript: make check || exit 2

InstallScript: <<
#!/bin/sh -ev
	make install DESTDIR=%d
	pushd %i
		rm -r include
		rm lib/libspiro.{dylib,la}
		rm -r lib/pkgconfig
	popd
<<
Shlibs: %p/lib/libspiro.0.dylib 1.0.0 %n (>= 0.5.20071029-1)

DocFiles: AUTHORS ChangeLog COPYING NEWS README*
