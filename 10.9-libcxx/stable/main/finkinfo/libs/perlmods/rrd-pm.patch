diff -Nurd rrdtool-1.9.0.orig/bindings/perl-piped/t/base.t rrdtool-1.9.0/bindings/perl-piped/t/base.t
--- rrdtool-1.9.0.orig/bindings/perl-piped/t/base.t	2024-07-29 04:42:37
+++ rrdtool-1.9.0/bindings/perl-piped/t/base.t	2025-11-06 03:47:55
@@ -23,7 +23,7 @@
 
 print "ok 1 module load\n";
 
-ok("RRDp::start", RRDp::start "../../src/rrdtool" > 0);
+ok("RRDp::start", RRDp::start "rrdtool" > 0);
 
 $now=time();
 RRDp::cmd qw(create demo.rrd --start ), $now, qw(--step 100 ),
diff -Nurd rrdtool-1.9.0.orig/bindings/perl-shared/Makefile.PL rrdtool-1.9.0/bindings/perl-shared/Makefile.PL
--- rrdtool-1.9.0.orig/bindings/perl-shared/Makefile.PL	2024-07-29 04:42:37
+++ rrdtool-1.9.0/bindings/perl-shared/Makefile.PL	2025-11-06 03:59:56
@@ -52,7 +52,7 @@
 	# to the perl shared object.
 	my $librrd;
 	if ($^O eq 'darwin'){
-        $librrd = '-lrrd';
+        $librrd = "$ENV{LDFLAGS} -lrrd";
 	} else {
 		$librrd = "-L${TOP_BUILDDIR}/src/.libs/ $R -lrrd";
 	}
@@ -61,13 +61,9 @@
 		'NAME'         => 'RRDs',
 		'VERSION_FROM' => 'RRDs.pm', # finds $VERSION
 		'DEFINE'	   => "-DPERLPATCHLEVEL=$Config{PATCHLEVEL}",
-		'INC'          => "-I${TOP_BUILDDIR}/src -I${TOP_SRCDIR}/src",
-		# Perl will figure out which one is valid
-		#'dynamic_lib'  => {'OTHERLDFLAGS' => "$librrd -lm"},
-		'depend'       => {'RRDs.c' => "${TOP_BUILDDIR}/src/librrd.la"},
-		'LDFROM'       => '$(OBJECT) '.$librrd, 
+		'INC'          => "$ENV{CPPFLAGS} -I${TOP_BUILDDIR}/src -I${TOP_SRCDIR}/src",
+		'LIBS'         => $librrd,
 		'realclean'    => {FILES => 't/demo?.rrd t/demo?.png' },
-		($^O eq 'darwin') ? ( 'LDDLFLAGS'    => "-L${TOP_BUILDDIR}/src/.libs/ $Config{lddlflags}" ) : ()
 	);
 }
 
