diff -Nurd ExtUtils-MakeMaker-7.76.orig/lib/ExtUtils/MM_Unix.pm ExtUtils-MakeMaker-7.76/lib/ExtUtils/MM_Unix.pm
--- ExtUtils-MakeMaker-7.76.orig/lib/ExtUtils/MM_Unix.pm	2025-05-23 15:13:48
+++ ExtUtils-MakeMaker-7.76/lib/ExtUtils/MM_Unix.pm	2025-12-20 22:38:21
@@ -139,7 +139,7 @@
     my(@m);
 
     my $command = '$(CCCMD)';
-    my $flags   = '$(CCCDLFLAGS) "-I$(PERL_INC)" $(PASTHRU_DEFINE) $(DEFINE)';
+    my $flags   = '$(CCCDLFLAGS) -iwithsysroot "$(PERL_INC)" $(PASTHRU_DEFINE) $(DEFINE)';
 
     if ( $Is{ApplCor} ) {
         $flags =~ s/"-I(\$\(PERL_INC\))"/-iwithsysroot "$1"/;
@@ -1107,9 +1107,9 @@
         # platforms.  We peek at lddlflags to see if we need -Wl,-R
         # or -R to add paths to the run-time library search path.
         if ($Config{'lddlflags'} =~ /-Wl,-R/) {
-            $libs .= ' "-L$(PERL_INC)" "-Wl,-R$(INSTALLARCHLIB)/CORE" "-Wl,-R$(PERL_ARCHLIB)/CORE" -lperl';
+            $libs .= ' "-L$(PERL_SYSROOT)$(PERL_INC)" "-Wl,-R$(INSTALLARCHLIB)/CORE" "-Wl,-R$(PERL_ARCHLIB)/CORE" -lperl';
         } elsif ($Config{'lddlflags'} =~ /-R/) {
-            $libs .= ' "-L$(PERL_INC)" "-R$(INSTALLARCHLIB)/CORE" "-R$(PERL_ARCHLIB)/CORE" -lperl';
+            $libs .= ' "-L$(PERL_SYSROOT)$(PERL_INC)" "-R$(INSTALLARCHLIB)/CORE" "-R$(PERL_ARCHLIB)/CORE" -lperl';
         } elsif ( $Is{Android} ) {
             # The Android linker will not recognize symbols from
             # libperl unless the module explicitly depends on it.
@@ -4106,7 +4106,7 @@
 .xs$(OBJ_EXT) :
 	$(XSUBPPRUN) $(XSPROTOARG) $(XSUBPPARGS) $*.xs > $*.xsc
 	$(MV) $*.xsc $*.c
-	$(CCCMD) $(CCCDLFLAGS) "-I$(PERL_INC)" $(PASTHRU_DEFINE) $(DEFINE) %s$*.c %s
+	$(CCCMD) $(CCCDLFLAGS) -iwithsysroot "$(PERL_INC)" $(PASTHRU_DEFINE) $(DEFINE) %s$*.c %s
 EOF
     if ($self->{XSMULTI}) {
 	for my $ext ($self->_xs_list_basenames) {
@@ -4126,7 +4126,7 @@
 %1$s$(OBJ_EXT): %1$s.xs
 	$(XSUBPPRUN) $(XSPROTOARG) $(XSUBPPARGS) $*.xs > $*.xsc
 	$(MV) $*.xsc $*.c
-	%2$s $(CCCDLFLAGS) "-I$(PERL_INC)" $(PASTHRU_DEFINE) %4$s %5$s$*.c %3$s
+	%2$s $(CCCDLFLAGS) -iwithsysroot "$(PERL_INC)" $(PASTHRU_DEFINE) %4$s %5$s$*.c %3$s
 EOF
 	}
     }
