Info3: <<
Package: cernlib2025
Version: 2025.09.18.4
Revision: 1
Type: gcc (12)
Description: CERNlib library
License: GPL
Maintainer: None <fink-devel@lists.sourceforge.net>

Source: https://cernlib.web.cern.ch/download/2025_source/tar/cernlib-cernlib-%v-free.tar.gz
Source-Checksum: SHA256(ce12d9951d0252d3cf62bfbdf49a459c9d5eafe2fb61ca112e2e6128b111a91e)
SourceDirectory: cernlib-cernlib-%v-free

BuildDepends: <<
	cmake,
	gcc%type_pkg[gcc],
	fink-buildenv-modules,
	fink-package-precedence,
	fontconfig2-dev,
	freetype219,
	libxt,
	openmotif4-2level,
	sed,
	xft2-dev,
	x11-dev
<<
Depends: <<
	gcc%type_pkg[gcc]-shlibs,
	fontconfig2-shlibs,
	freetype219-shlibs,
	x11-shlibs
<<
PatchFile: %n.patch
PatchFile-MD5: 1bd7f997902b298cd61935528029bbef
PatchScript: <<
	sed -e 's|@FINK_PREFIX@|%p|g' <  %{PatchFile} | patch -p1
<<

CompileScript: <<
#!/bin/sh -ev
	. %p/sbin/fink-buildenv-cmake.sh
	mkdir finkbuild
	pushd finkbuild
		cmake $FINK_CMAKE_ARGS \
			-DCERNLIB_BUILD_SHARED:BOOL=ON \
			-DCMAKE_C_FLAGS="$CFLAGS -MD" \
			-LAH \
			..
		make -w VERBOSE=1 || make -w -j1 VERBOSE=1
	popd
	fink-package-precedence --depfile-ext='\.d' .
<<
InstallScript: <<
	cd finkbuild; make install DESTDIR=%d
<<
<<
