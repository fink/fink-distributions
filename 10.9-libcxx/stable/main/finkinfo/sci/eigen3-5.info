Package: eigen3-5
Version: 5.0.0
# Upstream has changed their versioning pattern as of 5.x.x. It no
# longer matches the subdir/interface identifier and the changes from
# 3.x.x to 5.x.x seem potentially incompatible, so we start a new
# package-name for the 5.x.x series.
Revision: 2
License: OSI-Approved
Maintainer: None <fink-devel@lists.sourceforge.net>
BuildDepends: <<
	cmake (>= 3.10.0),
	fink-buildenv-modules
<<
Conflicts: <<
	eigen3,
	eigen3-5
<<
Replaces: <<
	eigen3,
	eigen3-5
<<
BuildDependsOnly: true

Source: https://gitlab.com/libeigen/eigen/-/archive/%v/%v.tar.bz2
Source-Checksum: SHA256(f1148db76cba8df51c9624195e5f36bedc2d1eca6c6e4f77b576635c79f9668c)
SourceRename: %n-%v.tar.bz2
SourceDirectory: eigen-%v-549bf8c75b6aae071cde2f28aa48f16ee3ae60b0
# Disable things that might build an actual library for a templates
# package. See: https://github.com/fink/fink-distributions/issues/1285
CompileScript: <<
	#!/bin/sh -ev
	. %p/sbin/fink-buildenv-cmake.sh
	mkdir finkbuild
	pushd finkbuild
	%p/bin/cmake \
		$FINK_CMAKE_ARGS \
		-DQT_QMAKE_EXECUTABLE:FILEPATH=NOTFOUND \
		-DEIGEN_BUILD_BLAS=OFF \
		-DEIGEN_BUILD_LAPACK=OFF \
		-DEIGEN_BUILD_TESTING=OFF \
		..
	popd
<<
#InfoTest: <<
#	SetCPPFLAGS: -MD
#	TestDepends: <<
#		fftw3,
#		fink-package-precedence,
#		gmp5,
#		libmpfr4,
#		pkgconfig,
#		suitesparse
#	<<
#	TestScript: <<
#		#!/bin/sh -ev
#		cd finkbuild
#		make check || exit 2
#		fink-package-precedence --depfile-ext='\.d' .
#	<<
#<<
InstallScript: <<
	#!/bin/sh -ev
	pushd finkbuild
	make install DESTDIR=%d
	popd
<<

Docfiles: CHANGELOG.md COPYING.*
Description: C++ template library for linear algebra
Homepage: https://libeigen.gitlab.io
DescDetail: <<
Eigen 3 is a C++ template library for linear algebra (vectors, matrices, and 
related algorithms). It is:
 * Versatile. Eigen handles both fixed-size and dynamic-size matrices and
  vectors, without code duplication, and in a completely integrated way. It
  aims to provide not only vectors and matrices but also many algorithms.
 * Fast. Expression templates remove temporaries and enable lazy evaluation.
  Explicit vectorization is performed for the SSE (2 and later) and AltiVec
  instruction sets, with graceful fallback to non-vectorized code. With
  fixed-size objects, dynamic memory allocation is avoided, and the loops
  are unrolled when that makes sense. For large matrices, special attention
  is paid to cache-friendliness. This Benchmark shows Eigen's outstanding
 performance.
 * Good API. Expression templates allow for a very clean and expressive API.
  Implementing an algorithm on top of Eigen feels like just copying
  pseudocode.
<<
DescPackaging: <<
 Docs are not generated because they require some *tex and *ps.
<<
