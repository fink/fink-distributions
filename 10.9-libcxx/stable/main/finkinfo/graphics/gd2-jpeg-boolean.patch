diff -Nurd gd-2.0.35.orig/gd_jpeg.c gd-2.0.35/gd_jpeg.c
--- gd-2.0.35.orig/gd_jpeg.c	2006-04-05 16:46:15
+++ gd-2.0.35/gd_jpeg.c	2025-10-22 00:18:59
@@ -614,19 +614,6 @@
  *
  */
 
-/* Different versions of libjpeg use either 'jboolean' or 'boolean', and
-   some platforms define 'boolean', and so forth. Deal with this
-   madness by typedeffing 'safeboolean' to 'boolean' if HAVE_BOOLEAN
-   is already set, because this is the test that libjpeg uses.
-   Otherwise, typedef it to int, because that's what libjpeg does
-   if HAVE_BOOLEAN is not defined. -TBB */
-
-#ifdef HAVE_BOOLEAN
-typedef boolean safeboolean;
-#else
-typedef int safeboolean;
-#endif /* HAVE_BOOLEAN */
-
 /* Expanded data source object for gdIOCtx input */
 
 typedef struct
@@ -635,7 +622,7 @@
 
   gdIOCtx *infile;		/* source stream */
   unsigned char *buffer;	/* start of buffer */
-  safeboolean start_of_file;	/* have we gotten any data yet? */
+  boolean start_of_file;	/* have we gotten any data yet? */
 
 }
 my_source_mgr;
@@ -696,7 +683,7 @@
  */
 
 #define END_JPEG_SEQUENCE "\r\n[*]--:END JPEG:--[*]\r\n"
-safeboolean
+boolean
 fill_input_buffer (j_decompress_ptr cinfo)
 {
   my_src_ptr src = (my_src_ptr) cinfo->src;
@@ -916,7 +903,7 @@
  * write it out when emptying the buffer externally.
  */
 
-safeboolean
+boolean
 empty_output_buffer (j_compress_ptr cinfo)
 {
   my_dest_ptr dest = (my_dest_ptr) cinfo->dest;
