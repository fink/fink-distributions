diff -Nurd libwmf-0.2.13.orig/src/extra/gd/gd.c libwmf-0.2.13/src/extra/gd/gd.c
--- libwmf-0.2.13.orig/src/extra/gd/gd.c	2023-04-17 07:39:47
+++ libwmf-0.2.13/src/extra/gd/gd.c	2025-10-22 00:28:49
@@ -1,4 +1,5 @@
 #include <stdio.h>
+#include <limits.h>
 #include <math.h>
 #include <string.h>
 #include <stdlib.h>
diff -Nurd libwmf-0.2.13.orig/src/extra/gd/gd_gd2.c libwmf-0.2.13/src/extra/gd/gd_gd2.c
--- libwmf-0.2.13.orig/src/extra/gd/gd_gd2.c	2023-04-17 07:39:47
+++ libwmf-0.2.13/src/extra/gd/gd_gd2.c	2025-10-22 00:29:01
@@ -12,6 +12,7 @@
 
 #include <stdio.h>
 #include <errno.h>
+#include <limits.h>
 #include <math.h>
 #include <string.h>
 #include <stdlib.h>
diff -Nurd libwmf-0.2.13.orig/src/extra/gd/gd_jpeg.c libwmf-0.2.13/src/extra/gd/gd_jpeg.c
--- libwmf-0.2.13.orig/src/extra/gd/gd_jpeg.c	2023-04-17 07:39:47
+++ libwmf-0.2.13/src/extra/gd/gd_jpeg.c	2025-10-22 00:25:13
@@ -490,19 +490,6 @@
  *
  */
 
-/* Different versions of libjpeg use either 'jboolean' or 'boolean', and
-   some platforms define 'boolean', and so forth. Deal with this
-   madness by typedeffing 'safeboolean' to 'boolean' if HAVE_BOOLEAN
-   is already set, because this is the test that libjpeg uses.
-   Otherwise, typedef it to int, because that's what libjpeg does
-   if HAVE_BOOLEAN is not defined. -TBB */
-
-#ifdef HAVE_BOOLEAN
-typedef boolean safeboolean;
-#else
-typedef int safeboolean;
-#endif /* HAVE_BOOLEAN */
-
 /* Expanded data source object for gdIOCtx input */
 
 typedef struct
@@ -511,7 +498,7 @@
 
     gdIOCtx *infile;		/* source stream */
     unsigned char *buffer;	/* start of buffer */
-    safeboolean start_of_file;	/* have we gotten any data yet? */
+    boolean start_of_file;	/* have we gotten any data yet? */
 
   }
 my_source_mgr;
@@ -573,7 +560,7 @@
 
 #define END_JPEG_SEQUENCE "\r\n[*]--:END JPEG:--[*]\r\n"
 
-static safeboolean
+static boolean
 fill_input_buffer (j_decompress_ptr cinfo)
 {
   my_src_ptr src = (my_src_ptr) cinfo->src;
@@ -786,7 +773,7 @@
  * write it out when emptying the buffer externally.
  */
 
-static safeboolean
+static boolean
 empty_output_buffer (j_compress_ptr cinfo)
 {
   my_dest_ptr dest = (my_dest_ptr) cinfo->dest;
