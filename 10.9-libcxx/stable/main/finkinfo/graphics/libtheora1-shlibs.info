Package: libtheora1-shlibs
Version: 1.2.0
Revision: 1
Description: Open-source video compression library
License: BSD
Maintainer: Hanspeter Niederstrasser <nieder@users.sourceforge.net>

Depends: libogg-shlibs (>= 1.1.3-1)
# sdl ignored because it soundcard co-dependency is not also available
# sdl,png,tiff ignored because used for examples that we don't compile
BuildDepends: <<
	fink-package-precedence,
	libogg (>= 1.1.3-1),
	pkgconfig (>= 0.22-3)
<<

Source: https://downloads.xiph.org/releases/theora/libtheora-%v.tar.gz
Source-Checksum: SHA256(279327339903b544c28a92aeada7d0dcfd0397b59c2f368cc698ac56f515906e)

ConfigureParams: <<
	--docdir=%p/share/doc/libtheora1 \
	--with-ogg=%p \
	--enable-dependency-tracking \
	--disable-examples \
	ac_cv_prog_HAVE_DOXYGEN=false \
	ac_cv_prog_HAVE_PDFLATEX=false \
	ac_cv_prog_HAVE_BIBTEX=false \
	ac_cv_prog_HAVE_TRANSFIG=false
<<
CompileScript: <<
	%{default_script}
	fink-package-precedence --prohibit-bdep=libtheora0 .
<<
InfoTest: <<
	TestScript: make check || exit 2
<<
InstallScript: make -j1 install DESTDIR="%d"
DocFiles: AUTHORS CHANGES COPYING LICENSE README.md
Shlibs: %p/lib/libtheora.1.dylib 6.0.0 %n (>= 1.2.0-1)
SplitOff: <<
	Package: libtheora1
	Depends: <<
		%N (>= %v-%r),
		libtheoradec2-shlibs (>= %v-%r),
		libtheoraenc2-shlibs (>= %v-%r)
	<<
	BuildDependsOnly: True
	Conflicts: <<
		libtheora0,
		libtheora1
	<<
	Replaces: <<
		libtheora0,
		libtheora1
	<<
	Files: <<
		include
		lib/libtheora.{dylib,la}
		lib/libtheoradec.{dylib,la}
		lib/libtheoraenc.{dylib,la}
		lib/pkgconfig
		share/doc/libtheora1
	<<
	DocFiles: AUTHORS CHANGES COPYING LICENSE README.md
<<
SplitOff2: <<
	Package: libtheoradec2-shlibs
	Files: lib/libtheoradec.2*.dylib
	DocFiles: AUTHORS CHANGES COPYING LICENSE README.md
	Shlibs: %p/lib/libtheoradec.2.dylib 4.0.0 %n (>= 1.2.0-1)
<<
SplitOff3: <<
	Package: libtheoraenc2-shlibs
	Depends: libogg-shlibs (>= 1.1.3-1)
	Files: lib/libtheoraenc.2*.dylib
	DocFiles: AUTHORS CHANGES COPYING LICENSE README.md
	Shlibs: %p/lib/libtheoraenc.2.dylib 5.0.0 %n (>= 1.2.0-1)
<<

Homepage: https://www.theora.org/
DescDetail: <<
Theora is an open video codec being developed by the Xiph.org Foundation
as part of their Ogg project (It is a project that aims to integrate
On2's VP3 video codec, Ogg Vorbis audio codec and Ogg multimedia
container formats into a multimedia solution that can compete with
MPEG-4 format). 

Theora is derived directly from On2's VP3 codec; currently the two are
nearly identical, varying only in framing headers, but Theora will
diverge and improve from the main VP3 development lineage as time
progresses.
<<
DescPort: <<
Versions << 1.1.1 had a possible ASM failure on x86_64. Keep deactivated on 
OS X < 10.7.

Examples are deactivated because they're not actually installed but they 
still search for any libpng they can find (and fail with libpng16).

Previously maintained by Benjamin Reed <libtheora@fink.raccoonfink.com>
<<
