diff -Nurd -x'*~' glib-2.22.4.orig/gio/gdesktopappinfo.c glib-2.22.4/gio/gdesktopappinfo.c
--- glib-2.22.4.orig/gio/gdesktopappinfo.c	2010-01-06 19:24:28.000000000 -0500
+++ glib-2.22.4/gio/gdesktopappinfo.c	2010-01-13 08:35:24.000000000 -0500
@@ -3587,7 +3587,7 @@
       g_file_set_contents (filename, contents, -1, NULL);
       g_free (contents);
 
-      run_update_command ("update-mime-database", "mime");
+      run_update_command ("@PREFIX@/bin/update-mime-database", "mime");
     }
   g_free (filename);

diff -Nurd -x'*~' glib-2.22.4.orig/gio/xdgmime/xdgmime.c glib-2.22.4/gio/xdgmime/xdgmime.c
--- glib-2.22.4.orig/gio/xdgmime/xdgmime.c	2009-10-06 16:07:59.000000000 -0400
+++ glib-2.22.4/gio/xdgmime/xdgmime.c	2010-01-13 08:35:09.000000000 -0500
@@ -235,7 +235,7 @@
   xdg_data_dirs = getenv ("XDG_DATA_DIRS");
 
   if (xdg_data_dirs == NULL)
-    xdg_data_dirs = "/usr/local/share/:/usr/share/";
+    xdg_data_dirs = "@PREFIX@/share:/usr/local/share/:/usr/share/";
 
   /* Work out how many dirs weâ€™re dealing with. */
   if (xdg_data_home != NULL || home != NULL)
diff -Nurd -x'*~' glib-2.22.4.orig/glib/gmacros.h glib-2.22.4/glib/gmacros.h
--- glib-2.22.4.orig/glib/gmacros.h	2009-03-31 19:04:20.000000000 -0400
+++ glib-2.22.4/glib/gmacros.h	2010-01-13 09:11:26.000000000 -0500
@@ -256,7 +256,8 @@
 #define G_GNUC_WARN_UNUSED_RESULT
 #endif /* __GNUC__ */
 
-#ifndef G_DISABLE_DEPRECATED
+#if 1
+/* don't supress (if G_DISABLE_DEPRECATED) for fink yet */
 /* Wrap the gcc __PRETTY_FUNCTION__ and __FUNCTION__ variables with
  * macros, so we can refer to them as strings unconditionally.
  * usage not-recommended since gcc-3.0
