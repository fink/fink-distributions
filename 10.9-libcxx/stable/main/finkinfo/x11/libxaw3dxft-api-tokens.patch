diff -Nurd libxaw3dxft-1.6.4.intermediate/Makefile.am libxaw3dxft-1.6.4/Makefile.am
--- libxaw3dxft-1.6.4.intermediate/Makefile.am	2025-08-01 13:01:20
+++ libxaw3dxft-1.6.4/Makefile.am	2025-08-01 13:20:34
@@ -145,9 +145,11 @@
 EXTRA_DIST = \
   src/Template.c \
   include/X11/Xaw3dxft/Template.h \
-  include/X11/Xaw3dxft/TemplateP.h
+  include/X11/Xaw3dxft/TemplateP.h \
+  include/X11/Xaw3dxft/Xaw3dP.h.in
 
-BUILT_SOURCES = src/laygram.h
+BUILT_SOURCES = src/laygram.h include/X11/Xaw3dxft/Xaw3dP.h
+include/X11/Xaw3dxft/Xaw3dP.h: include/X11/Xaw3dxft/Xaw3dP.h.in
 dist_doc_DATA = README.md Xresources
 readmepicsdir = $(docdir)/README_pics
 dist_readmepics_DATA = \
diff -Nurd libxaw3dxft-1.6.4.intermediate/configure.ac libxaw3dxft-1.6.4/configure.ac
--- libxaw3dxft-1.6.4.intermediate/configure.ac	2025-08-01 13:01:20
+++ libxaw3dxft-1.6.4/configure.ac	2025-08-01 14:03:58
@@ -37,34 +37,56 @@
     [XAW_I18N=$enableval], [XAW_I18N=yes])
 if test "x$XAW_I18N" = xyes; then
     XAW3D_CPPFLAGS="${XAW3D_CPPFLAGS} -DXAW_INTERNATIONALIZATION"
+    DEF_I18N_SUPPORT="#define XAW_INTERNATIONALIZATION"
+else
+    DEF_I18N_SUPPORT="/* #undef XAW_INTERNATIONALIZATION */"
 fi
 AM_CONDITIONAL(XAW_INTERNATIONALIZATION, [test "x$XAW_I18N" = xyes])
+AC_SUBST(DEF_I18N_SUPPORT)
 
 AC_ARG_ENABLE([multiplane-bitmaps],
-    [AS_HELP_STRING([--enable-multiplane-bitmaps], [enable XPM support])],
-    [],
+    [AS_HELP_STRING([--enable-multiplane-bitmaps], dnl
+    [enable XPM support (default: no)])],
+    [enable_multiplane_bitmaps=$enableval],
     [enable_multiplane_bitmaps=no])
 
-AS_IF([test "x$enable_multiplane_bitmaps" != xno],
-     [XAW3D_CPPFLAGS="${XAW3D_CPPFLAGS} -DXAW_MULTIPLANE_PIXMAPS" dnl
-      PKG_CHECK_MODULES(XPM, xpm)])
+if test "x$enable_multiplane_bitmaps" = xyes]; then
+    PKG_CHECK_MODULES(XPM, xpm)
+    XAW3D_CPPFLAGS="${XAW3D_CPPFLAGS} -DXAW_MULTIPLANE_PIXMAPS"
+    DEF_XPM_SUPPORT="#define XAW_MULTIPLANE_PIXMAPS"
+else
+    DEF_XPM_SUPPORT="/* #undef XAW_MULTIPLANE_PIXMAPS */"
+fi
+AC_SUBST(DEF_XPM_SUPPORT)
 
 AC_ARG_ENABLE([gray-stipples],
-    [AS_HELP_STRING([--enable-gray-stipples], [enable gray stipples])],
-    [],
+    [AS_HELP_STRING([--enable-gray-stipples], dnl
+     [enable gray stipples (default: no)])],
+    [enable_gray_stipples=$enableval],
     [enable_gray_stipples=no])
 
-AS_IF([test "x$enable_gray_stipples" != xno],
-    [XAW3D_CPPFLAGS="${XAW3D_CPPFLAGS} -DXAW_GRAY_BLKWHT_STIPPLES"])
+if test "x$enable_gray_stipples" = xyes; then
+    XAW3D_CPPFLAGS="${XAW3D_CPPFLAGS} -DXAW_GRAY_BLKWHT_STIPPLES"
+    DEF_GRAY_STIPPLES="#define XAW_GRAY_BLKWHT_STIPPLES"
+else
+    DEF_GRAY_STIPPLES="/* #undef XAW_GRAY_BLKWHT_STIPPLES */"
+fi
+AC_SUBST(DEF_GRAY_STIPPLES)
 
 AC_ARG_ENABLE([arrow-scrollbars],
-    [AS_HELP_STRING([--enable-arrow-scrollbars], [enable arrow scrollbars])],
-    [],
+    [AS_HELP_STRING([--enable-arrow-scrollbars], dnl
+     [enable arrow scrollbars (default: no)])],
+    [enable_arrow_scrollbars=$enableval],
     [enable_arrow_scrollbars=no])
 
-AS_IF([test "x$enable_arrow_scrollbars" != xno],
-    [XAW3D_CPPFLAGS="${XAW3D_CPPFLAGS} -DXAW_ARROW_SCROLLBARS"])
+if test "x$enable_arrow_scrollbars" = xyes; then
+    XAW3D_CPPFLAGS="${XAW3D_CPPFLAGS} -DXAW_ARROW_SCROLLBARS"
+    DEF_ARROW_SCROLLBARS="#define XAW_ARROW_SCROLLBARS"
+else
+    DEF_ARROW_SCROLLBARS="/* #undef XAW_ARROW_SCROLLBARS */"
+fi
+AC_SUBST(DEF_ARROW_SCROLLBARS)
 
 AC_SUBST(XAW3D_CPPFLAGS)
-AC_CONFIG_FILES([Makefile libxaw3dxft.pc])
+AC_CONFIG_FILES([Makefile include/X11/Xaw3dxft/Xaw3dP.h libxaw3dxft.pc])
 AC_OUTPUT
diff -Nurd libxaw3dxft-1.6.4.intermediate/include/X11/Xaw3dxft/Xaw3dP.h libxaw3dxft-1.6.4/include/X11/Xaw3dxft/Xaw3dP.h
--- libxaw3dxft-1.6.4.intermediate/include/X11/Xaw3dxft/Xaw3dP.h	2025-08-01 13:01:20
+++ libxaw3dxft-1.6.4/include/X11/Xaw3dxft/Xaw3dP.h	1970-01-01 01:00:00
@@ -1,79 +0,0 @@
-/*
- * Xaw3dP.h
- *
- * Global definitions and declarations. Not for public consumption.
- */
-
-/*********************************************************************
-Copyright (C) 1992 Kaleb Keithley
-Copyright (C) 2000, 2003 David J. Hawkey Jr.
-
-                        All Rights Reserved
-
-Permission to use, copy, modify, and distribute this software and
-its documentation for any purpose and without fee is hereby granted,
-provided that the above copyright notice appear in all copies and
-that both that copyright notice and this permission notice appear in
-supporting documentation, and that the names of the copyright holders
-not be used in advertising or publicity pertaining to distribution
-of the software without specific, written prior permission.
-
-THE COPYRIGHT HOLDERS DISCLAIM ALL WARRANTIES WITH REGARD TO THIS
-SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
-FITNESS. IN NO EVENT SHALL THE COPYRIGHT HOLDERS BE LIABLE FOR ANY
-SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER
-RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF
-CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN
-CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
-*********************************************************************/
-
-#ifndef _Xaw3dP_h
-#define _Xaw3dP_h
-
-#include <X11/IntrinsicP.h>
-
-/* These are set during the build to reflect capability and options. */
-/* I18n support */
-/* XPM support */
-/* gray stipples */
-/* arrow scrollbars */
-
-#ifndef XtX
-#define XtX(w)			(((RectObj)w)->rectangle.x)
-#endif
-#ifndef XtY
-#define XtY(w)			(((RectObj)w)->rectangle.y)
-#endif
-#ifndef XtWidth
-#define XtWidth(w)		(((RectObj)w)->rectangle.width)
-#endif
-#ifndef XtHeight
-#define XtHeight(w)		(((RectObj)w)->rectangle.height)
-#endif
-#ifndef XtBorderWidth
-#define XtBorderWidth(w)	(((RectObj)w)->rectangle.border_width)
-#endif
-
-#ifdef XAW_GRAY_BLKWHT_STIPPLES
-extern unsigned long
-grayPixel(
-    unsigned long,
-    Display *,
-    Screen *
-);
-#else
-#define grayPixel(p, dpy, scn)	(p)
-#endif
-
-#ifdef XAW_MULTIPLANE_PIXMAPS
-extern Pixmap
-stipplePixmap(
-    Widget,
-    Pixmap,
-    Colormap,
-    Pixel,
-    unsigned int
-);
-#endif
-
-#endif	/* _Xaw3dP_h */
diff -Nurd libxaw3dxft-1.6.4.intermediate/include/X11/Xaw3dxft/Xaw3dP.h.in libxaw3dxft-1.6.4/include/X11/Xaw3dxft/Xaw3dP.h.in
--- libxaw3dxft-1.6.4.intermediate/include/X11/Xaw3dxft/Xaw3dP.h.in	1970-01-01 01:00:00
+++ libxaw3dxft-1.6.4/include/X11/Xaw3dxft/Xaw3dP.h.in	2025-08-01 13:23:22
@@ -0,0 +1,79 @@
+/*
+ * Xaw3dP.h
+ *
+ * Global definitions and declarations. Not for public consumption.
+ */
+
+/*********************************************************************
+Copyright (C) 1992 Kaleb Keithley
+Copyright (C) 2000, 2003 David J. Hawkey Jr.
+
+                        All Rights Reserved
+
+Permission to use, copy, modify, and distribute this software and
+its documentation for any purpose and without fee is hereby granted,
+provided that the above copyright notice appear in all copies and
+that both that copyright notice and this permission notice appear in
+supporting documentation, and that the names of the copyright holders
+not be used in advertising or publicity pertaining to distribution
+of the software without specific, written prior permission.
+
+THE COPYRIGHT HOLDERS DISCLAIM ALL WARRANTIES WITH REGARD TO THIS
+SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND
+FITNESS. IN NO EVENT SHALL THE COPYRIGHT HOLDERS BE LIABLE FOR ANY
+SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER
+RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF
+CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN
+CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
+*********************************************************************/
+
+#ifndef _Xaw3dP_h
+#define _Xaw3dP_h
+
+#include <X11/IntrinsicP.h>
+
+/* These are set during the build to reflect capability and options. */
+@DEF_I18N_SUPPORT@
+@DEF_XPM_SUPPORT@
+@DEF_GRAY_STIPPLES@
+@DEF_ARROW_SCROLLBARS@
+
+#ifndef XtX
+#define XtX(w)			(((RectObj)w)->rectangle.x)
+#endif
+#ifndef XtY
+#define XtY(w)			(((RectObj)w)->rectangle.y)
+#endif
+#ifndef XtWidth
+#define XtWidth(w)		(((RectObj)w)->rectangle.width)
+#endif
+#ifndef XtHeight
+#define XtHeight(w)		(((RectObj)w)->rectangle.height)
+#endif
+#ifndef XtBorderWidth
+#define XtBorderWidth(w)	(((RectObj)w)->rectangle.border_width)
+#endif
+
+#ifdef XAW_GRAY_BLKWHT_STIPPLES
+extern unsigned long
+grayPixel(
+    unsigned long,
+    Display *,
+    Screen *
+);
+#else
+#define grayPixel(p, dpy, scn)	(p)
+#endif
+
+#ifdef XAW_MULTIPLANE_PIXMAPS
+extern Pixmap
+stipplePixmap(
+    Widget,
+    Pixmap,
+    Colormap,
+    Pixel,
+    unsigned int
+);
+#endif
+
+#endif	/* _Xaw3dP_h */
