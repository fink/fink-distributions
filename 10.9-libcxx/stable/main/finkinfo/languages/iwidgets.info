Package: iwidgets 
Version: 4.1.1
Revision: 1
Description: Mega-widget support for Tcl 
Maintainer: Steffen Schmidt <Steffen.Schmidt@Tuebingen.MPG.de>
License: BSD
Homepage: http://incrtcl.sourceforge.net/itcl/ 
Source: mirror:sourceforge:incrtcl/%v/%n-%v.tar.gz
Source-Checksum: SHA256(572fd8eed70786b1fbff6e7fec62eab7bd731beea074022d1b5a480ecf2df586)
BuildDepends: tcltk-dev (>= 1:8.6.17)
Depends: <<
	itk,
	tcl-libdirs,
	tcltk (>= 1:8.6.17)
<<
PatchScript: <<
	# Don't need itcl's or itk's actual build dirs.
	# Testing needs them, but maybe only their runtime
	# files, which would be installed.
	perl -pi.bak -e 's/if test -z "\$(ITCL|ITK)_LIB_DIR"; then/if false; then/' configure
<<
ConfigureParams: <<
	--mandir=%p/share/man \
	--with-tcl=%p/lib \
	--with-tk=%p/lib \
	--with-itcl=%p/lib/tcl-libdirs/8.6/itcl4.3.4 \
	--with-itk=%p/lib/itk4.1.0 \
	--libdir=%p/lib/tcl-libdirs
<<
CompileScript: <<
	./configure %c
	# there is no 'make' target for compiling
<<
InstallScript: <<
	mkdir -p %i/lib
	perl -pi -e 's|man/mann|share/man/man1|g' Makefile
	make install DESTDIR=%d INSTALL_ROOT=%d MKINSTALLDIRS="mkdir -p" INSTALL=install
<<
DocFiles: CHANGES README license.terms 
