Package: mdbtools3-shlibs
Version: 0.9.2
Revision: 1
Source: https://github.com/mdbtools/mdbtools/releases/download/v0.9.2/mdbtools-%v.tar.gz
Source-MD5: fe3c37d60d71a266d580d22d4aa415ab

Description: Read Microsoft Access database files
License: GPL
Maintainer: None <fink-devel@lists.sourceforge.net>
DocFiles: AUTHORS COPYING COPYING.LIB HACKING.* README.md
Homepage: https://github.com/mdbtools/mdbtools

DescDetail: <<
The MDB Tools project is a effort to document the MDB file format used
in Microsoft's Access database package, and to provide a set of tools
and applications to make that data available on other platforms.

Specifically, MDB Tools includes programs to export schema and data to
other databases such as MySQL, Oracle, Sybase, PostgreSQL, and others.

Also included is a SQL engine for performing simple SQL queries.
<<
DescPackaging: <<
	Former maintainer: Kurt Schwehr <goatbar@users.sourceforge.net>

	Explicitly pass bash-completion-dir to avoid needing
	BuildDepends:bash-completion (easier for unified packaging)
<<

DescUsage: <<
Quick example using a NOAA dataset

% wget 'http://chartmaker.ncd.noaa.gov/hsd/awois/\
contus/downloads/area1(mdb).zip'

% unzip 'area1(mdb).zip'

% mdb-ver section\ 1.mdb
JET4

% mdb-tables section\ 1.mdb
Section 1

% mdb-sql -H -p section\ 1.mdb
% mdb-shema section\ 1.mdb
% mdb-export -I section\ 1.mdb "Section 1" > commands.sql
<<

Depends: <<
	glib2-shlibs (>= 2.22.0-1),
	libiconv
<<

BuildDepends: <<
	fink-package-precedence,
	libiconv-dev,
	gawk,
	glib2-dev (>= 2.14.0-1),
	pkgconfig (>= 0.22-3),
	readline8
<<

PatchScript: <<
	# robustify the build
	perl -pi -e 's/(-version-info)/-no-undefined \1/' src/{libmdb,sql}/Makefile.in
<<
ConfigureParams: <<
	--disable-static \
	--with-bash-completion-dir=%p/share/bash-completion/completions \
	PKG_CONFIG_PATH="%p/lib/glib-2.0/pkgconfig-strict:$PKG_CONFIG_PATH"
<<
CompileScript: <<
	%{default_script}
	fink-package-precedence --prohibit-bdep=mdbtools3-dev .
<<
InstallScript: <<
	make install DESTDIR=%d
<<

Shlibs: <<
	%p/lib/libmdb.3.dylib 4.0.0 %n (>= 0.9.1-1)
	%p/lib/libmdbsql.3.dylib 4.0.0 %n (>= 0.9.1-1)
<<

SplitOff: <<
	Package: mdbtools
	Depends: <<
		%N (>= %v-%r),
		glib2-shlibs (>= 2.22.0-1),
		libiconv,
		readline8-shlibs
	<<
	Files: <<
		bin
		share/man
		share/bash-completion
	<<
	DocFiles: AUTHORS COPYING COPYING.LIB HACKING.* README.md
<<

SplitOff2: <<
	Package: mdbtools3-dev
	Depends: %N (= %v-%r)
	BuildDependsOnly: true
	Conflicts: <<
		mdbtools-dev
	<<
	Replaces: <<
		mdbtools (<< 0.6pre1-20080304-5),
		mdbtools-dev
	<<
	Files: <<
		lib/libmdb.{dylib,la}
		lib/libmdbsql.{dylib,la}
		lib/pkgconfig
		include
	<<
	DocFiles: AUTHORS COPYING COPYING.LIB HACKING.* README.md
<<
