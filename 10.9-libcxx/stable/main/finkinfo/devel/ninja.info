Package: ninja
Version: 1.10.0
Revision: 1
Maintainer: None <fink-devel@lists.sourceforge.net>

Source: https://github.com/ninja-build/%n/archive/v%v.tar.gz
Source-MD5: cf1d964113a171da42a8940e7607e71a
SourceRename: %n-%v.tar.gz
#SourceDirectory: martine-ninja-50af448
BuildDepends: re2c

CompileScript: ./configure.py --bootstrap
InstallScript: <<
  #!/bin/sh -ex
  mkdir -p %i/bin
  install -m 755 ninja %i/bin

  mkdir -p %i/etc/bash_completion.d
  install -m 755 misc/bash-completion %i/etc/bash_completion.d/
<<

# ninja tests requires build with cmake (builds a larger executable in build-cmake)
InfoTest: <<
  TestDepends: cmake
  TestScript: <<
    cmake -Bbuild-cmake -H.
    cmake --build build-cmake
    ./build-cmake/ninja_test || exit 2
  <<
<<

DocFiles: COPYING README.md doc/manual.asciidoc

Description: Small build system with a focus on speed
DescDetail: <<
Ninja is a small build system with a focus on speed. It differs from
other build systems in two major respects: it is designed to have its
input files generated by a higher-level build system, and it is designed
to run builds as fast as possible.
<<

# Apache Software License 2.0 is DFSG and OSI approved. According to our
# packaging manual, it also qualifies as "BSD", but that sounds plain
# wrong. 
License: DFSG-Approved
Homepage: https://ninja-build.org/
