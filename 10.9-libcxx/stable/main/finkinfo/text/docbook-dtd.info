Package: docbook-dtd
Version: 4.5.0
Revision: 1
BuildDepends: fink (>= 0.24.12-1)
Depends: sgml-entities-iso8879, libxml2-bin
Source: http://www.oasis-open.org/docbook/sgml/1.0/docbk10.zip
Source2: http://www.oasis-open.org/docbook/sgml/1.1/docbk11.zip
Source3: http://www.oasis-open.org/docbook/sgml/1.2/docbk12.zip
Source4: http://www.oasis-open.org/docbook/sgml/1.2.1/docbk121.zip
Source5: http://www.oasis-open.org/docbook/sgml/2.1/docbk21.zip
Source6: http://www.oasis-open.org/docbook/sgml/2.2.1/docbk221.zip
Source7: http://www.oasis-open.org/docbook/sgml/2.3/docbk23.zip
Source8: http://www.oasis-open.org/docbook/sgml/2.4/docbk24.zip
Source9: http://www.oasis-open.org/docbook/sgml/2.4.1/docbk241.zip
Source10: http://www.oasis-open.org/docbook/sgml/3.0/docbk30.zip
Source11: http://www.oasis-open.org/docbook/sgml/3.1/docbk31.zip
Source12: http://www.oasis-open.org/docbook/sgml/4.0/docbk40.zip
Source13: http://www.oasis-open.org/docbook/sgml/4.1/docbk41.zip
Source14: http://www.oasis-open.org/docbook/xml/4.0/docbkx40.zip
Source15: http://www.oasis-open.org/docbook/xml/4.1/docbkx41.zip
Source16: http://www.oasis-open.org/docbook/xml/4.1.1/docbkx411.zip
Source17: http://www.oasis-open.org/docbook/xml/4.1.2/docbkx412.zip
Source18: http://www.oasis-open.org/docbook/xml/4.2/docbook-xml-4.2.zip
Source19: http://www.docbook.org/xml/4.3/docbook-xml-4.3.zip
Source20: http://www.docbook.org/xml/4.4/docbook-xml-4.4.zip
Source21: http://www.docbook.org/xml/4.5/docbook-xml-4.5.zip
Source2ExtractDir: docbk11
Source3ExtractDir: docbk12
Source4ExtractDir: docbk121
Source5ExtractDir: docbk21
Source6ExtractDir: docbk221
Source7ExtractDir: docbk23
Source8ExtractDir: docbk24
Source9ExtractDir: docbk241
Source10ExtractDir: docbk30
Source11ExtractDir: docbk31
Source12ExtractDir: docbk40
Source13ExtractDir: docbk41
Source14ExtractDir: docbkx40
Source15ExtractDir: docbkx41
Source16ExtractDir: docbkx411
Source17ExtractDir: docbkx412
Source18ExtractDir: docbook-xml-4_2_0
Source19ExtractDir: docbook-xml-4_3_0
Source20ExtractDir: docbook-xml-4_4_0
Source21ExtractDir: docbook-xml-4_5_0
Source-Checksum: SHA256(55337d523a448d44be561409c7b4184a824c1202549f51810f39a9f3c2c97e96)
Source2-Checksum: SHA256(80eca1c44a61b1cca2973e41ffc969830d82e84810193334f07d4e632cac9126)
Source3-Checksum: SHA256(cd06d961fcdddfe310c86ebb6577e372fe8805f7da725a3e0873fae77c2be9eb)
Source4-Checksum: SHA256(c221a293d47f46031e38d38c691c3ac1384a923175ca2715e814207531a62989)
Source5-Checksum: SHA256(b9abf8b154612d3b09bf65d122162af07bd0b563dccee8e2798957aa2e50e648)
Source6-Checksum: SHA256(71bd88700537c2c38019105ae8cac8b4e77a51cc6ec8b355eef9a35c353a28cc)
Source7-Checksum: SHA256(c7d599601e9d3a7ffdd9844df13d68ba0560f22c018d4470e3e2ec881305ed4d)
Source8-Checksum: SHA256(5dde4ff94230709e1fcc7b5288ffc77c22dbbbc9563fa2d14431f1879a8cc3a7)
Source9-Checksum: SHA256(dbac0694e9bcaec43cab80c755ffb02cf8f613bf785ff8506e5ed72efa76a272)
Source10-Checksum: SHA256(ecf71cbe8ddbad7494ff520d5b4edf73a428c0b159178cb0cb619cba685e61c6)
Source11-Checksum: SHA256(20261d2771b9a052abfa3d8fab1aa62be05791a010281c566f9073bf0e644538)
Source12-Checksum: SHA256(dfef22f109779e4cfaafa27b6d381d975ac05eaafb5b3d4407d7043e310817bb)
Source13-Checksum: SHA256(deaafcf0a3677692e7ad4412c0e41c1db3e9da6cdcdb3dd32b2cc1f9c97d6311)
Source14-Checksum: SHA256(8edb0630fcb659f2547534ef3856a7e30de7cd0afe2405fa7abdebb83affca90)
Source15-Checksum: SHA256(49f3992bd62d07aace2559ad6604d747da38b977a76f9427c359f6a38ef4653e)
Source16-Checksum: SHA256(5af660e41751210b6348a421c745221ed010fcefe931d043f4ce5373fb42b84a)
Source17-Checksum: SHA256(30f0644064e0ea71751438251940b1431f46acada814a062870f486c772e7772)
Source18-Checksum: SHA256(acc4601e4f97a196076b7e64b368d9248b07c7abf26b34a02cca40eeebe60fa2)
Source19-Checksum: SHA256(23068a94ea6fd484b004c5a73ec36a66aa47ea8f0d6b62cc1695931f5c143464)
Source20-Checksum: SHA256(02f159eb88c4254d95e831c51c144b1863b216d909b5ff45743a1ce6f5273090)
Source21-Checksum: SHA256(4e4e037a2b83c98c6c94818390d4bdd3f6e10f6ec62dd79188594e26190dc7b4)
NoSourceDirectory: True
PatchFile: %n.patch
PatchFile-MD5: 0001aaa1ce455f2aa39cf72241b46dff
PatchScript: sed 's|@PREFIX@|%p|g' <%{PatchFile} | patch -p1
CompileScript: <<
#!/bin/sh -ev
echo "Preparing modell, changing system uri"
for v in 4.0 4.1 4.1.1 4.1.2 4.2.0 4.3.0 4.4.0 4.5.0; do
  sed -e "s|@VERSION@|$v|g" <xml_catalog >docbook-dtd-$v-temp
done
echo "Changing public uri, adding modules for v>=4.4"
for w in 4.0 4.1 4.1.1 4.1.2 4.2 4.3 4.4 4.5; do 
	if [ "$w" = "4.2" ] || [ "$w" = "4.3" ]; then
		sed -e "s|@VERSIONOASIS@|$w|g" \
					-e "/^BEGINFIRSTV4.4/,/^ENDFIRSTV4.4/d" \
					-e "/^BEGINSECONDV4.4/,/^ENDSECONDV4.4/d" <docbook-dtd-$w.0-temp >docbook-dtd-$w.0
		rm -f docbook-dtd-$w.0-temp*
	else
		if [ "$w" = "4.4" ] || [ "$w" = "4.5" ]; then
			sed -e "s|@VERSIONOASIS@|$w|g" \
						-e "/^BEGINFIRSTV4.4/d" \
						-e "/^ENDFIRSTV4.4/d" \
						-e "/^BEGINSECONDV4.4/d" \
						-e "/^ENDSECONDV4.4/d" <docbook-dtd-$w.0-temp >docbook-dtd-$w.0	
			rm -f docbook-dtd-$w.0-temp*
		else
			sed -e "s|@VERSIONOASIS@|$w|g" \
						-e "/^BEGINFIRSTV4.4/,/^ENDFIRSTV4.4/d" \
						-e "/^BEGINSECONDV4.4/,/^ENDSECONDV4.4/d" <docbook-dtd-$w-temp >docbook-dtd-$w
			rm -f docbook-dtd-$w-temp*
		fi
  fi
done
<<
InstallScript: <<
mkdir -p %i/share/sgml/dtd/docbook
mkdir -p %i/share/xml/dtd/docbookx

touch %i/share/sgml/dtd/docbook/catalog
echo 'CATALOG "2.3/docbook.cat"' >> %i/share/sgml/dtd/docbook/catalog
echo 'CATALOG "2.4/DOCBOOK.CAT"' >> %i/share/sgml/dtd/docbook/catalog
echo 'CATALOG "2.4.1/docbook.cat"' >> %i/share/sgml/dtd/docbook/catalog
echo 'CATALOG "3.0/docbook.cat"' >> %i/share/sgml/dtd/docbook/catalog
echo 'CATALOG "3.1/docbook.cat"' >> %i/share/sgml/dtd/docbook/catalog
echo 'CATALOG "4.0/docbook.cat"' >> %i/share/sgml/dtd/docbook/catalog
echo 'CATALOG "4.1/docbook.cat"' >> %i/share/sgml/dtd/docbook/catalog

touch %i/share/xml/dtd/docbookx/catalog
echo 'CATALOG "4.1/docbook.cat"' >> %i/share/xml/dtd/docbookx/catalog
echo 'CATALOG "4.1.1/docbook.cat"' >> %i/share/xml/dtd/docbookx/catalog
echo 'CATALOG "4.1.2/docbook.cat"' >> %i/share/xml/dtd/docbookx/catalog
echo 'CATALOG "4.2.0/docbook.cat"' >> %i/share/xml/dtd/docbookx/catalog
echo 'CATALOG "4.3.0/docbook.cat"' >> %i/share/xml/dtd/docbookx/catalog
echo 'CATALOG "4.4.0/docbook.cat"' >> %i/share/xml/dtd/docbookx/catalog
echo 'CATALOG "4.5.0/docbook.cat"' >> %i/share/xml/dtd/docbookx/catalog

mkdir -p %i/share/sgml/dtd/docbook/1.0
mv docbook.dtd %i/share/sgml/dtd/docbook/1.0

mv docbk11   %i/share/sgml/dtd/docbook/1.1
mv docbk12   %i/share/sgml/dtd/docbook/1.2
mv docbk121  %i/share/sgml/dtd/docbook/1.2.1
mv docbk21   %i/share/sgml/dtd/docbook/2.1
mv docbk221  %i/share/sgml/dtd/docbook/2.2.1
mv docbk23   %i/share/sgml/dtd/docbook/2.3
mv docbk24   %i/share/sgml/dtd/docbook/2.4
mv docbk241  %i/share/sgml/dtd/docbook/2.4.1
mv docbk30   %i/share/sgml/dtd/docbook/3.0
mv docbk31   %i/share/sgml/dtd/docbook/3.1
mv docbk40   %i/share/sgml/dtd/docbook/4.0
mv docbk41   %i/share/sgml/dtd/docbook/4.1
mv docbkx40  %i/share/xml/dtd/docbookx/4.0
mv docbkx41  %i/share/xml/dtd/docbookx/4.1
mv docbkx411 %i/share/xml/dtd/docbookx/4.1.1
mv docbkx412 %i/share/xml/dtd/docbookx/4.1.2
mv docbook-xml-4_2_0 %i/share/xml/dtd/docbookx/4.2.0
mv docbook-xml-4_3_0 %i/share/xml/dtd/docbookx/4.3.0
mv docbook-xml-4_4_0 %i/share/xml/dtd/docbookx/4.4.0
mv docbook-xml-4_5_0 %i/share/xml/dtd/docbookx/4.5.0

cp %p/share/sgml/entities/iso8879/*.gml %i/share/sgml/dtd/docbook/2.3
cp %p/share/sgml/entities/iso8879/*.gml %i/share/sgml/dtd/docbook/2.4.1
cp %p/share/sgml/entities/iso8879/*.gml %i/share/sgml/dtd/docbook/3.0
cp %p/share/sgml/entities/iso8879/*.gml %i/share/sgml/dtd/docbook/3.1
cp %p/share/sgml/entities/iso8879/*.gml %i/share/sgml/dtd/docbook/4.0
cp %p/share/sgml/entities/iso8879/*.gml %i/share/sgml/dtd/docbook/4.1

mkdir -p %i/etc/xml/catalog.d
cp docbook-dtd-* %i/etc/xml/catalog.d/

mkdir -p %i/etc/sgml/catalog.d
cp sgml_catalog %i/etc/sgml/catalog.d/docbook
echo '"%p/share/xml/dtd/docbookx/catalog"' >> %i/etc/sgml/catalog.d/docbook

mkdir -p %i/share/doc/%n
head -n 30 %i/share/xml/dtd/docbookx/4.5.0/docbookx.dtd > %i/share/doc/%n/COPYRIGHT

chmod -R go=u-w,a+X %i
<<
PostInstScript: <<
case "$1" in
  configure)
    test -x %p/sbin/update-xml-catalog  && update-xml-catalog
    test -x %p/sbin/update-sgml-catalog && update-sgml-catalog
    ;;
esac
<<
PostRmScript: <<
case "$1" in
  abort-install|purge|remove)
    test -x %p/sbin/update-xml-catalog  && update-xml-catalog
    test -x %p/sbin/update-sgml-catalog && update-sgml-catalog
    ;;
esac
<<
Description: DocBook SGML/XML DTDs official releases 
DescDetail: <<
The DocBook DTD (both SGML and XML) are maintained by OASIS.
DocBook  provides a system for writing structured documents using  SGML
or XML. It is particularly well-suited to books and  papers about computer
hardware and software, though it is by no means limited to them.
This release is a maintenance release. It has the following changes:
1 - citebiblioid is allowed everywhere other citations elements are 
    allowed
2 - revnumber is optional in revision
3 - colophon is allowed in article
4 - procedure is allowed in example
5 - mathphrase added
6 - termdef added
The complete specification is at:
<http://www.docbook.org/specs/docbook-4.5-spec.html>
<<
DescUsage: <<
This package only completes some of the tasks you need to make DocBook useful.
For more information about how to write DocBook documents, see
http://www.docbook.org/tdg/en/
<<
DescPort: <<
Previous maintainers Lukas Westermann and Michele Garoche.
Patch for producing a modell of XML catalog based on the docbook.cat 
files. 
From the modell, creation of catalogs with the correct version for 
OASIS reference, OASIS uri (VERSIONOASIS in the modell, and system 
uris (VERSION in the modell).
PostInstScript and PostRmScript to update the SGML and XML catalogs.
Correction of permissions, since they are not always the same, thanks
to Jean-Francois Mertens.
Further correction on chmod from dmacks.
<<
Maintainer: None <fink-devel@lists.sourceforge.net>
License: OSI-Approved
Homepage: http://www.oasis-open.org/docbook/
