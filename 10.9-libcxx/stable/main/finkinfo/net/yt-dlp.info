Package: yt-dlp
Version: 2025.05.22
Revision: 1
Source: https://github.com/yt-dlp/%n/archive/refs/tags/%v.tar.gz
SourceRename: %n-%v.tar.gz
Source-Checksum: SHA256(c09ad17e0b3d5f23af3948b4b3dc7e1a9781e66a9a4d93b7dc631803e538b137)
License: Public Domain
Maintainer: None <fink-devel@lists.sourceforge.net>
Description: Download videos from YouTube and other sites
BuildDepends: <<
	pandoc
<<
Depends: <<
	atomicparsley,
	python310
<<
Recommends: <<
	certifi-py310,
	ffmpeg,
	mutagen-py310,
	pycryptodome-py310
<<
# among other things, import from Debian's 2024.05.27-1 package:
#   0004-Makefile-Don-t-run-flake8-when-running-offlinetest.patch
PatchFile: %n.patch
PatchFile-MD5: b5989b349c26c0b81c41fca26f82b561
PatchScript: <<
	sed 's|@FINK_PREFIX@|%p|g' < %{PatchFile} | patch -p1
<<
CompileScript: <<
  # force the script to be regenerated by make
  #rm %b/bin/%n
<<
InfoTest: <<
  TestScript: <<
    make \
        PYTHON=%p/bin/python3.10 \
        DESTDIR=%d \
        PREFIX=%p \
        MANDIR=%p/share/man \
        SYSCONFDIR=%p/etc \
        offlinetest || exit 2
  <<
<<
InstallScript: <<
  make \
      PYTHON=%p/bin/python3.10 \
      DESTDIR=%d \
      PREFIX=%p \
      MANDIR=%p/share/man \
      SYSCONFDIR=%p/etc \
      install
<<
DocFiles: CONTRIBUTING.md CONTRIBUTORS LICENSE README.md
Homepage: https://github.com/yt-dlp/yt-dlp
