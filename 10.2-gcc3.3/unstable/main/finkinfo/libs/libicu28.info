Package: libicu28
Version: 2.8
Revision: 1

Source: mirror:sourceforge:fink/icu-%v.tgz
Source-MD5: 49b5509c111596e958a87f3b17432cdd
SourceDirectory: icu
Depends: %N-shlibs (>= %v-%r), %N-data (>= %v-%r)
Patch: %n.patch
NoSetCPPFLAGS: true
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
ConfigureParams: --mandir="%p/share/man" --sysconfdir="%p/etc" --with-data-packaging=files --disable-samples --enable-shared --enable-static
CompileScript: <<
#!/bin/sh -e

  pushd source
  ./configure %c
  make
  popd
<<
InstallScript: <<
#!/bin/sh -e

  pushd source
  make install DESTDIR="%d"
  popd
  install -d -m 755 %i/etc/icu
  install -c -m 644 source/data/mappings/convrtrs.txt %i/etc/icu/
<<
SplitOff: <<
  Package: %N-shlibs
  Files: <<
    lib/libicudata.28.0.dylib
    lib/libicui18n.28.0.dylib
    lib/libicuio.28.0.dylib
    lib/libicule.28.0.dylib
    lib/libiculx.28.0.dylib
    lib/libicutoolutil.28.0.dylib
    lib/libicuuc.28.0.dylib
  <<
  Shlibs: <<
    %p/lib/libicudata.28.0.dylib 28.0.0 (%n >= 2.8-0)
    %p/lib/libicui18n.28.0.dylib 28.0.0 (%n >= 2.8-0)
    %p/lib/libicuio.28.0.dylib 28.0.0 (%n >= 2.8-0)
    %p/lib/libicule.28.0.dylib 28.0.0 (%n >= 2.8-0)
    %p/lib/libiculx.28.0.dylib 28.0.0 (%n >= 2.8-0)
    %p/lib/libicutoolutil.28.0.dylib 28.0.0 (%n >= 2.8-0)
    %p/lib/libicuuc.28.0.dylib 28.0.0 (%n >= 2.8-0)
  <<
  Description: Shared libraries for ICU
  DocFiles: license.html
<<
SplitOff2: <<
  Package: %N-data
  Description: Locale data for the International Components for Unicode
  Files: <<
    lib/icu/%v/*.brk
    lib/icu/%v/*.cnv
    lib/icu/%v/*.icu
    lib/icu/%v/*.res
  <<
  RuntimeVars: <<
    ICU_DATA: %p/lib/icu/%v
  <<
<<
SplitOff3: <<
  Package: %N-dev
  Depends: %N (>= %v-%r)
  Description: Headers and static libraries for ICU
  Files: <<
    bin/icu-config
    include
    lib
  <<
<<
ConfFiles: %p/etc/icu/convrtrs.txt
PostInstScript: <<
  icucurrent=`2>/dev/null ls -dp %p/lib/icu/* | sed -n 's,.*/\([^/]*\)/$,\1,p'| sort -rn | head -1`
  cd %p/lib/icu
  rm -f %p/lib/icu/current
  if test x"$icucurrent" != x
  then
    ln -s "$icucurrent" current
  fi
  
  ICU_DATA=%p/lib/icu/%v
  export ICU_DATA
  if test ! -f $ICU_DATA/cnvalias.dat -o %p/etc/icu/convrtrs.txt -nt $ICU_DATA/cnvalias.dat
  then
    echo Compiling converters and aliases list from %p/etc/icu/convrtrs.txt
    %p/bin/gencnval %p/etc/icu/convrtrs.txt
  fi
<<
DocFiles: *.html
License: BSD
Description: International Components for Unicode
Maintainer: Benjamin Reed <ranger@befunk.com>
Homepage: http://oss.software.ibm.com/icu/
DescDetail: <<
The International Components for Unicode (ICU) libraries provide robust
and full-featured Unicode services on a wide variety of platforms.  ICU
supports the most current version of the Unicode standard, and they
provide support for supplementary Unicode characters (needed for GB
18030 repertoire support).

As computing environments become more heterogeneous, software
portability becomes more important. ICU lets you produce the same
results across all the various platforms you support, without
sacrificing performance.  It offers great flexibility to extend and
customize the supplied services, which include:

* Text: Unicode text handling, full character properties and character
  set conversions (500+ codepages)
* Analysis: Unicode regular expressions; full Unicode sets; character,
  word and line boundaries
* Comparison: Language sensitive collation and searching
* Transformations: normalization, upper/lowercase, script
  transliterations (50+ pairs)
* Locales: Comprehensive locale data (230+) and resource bundle
  architecture
* Complex Text Layout: Arabic, Hebrew, Indic and Thai
* Time: Multi-calendar and time zone
* Formatting and Parsing: dates, times, numbers, currencies, messages
 and rule based
<<
