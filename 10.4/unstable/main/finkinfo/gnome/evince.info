Package: evince
Version: 2.20.2
Revision: 6
Description: GNOME document viewer
License: GPL
Maintainer: None <fink-devel@lists.sourceforge.net>
Depends: <<
  atk1-shlibs (>= 1.20.0-1), audiofile-shlibs, cairo-shlibs (>= 1.6-1), dbus (>= 1.0-1),
  esound-shlibs (>= 0.2.38-1), expat1-shlibs,
  fontconfig2-shlibs (>= 2.4.1-1), freetype219-shlibs (>= 2.3.5-1), gail18-shlibs, gconf2 (>= 2.20.0-1),
  glib2-shlibs (>= 2.14.0-1), glitz-shlibs, ghostscript | system-ghostscript8,
  gnome-keyring-shlibs (>= 0.8.1-1), gnome-vfs2-unified-shlibs (>= 1:2.20.0-1),
  gtk+2-shlibs (>= 2.12.0-1), libart2-shlibs, libavahi-glib1-shlibs, libbonobo2-shlibs (>= 2.20.0-1),
  libbonoboui2-shlibs (>= 2.20.0-1), libgettext3-shlibs, libglade2-shlibs (>= 2.6.2-1),
  libgnome2-shlibs (>= 2.20.0-1), libgnomecanvas2-shlibs (>= 2.20.0-1),
  libgnomeui2-shlibs (>= 2.20.0-1), libiconv,
  libjpeg-shlibs, libkpathsea4-shlibs, libtiff-shlibs,
  libxml2-shlibs (>= 2.6.30-1), orbit2-shlibs (>= 2.14.9-1), libnautilus-ext2-shlibs,
  pango1-xft2-ft219-shlibs (>= 1.18.4-4),
  poppler2-glib-shlibs (>= 0.6.4-1),
  popt-shlibs, rarian-compat,
  tetex-base | system-tetex, x11-shlibs
<<
BuildDepends: <<
  autoconf (>= 2.60), automake1.9, libtool14, gnome-common (>= 2.20.0-1), fink (>= 0.24.12-1),
  atk1 (>= 1.20.0-1), audiofile, avahi-dev, libpng3, cairo (>= 1.6-1), dbus-dev (>= 1.0-1), esound (>= 0.2.38-1), expat1,
  fontconfig2-dev (>= 2.4.1-1), freetype219 (>= 2.3.5-1), gail18-dev, gconf2-dev (>= 2.20.0-1), gettext-tools,
  glib2-dev (>= 2.14.0-1), glitz, gnome-doc-utils (>= 0.12.0-1), gnome-icon-theme, gnome-keyring-dev (>= 0.8.1-1),
  gnome-vfs2-unified-dev (>= 1:2.20.0-1),
  gtk-doc,
  gtk+2-dev (>= 2.12.0-1), libart2, libavahi-glib1-dev, libbonobo2-dev (>= 2.20.0-1), libbonoboui2-dev (>= 2.20.0-1),
  libgettext3-dev, libglade2 (>= 2.6.2-1), libgnome2-dev (>= 2.20.0-1), libgnomecanvas2-dev (>= 2.20.0-1),
  libgnomeui2-dev (>= 2.20.0-1),
  libiconv-dev, libjpeg, libkpathsea4, libtiff,
  libxml2 (>= 2.6.30-1), libnautilus-ext2-dev, orbit2-dev (>= 2.14.9-1), pango1-xft2-ft219-dev (>= 1.18.4-4),
  pixman (>= 0.10.0-1), pkgconfig (>= 0.21-1),
  poppler2 (>= 0.6.4-1), poppler2-glib (>= 0.6.4-1), poppler-bin (>= 0.6.4-1),
  popt, intltool (>= 0.36.0-1), x11-dev, xft2-dev
<<
Source: mirror:gnome:sources/%n/2.20/%n-%v.tar.bz2
Source-MD5: 15214f5211d9f98ffa0afd8158b7d021
GCC: 4.0
ConfigureParams: --disable-dependency-tracking --disable-schemas-install --disable-scrollkeeper --enable-dvi --with-print=gtk --mandir=%p/share/man PKG_CONFIG_PATH="%p/lib/pango-ft219/lib/pkgconfig:%p/lib/fontconfig2/lib/pkgconfig:%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH" FREETYPE_CONFIG=%p/lib/freetype219/bin/freetype-config
PatchFile: %n.patch
PatchFile-MD5: 783a9b6e70c42f277fce672cf079a205
PatchScript: <<
	%{default_script}
	intltoolize -f
	autoreconf -f -i
	find . -name Makefile.in | xargs perl -pi -e 's,LINK = \$\(LIBTOOL\) --tag=CC,LINK = \$\(LIBTOOL\) --tag=CXX,' 
<<
CompileScript: <<
#!/bin/sh -ev

	./configure %c
	make CCLD=g++
<<
InstallScript: make -j1 install DESTDIR="%d" nautilusdir=`pkg-config --variable=extensiondir libnautilus-extension`
DocFiles: README COPYING
ConfFiles: <<
  %p/etc/gconf/schemas/evince.schemas
  %p/etc/gconf/schemas/evince-thumbnailer.schemas
  %p/etc/gconf/schemas/evince-thumbnailer-dvi.schemas
  %p/etc/gconf/schemas/evince-thumbnailer-ps.schemas
<<
PostInstScript: <<
  if [ configure = "$1" ]; then
    scrollkeeper-update -q
    export GCONF_CONFIG_SOURCE=`gconftool-2 --get-default-source`
    gconftool-2 --makefile-install-rule %p/etc/gconf/schemas/evince.schemas >/dev/null
    gconftool-2 --makefile-install-rule %p/etc/gconf/schemas/evince-thumbnailer.schemas >/dev/null
    gconftool-2 --makefile-install-rule %p/etc/gconf/schemas/evince-thumbnailer-dvi.schemas >/dev/null
    gconftool-2 --makefile-install-rule %p/etc/gconf/schemas/evince-thumbnailer-ps.schemas >/dev/null
  fi
<<
PostRmScript: <<
  if [ upgrade != "$1" ]; then
    scrollkeeper-update -q
  fi
<<
Homepage: http://www.gnome.org/projects/evince/
DescDetail: <<
Evince is a document viewer for multiple document formats. It
currently supports pdf, postscript, djvu, tiff and dvi. The goal of
evince is to replace the multiple document viewers that exist on the
GNOME Desktop with a single simple application.
<<
DescPackaging: <<
	Should enable pixbuf or impress?

	Has C++ in low-level sources, so need to force use of g++ for
	linking higher-level objects.

	Remove superfluous use of obsolete libgnomeprint stack. See:
	http://bugzilla.gnome.org/show_bug.cgi?id=508684

	Use nautilus's self-published extensions dir instead of
	hard-coding what it was for a certain libnautilus version
<<
DescPort: <<
	libpsdocument directly uses libX11 symbols
<<
