Info2: <<
Package: pygobject2-py%type_pkg[python]
Version: 2.14.2
Revision: 2
Distribution: (%type_pkg[python] = 23) 10.4
Description: Python bindings for the Glib2 gobject library
DescDetail: <<
The original pygtk2-py binding set split into pygtk2-gtk-py and pygobject2-py
<<
DescPort: <<
#Patched tests scripts to use the desired python interpretter.
^-- tests/Makefile.am runs them via $(PYTHON) so doesn't matter

Regenerate py-compile from automake1.9, which understands DESTDIR correctly

Need to patch Makefile.am so that local .m4 files are found. See:
http://bugzilla.gnome.org/show_bug.cgi?id=491773
<<
DescPackaging: <<
	libtool2 doesn't generate "libtool" script until end of
	configure, so patch configure.ac so that it is generated early
	because later part of configure uses it.
<<
Homepage: http://www.pygtk.org
License: LGPL
Maintainer: Daniel Macks <dmacks@netspace.org>
BuildDepends: <<
  autoconf (>= 2.60-1),
  automake1.10,
  fink (>= 0.24.12-1),
  gettext-bin,
  gettext-tools,
  glib2-dev (>= 2.18.0-1),
  libgettext3-dev,
  libiconv-dev,
  libtool2,
  pkgconfig (>= 0.23)
<<
Depends: <<
  glib2-shlibs (>= 2.18.0-1),
  libgettext3-shlibs,
  libiconv,
  python%type_pkg[python]
<<
Conflicts: pygtk2
Replaces: pygtk2, pygtk2-py%type_pkg[python]
Source: mirror:gnome:sources/pygobject/2.14/pygobject-%v.tar.bz2
Source-MD5: 0e9e9300e81847f4f7266f49d3bebbaf
Type: python (2.3 2.4 2.5)
PatchFile: %{ni}.patch
PatchFile-MD5: 70f7df863d3057e65db27836a45055f5
PatchScript: <<
	%{default_script}
# perl -pi -e 's|#\!\s*/usr/bin/env\s+python.*|#\!%p/bin/python%type_raw[python]|' tests/*.py
<<
ConfigureParams: --mandir=%p/share/man --disable-dependency-tracking
CompileScript: <<
  autoreconf -fi
  PYTHON=%p/bin/python%type_raw[python] ./configure %c
  make
<<
InstallScript: <<
  make -j1 install DESTDIR=%d
<<
DocFiles: AUTHORS COPYING ChangeLog NEWS README
SplitOff: <<
  Package: %N-dev
  Description: Tools for compiling against pygobject
  Depends: %N (= %v-%r)
  BuildDependsOnly: true
  Conflicts: <<
    pygobject2-py23-dev, pygobject2-py24-dev, pygobject2-py25-dev
  <<
  Replaces: <<
    pygtk2-py22-dev, pygtk2-py23-dev, pygtk2-py24-dev, pygtk2-py25-dev,
    pygobject2-py23-dev, pygobject2-py24-dev, pygobject2-py25-dev
  <<
  Files: include lib/pkgconfig share/gtk-doc share/pygobject
  DocFiles: AUTHORS COPYING ChangeLog NEWS README
<<
<<
