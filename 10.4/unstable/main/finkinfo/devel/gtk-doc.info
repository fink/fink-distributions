Package: gtk-doc
Version: 1.11
Revision: 3
BuildDepends: <<
	fink (>= 0.24.12-1),
	glib2-dev (>= 2.18.0-1),
	gnome-doc-utils (>= 0.14.2-1),
	libxml2 (>= 2.6.30-1),
	libxslt (>= 1.1.14-1),
	pkgconfig (>= 0.23)
<<
Depends: <<
	docbook-dtd (>= 4.2.0-2),
	docbook-xsl (>= 1.62.4-2),
	docbook-dsssl-nwalsh (>= 1.78-2),
	libxml2-bin (>= 2.6.30-1),
	libxslt-bin (>= 1.1.14-1),
	libxslt-shlibs (>= 1.1.14-1),
	openjade (>= 1.3.2-1029),
	rarian-compat
<<
Source: mirror:gnome:sources/%n/%v/%n-%v.tar.bz2
Source-MD5: b5e268c71fa90aad890cf53715664d0a
Source2: mirror:debian:pool/main/g/gtk-doc/%n_%v-3.diff.gz
Source2-MD5: ce6b25179900a2aae50595f6c7fccd1b
PatchFile: %n.patch
PatchFile-MD5: 7730fade0dae01d028cebad947df0c46
PatchScript: <<
#!/bin/sh -ev
	%{default_script}
	gzip -dc ../%n_%v-*.diff.gz | patch -p1
	for file in \
		50_shell-errors.patch \
	; do
		echo "applying $file"
		patch -p0 < debian/patches/$file
	done
	perl -pi -e 's,/usr/share/doc/gtk-doc-tools,%p/share/doc/%n,g' debian/*.1
<<
ConfigureParams: --with-xml-catalog=%p/etc/xml/catalog --disable-dependency-tracking --disable-scrollkeeper --disable-static PERL=/usr/bin/perl PYTHON=/usr/bin/python
CompileScript: <<
	./configure %c
	make
<<
InstallScript: <<
make install DESTDIR=%d
install -d -m 755 %i/share/doc/%n/doc
install -d -m 755 %i/share/doc/%n/examples
install -c -m 644 doc/* %i/share/doc/%n/doc/
install -c -m 644 examples/* %i/share/doc/%n/examples/
	mkdir -p %i/share/man/man1
	cp debian/*.1 %i/share/man/man1
<<
PostInstScript: <<
	if [ configure = "$1" ]; then
		scrollkeeper-update -q
	fi
<<
PostRmScript: <<  
	if [ remove != "$1" ]; then
		scrollkeeper-update -q
	fi
<<
DocFiles: AUTHORS COPYING COPYING-DOCS ChangeLog INSTALL MAINTAINERS NEWS README TODO
Description: GTK+ - API documentation generator
DescDetail: <<
gtk-doc is a set of perl scripts that generate API reference documention in
DocBook format.  It can extract documentation from source code comments in a
manner similar to java-doc.  It is used to generate the documentation for
GLib, Gtk+, and GNOME.
<<
License: GPL
Maintainer: The Gnome Core Team <fink-gnome-core@lists.sourceforge.net>
DescPackaging: <<
	Formerly maintained by Masanori Sekino and Michele Garoche.
	Added libxslt-bin to Depends in order to get xsltproc, otherwise some 
	packages fail to build.
	Customized docbook-to-man, and tools not installed
	Apple's perl and python are sufficient, so make sure they are used
	Patch programs to avoid needing glib2-dev at runtime

	Avoid perl -w diagnostics and improve error messages in
	system() calls (debian patch)

	Install manpages for command-line programs (from debian)
<<
Homepage: http://www.gtk.org/gtk-doc/
