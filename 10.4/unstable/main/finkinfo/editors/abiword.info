Package: abiword
Version: 2.2.7
Revision: 1005
Depends:  <<
	applesystemfonts,
	atk1-shlibs (>= 1.12.3-1),
	enchant1-shlibs (>= 1.2.6-1002),
	fribidi-shlibs,
	glib2-shlibs (>= 2.12.0-1),
	gtk+2-shlibs (>= 2.10.0-1),
	libgettext3-shlibs,
	libglade2-shlibs,
	libiconv,
	libjpeg-shlibs,
	libpng3-shlibs,
	libxml2-shlibs,
	pango1-xft2-ft219-shlibs (>= 1.14.9-1),
	popt-shlibs,
	x11-shlibs
<<
BuildDepends: <<
	applesystemfonts,
	atk1 (>= 1.12.3-1),
	cairo (>= 1.2-1),
	enchant1-dev (>= 1.2.6-1002),
	fontconfig2-dev (>= 2.3.2-13),
	freetype219,
	fribidi,
	fribidi-dev,
	gettext-bin,
	gettext-tools,
	glib2-dev (>= 2.12.0-1),
	gtk+2-dev (>= 2.10.0-1),
	libgettext3-dev,
	libglade2,
	libiconv-dev,
	libjpeg,
	libpng3,
	libxml2,
	pango1-xft2-ft219-dev (>= 1.14.9-1),
	pkgconfig (>= 0.21-1),
	popt,
	x11-dev,
	xft2-dev
<<
PatchScript: <<
  cd .. && sed 's|@PREFIX@|%p|g' < %a/%n.patch | patch -p1
<<
Description: Open-source word processor
DescUsage: <<
 set the BROWSER environment variable to "open" to
 have your default web browser be the help viewer.
<<
Source: http://www.abisource.com/downloads/%n/%v/source/%n-%v.tar.gz
Source-MD5: d07e581539479e615a0af0c0a92da9a3
GCC: 4.0
SourceDirectory: %n-%v/abi
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
ConfigureParams: --disable-gnome --disable-Cocoa --disable-Carbon --with-libxml2 --disable-gucharmap --with-libjpeg  --without-epath
NoSetCPPFLAGS: true
SetCPPFLAGS: -I/usr/X11R6/include/freetype2 -I%p/include
InstallScript: <<
 make install DESTDIR=%d

 # make abiword a shell script that sets symlinks for applettf
 # fonts in ~/.fonts (if necessary) on launch.
 # remove abiword (a symlink)
 /bin/rm -f %i/bin/abiword
 mkdir -p %i/lib/AbiSuite-2.2
 # move actual abiword executable
 mv %i/bin/AbiWord-2.2 %i/lib/AbiSuite-2.2
 # install abiword startup script
 install -m 755 abiword.sh %i/bin/abiword

 # install abiword-docs dir.
 mkdir -p %i/share/doc/%n
 cd .. && cp -R abiword-docs %i/share/doc/%n
 # symlink for man page
 mkdir -p %i/share/man/man8
 ln -s %p/share/doc/abiword/abiword-docs/man/abiword.8 %i/share/man/man8/abiword.8
 # symlink for help pages
 mkdir -p %i/share/AbiSuite-2.2/AbiWord
 ln -s %p/share/doc/abiword/abiword-docs/help %i/share/AbiSuite-2.2/AbiWord/help
<<
DescPort: <<
 Patch to use 'open' as default help browser (set the BROWSER
 environment variable to override this).
 abiword is a wrapper script that sets up symlinks to applettf
 fonts in ~/.fonts, so that abiword will find them.
<<
DocFiles: BUILD.TXT COPYING README.TXT COPYRIGHT.TXT
License: GPL
Homepage: http://www.abiword.com
Maintainer: None <fink-devel@lists.sourceforge.net>
