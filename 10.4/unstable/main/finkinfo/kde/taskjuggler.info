#
# Fink Package Description
# TaskJuggler II version 2.4.0
#  The flexible project management software
#
# Packages:
#  + taskjuggler
#  + taskjuggler-nox
#
# Package Maintainer: Rene Kuettner <rene@bitkanal.net>
#

# meta
Info2: <<
Package: taskjuggler%type_pkg[-nox]
Description: KDE - Flexible project management tool
Version: 2.4.0
Type: -nox (boolean)
Revision: 1002

HomePage: http://www.taskjuggler.org
License: GPL
GCC: 4.0

Maintainer: Rene Kuettner <rene@bitkanal.net>

BuildDepends: <<
  fink (>= 0.24.12-1),
  qt3 (>= 3.3-1),
  (%type_raw[-nox] = .) kdelibs3-unified-dev (>= 3.5-1),
  (%type_raw[-nox] = .) kdepim3-dev (>= 3.5-1),
  (%type_raw[-nox] = .) x11-dev,
  (%type_raw[-nox] = .) fink (>= 0.20-1),
  libjpeg,
  libpng3,
  autoconf (>= 2.60.0-1),
  docbook-bundle (>= 4.1-1),
  docbook-utils (>= 0.6.14-1),
  freetype219, libart2, libgettext3-dev, libiconv-dev, libidn, pcre
<<

Depends: <<
  (%type_raw[-nox] = .) x11,
  (%type_raw[-nox] = .) x11-shlibs,
  (%type_raw[-nox] = .) kdepim3-base,
  (%type_raw[-nox] = .) kdepim3-common,
  (%type_raw[-nox] = .) ktnef,
  (%type_raw[-nox] = .) kdelibs3-unified-shlibs,
  libjpeg-shlibs,
  libpng3-shlibs,
  qt3-shlibs (>= 3.3-1),
  freetype219-shlibs, libart2-shlibs, libgettext3-shlibs, libiconv, libidn-shlibs, pcre-shlibs, qt3-shlibs
<<

Conflicts: taskjuggler, taskjuggler-nox
Replaces: taskjuggler, taskjuggler-nox
Provides: taskjuggler-nox

PatchFile: taskjuggler.patch
PatchFile-MD5: 73d531f0f28d35238dc737aaf9e8c1a8

Source: http://www.taskjuggler.org/download/taskjuggler-%v.tar.bz2
Source-MD5: d9076b5a1d2601f93ea4bc07780b7297

# build
ConfigureParams: <<
  (%type_raw[-nox] = -nox) --with-kde-support=no \
  --with-extra-includes=%p/include --with-extra-libs=%p/lib \
  --with-qt-dir="%p/lib/qt3" --disable-pch --enable-mac --disable-dependency-tracking
<<

SetLDFLAGS: -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
SetDYLD_LIBRARY_PATH: %b/taskjuggler/.libs

# install
DocFiles: COPYING README AUTHORS ChangeLog TODO
InstallScript: <<
  install -d %i/share/man/man1
  install -m 644 man/en/taskjuggler.1 %i/share/man/man1
  install -d %i/lib
  install -m 644 taskjuggler/.libs/libtaskjuggler.3.0.3.dylib %i/lib/
  (cd %i/lib && ln -s libtaskjuggler.3.0.3.dylib libtaskjuggler.3.dylib)
  make install \
    DESTDIR=%d \
    docprefix=%p/share/doc/%n \
    kde_locale=%p/share/locale
<<

# sh-libs
Shlibs: %p/lib/libtaskjuggler.3.dylib 4.0.0 %n (>= 2.4.0-1001)

# details
DescDetail: <<

TaskJuggler is a project management tool for Linux and UNIX-like
operating systems. Its new approach to project planning and tracking is
far superior to the commonly used Gantt chart editing tools. It has
already been successfully used in many projects and scales easily to
projects with hundreds of resources and thousands of tasks.

If you are about to build a skyscraper or just want to put together
your colleague's shift plan for the next month, TaskJuggler is the
right tool for you. If you just want to draw nice looking Gantt charts
to impress your boss or your investors, TaskJuggler might not be right
for you. It takes some effort to master its power, but it will become a
companion you don't want to miss anymore.

Authors:
--------
    Chris Schlaeger <cs@kde.org>,
    Klaas Freitag <freitag@suse.de>
    Lukas Tinkl <lukas.tinkl@suse.cz>

<<

<<
