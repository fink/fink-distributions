Package: kvirc
Version: 3.4.0
Revision: 1003
Source: ftp://ftp.%n.ru/pub/%n.net/%v/source/%n-%v.tar.bz2
Depends: %N-shlibs, kdelibs3-unified-shlibs, libart2-shlibs, libidn-shlibs, libiconv, qt3-shlibs, freetype219-shlibs, libpng3-shlibs, esound-shlibs, audiofile-shlibs, x11, x11-shlibs
BuildDepends: kdelibs3-unified-dev, libart2, libgettext3-dev, libidn, libiconv-dev, qt3, gettext-tools, libpng3, freetype219, system-openssl-dev, esound, x11-dev, audiofile, libxml2-bin, xmkmf (>= 1.0.2-3)
BuildConflicts: openssl-dev, openssl097-dev, openssl098-dev
Recommends: kdebase3-unified, amarok
GCC: 4.0
SourceDirectory: %n-%v
Maintainer: Jack Fink <jackfink@users.sourceforge.net>
Homepage: http://www.kvirc.net
License: GPL
Description: KDE - IRC client with many extras
Source-MD5: 86529355dc3e461f1e791d79a13b9af9
PatchScript: <<
	perl -pi -e 's/-g -O2/-Os/;s/-O2/-Os/;s,doc/HTML,doc/kde,;s,-L\$SS_TOPSRCDIR/src/kvilib/build/,,' configure
<<
SetLDFLAGS: -L%p/lib/freetype219/lib -L%p/lib/system-openssl/lib -Wl,-dylib_file,/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
SetCPPFLAGS: -I%p/lib/freetype219/include -I%p/lib/system-openssl/include
ConfigureParams: --mandir=%p/share/man --with-extra-libs=%p/lib --with-extra-includes=%p/include --with-kde-library-dir=%p/lib --enable-optimisation=s --without-kde-check --disable-dependency-tracking
CompileScript: <<
#!/bin/sh -ev
 export PATH=%p/lib/xmkmf/bin:$PATH 
 export IMAKEINCLUDE=-I%p/lib/X11/config
 ./configure %c
 make
<<
InstallScript: <<
#!/bin/sh -ev
 export PATH=%p/lib/xmkmf/bin:$PATH 
 export IMAKEINCLUDE=-I%p/lib/X11/config
 make install DESTDIR=%d && rm %i/share/services/irc.protocol
<<
DocFiles: ChangeLog FAQ INSTALL README TODO
Splitoff: <<
  Package: %N-shlibs
  Description: KDE - IRC client with many extras, shared libs
  Depends: kdelibs3-unified-shlibs, libart2-shlibs, libidn-shlibs, libiconv, qt3-shlibs, freetype219-shlibs, libpng3-shlibs, esound-shlibs, audiofile-shlibs
  Files: <<
    lib/libkvilib.3.dylib
    lib/libkvilib.3.0.0.dylib
  <<
  Shlibs: <<
    %p/lib/libkvilib.3.dylib 4.0.0 %n (>= 3.2.6-1005)
  <<
  DocFiles: README
<<
SplitOff2: <<
  Package: %N-dev
  Description: KDE - IRC client with many extras, development files
  Depends: %N-shlibs (= %v-%r)
  BuildDependsOnly: True
  Files: <<
    include
    lib/libkvilib.la
    lib/libkvilib.dylib
    bin/kvirc-config
  <<
  DocFiles: README
<<
