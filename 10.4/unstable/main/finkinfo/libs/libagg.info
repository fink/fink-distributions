Package: libagg
Version: 2.4
Revision: 1
Description: 2D rendering engine for C++
License: BSD
Maintainer: Benjamin Reed <libagg@fink.racoonfink.com>

Depends: %N-shlibs (>= %v-%r)
BuildDepends: <<
	autoconf (>= 2.60-1),
	automake1.9,
	freetype219 (>= 2.3.5-1),
	libtool14,
	pkgconfig (>= 0.22-3),
	sdl,
	x11-dev
<<
GCC: 4.0

Source: http://www.antigrain.com/agg-%v.tar.gz
Source-MD5: 863d9992fd83c5d40fe1c011501ecf0e
Patch: %n.patch

ConfigureParams: --mandir=%p/share/man --infodir=%p/share/info --disable-sdltest
CompileScript: <<
#!/bin/sh -ex

	PATH="%p/lib/freetype219/bin:$PATH" \
		LDFLAGS="-L%p/lib/freetype219/lib $LDFLAGS" \
		CPPFLAGS="-I%p/lib/freetype219/include -I%p/lib/freetype219/include/freetype2 $CPPFLAGS" \
		PKG_CONFIG_PATH="%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH" \
		sh autogen.sh %c
	if [ -f /usr/lib/libstdc++.6.dylib ]; then
		perl -pi -e 's,-framework Carbon,-lstdc++.6 -framework Carbon,g' src/platform/mac/Makefile
	fi
	make
<<

InstallScript: <<
#!/bin/sh -ex
 make install DESTDIR="%d"
<<
DocFiles: readme* authors copying news readme ChangeLog
SplitOff: <<
	Package: %N-shlibs
	Description: shared libraries for the AGG rendering engine
	Depends: <<
		freetype219-shlibs (>= 2.3.5-1),
		sdl-shlibs,
		x11-shlibs
	<<
	Files: <<
		lib/libagg.*.dylib
		lib/libaggplatformX11.*.dylib
	<<
	Shlibs: <<
		%p/lib/libagg.2.dylib            3.0.0 libagg-shlibs (>= 2.3-1)
		%p/lib/libaggplatformX11.2.dylib 3.0.0 libagg-shlibs (>= 2.3-1)
	<<
<<
SplitOff2: <<
	Package: %N-dev
	Description: libagg development headers and libraries
	Depends: %N-shlibs (>= %v-%r)
	BuildDependsOnly: true
	Files: <<
		include
		lib
	<<
<<

Homepage: http://www.antigrain.com/
DescUsage: <<
Anti-Grain Geometry (AGG) is a general purpose graphical toolkit written
completely in standard and platform independent C++.  It can be used in
many areas of computer programming where high quality 2D graphics is an
essential part of the project.  For example, if you render 2D geographic
maps AGG is a must.  AGG uses only C++ and standard C runtime functions,
such as memcpy, sin, cos, sqrt, etc.  The basic algorithms don't even use
C++ Standard Template Library.  Thus, AGG can be used in a very large
number of applications, including embedded systems.
<<

