Package: libgeda
Version: 20061020
Revision: 1

Depends: guile16-shlibs (>= 1.6.7-1010), %N27-shlibs (=%v-%r), libpng3-shlibs
BuildDepends: <<
  cairo (>= 1.2-1), fontconfig2-dev (>= 2.3.2-13), freetype219, xft2-dev,
  guile16 (>= 1.6.7-1010), guile16-dev (>= 1.6.7-1010), pkgconfig (>= 0.21-1), gtk+2-dev (>= 2.10.0-1),
  x11-dev, texi2html | tetex-base, libpng3, glib2-dev (>= 2.12.0-1),
  pango1-xft2-ft219-dev (>= 1.14.9-1), libgettext3-dev, libiconv, libiconv-dev
<<
BuildDependsOnly: True

CustomMirror: <<
  nam-US: http://www.geda.seul.org/devel/
  eur-SE: http://ftp.sunet.se/geda/devel/
<<

Source: mirror:custom:%v/%n-%v.tar.gz
SourceDirectory: %n-%v
Source-MD5: 3caf1aeee5627706b9abe54f6601a7dc
# Patch: %n-gcc4.patch
# Patch: %n-db2.patch
# PatchScript: perl -pi -e 's@^#line@//@' src/*.c
# Patch: %n-time.patch

### Apparently this disappeared with noweb:
# InfoDocs: libgedadoc.info

ConfigureParams: --with-rcdir=%p/etc/gEDA --infodir=%p/share/info GUILE=%p/bin/guile-1.6 GUILE_CONFIG=%p/bin/guile-1.6-config --disable-dependency-tracking --disable-gdgeda PKG_CONFIG_PATH="%p/lib/pango-ft219/lib/pkgconfig:%p/lib/fontconfig2/lib/pkgconfig:%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH" FREETYPE_CONFIG=%p/lib/freetype219/bin/freetype-config

InstallScript: make install DESTDIR=%d

SplitOff: <<
  Package: %N27-shlibs
  Replaces: libgeda-shlibs (<< 20041228-0)
  Depends: <<
    guile16-shlibs (>= 1.6.7-1010), glib2-shlibs (>= 2.12.0-1), x11-shlibs,
    gtk+2-shlibs (>= 2.10.0-1), pango1-xft2-ft219-shlibs (>= 1.14.9-1), libpng3-shlibs, libiconv, libgettext3-shlibs,
    %N-data
  <<

  Description: GNU EDA -- Electronics design software -- library files
  Files: lib/libgeda.27.0.0.dylib lib/libgeda.27.dylib
  Shlibs: <<
    %p/lib/libgeda.27.dylib 28.0.0 %n (>= 20061020-0)
  <<
  DocFiles: AUTHORS BUGS NEWS README TODO
<<

SplitOff2: <<
  Package: %N27-data
  Provides: %N-data
  Description: GNU EDA -- Electronics design software -- data files
  Files: share/gEDA/prolog.ps
<<

DocFiles: AUTHORS BUGS NEWS README TODO

Description: GNU EDA -- Electronics design software -- development files

DescDetail: <<
Library development files for GNU EDA, an electronics design package, 
including gschem, a schematic editor.

This package contains development library files for gEDA.
You only need to install this package if you wish to recompile
the geda-* client packages.
<<

DescPackaging: <<
prolog.ps has been split off since we do not yet know whether it will
be backwards compatible in future releases.
<<

License: GPL
Homepage: http://www.geda.seul.org/
Maintainer: Charles Lepple <clepple+fink@ghz.cc>
