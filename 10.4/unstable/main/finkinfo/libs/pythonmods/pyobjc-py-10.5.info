Info2: <<
Package: pyobjc-py%type_pkg[python]
Version: 2.0+svn2008
Revision: 4
Distribution: 10.5
Type: python(2.5)
License: BSD
Maintainer: James Bunton <jamesbunton@fastmail.fm>
Homepage: http://pyobjc.sourceforge.net/
Description: Glue to interface Python with Objective-C
DescDetail: <<
The PyObjC package provides the glue needed to interface the Python
interpreter with the Objective-C language.  At its core is the 'objc'
module makes Objective-C objects and classes available as first-class
Python citizens.  It is not only possible to use Objective-C objects
but you can also subclass Objective-C classes.

To make it easier to use the core 'objc' module, this package also
provides a number of modules that are wrappers for the Cocoa
frameworks, such as Foundation and AppKit.  These modules not only
give you access to the classes in these frameworks but also to the
functions and constants in those modules.

To test see windows appear on your Mac OS X desktop from Python
scripts, run some of the example scripts in the pyobjc-pyXX-doc
package.
<<

BuildDepends: fink (>= 0.24.12)
Depends: python%type_pkg[python], setuptools-py%type_pkg[python]

Source: http://delx.net.au/software/pyobjc-%v.tar.bz2
Source-MD5: c2ba2787ca0775466b67db4e6d74fe59
PatchFile: %{ni}-10.5.patch
PatchFile-md5: 3d61d3f894ec8bda3cf607440579b1d4

CompileScript: <<
#!/bin/bash -ev

for proj in pyobjc-core pyobjc-metadata pyobjc-framework*
do
	echo -ne "\n----- $proj -----\n\n"
	pushd ${proj} > /dev/null

	# Build python libs
	%p/bin/python%type_raw[python] setup.py build

	popd > /dev/null
done
<<



InstallScript: <<
#!/bin/bash -ev

for proj in pyobjc-core pyobjc-metadata pyobjc-framework*
do
	echo -ne "\n----- $proj -----\n\n"
	pushd ${proj} > /dev/null

	# Install python libs
	%p/bin/python%type_raw[python] setup.py install --root=%d

	# Install docs
	mkdir -p %i/share/doc/%N/"${proj}"
	for doc in Doc doc Examples examples README.txt ReadMe.txt NEWS.txt HISTORIC.txt Install.txt; do
		if [ -r "$doc" ]; then
			cp -rp "$doc" %i/share/doc/%N/"${proj}"/
		fi
	done

	popd > /dev/null
done

# Language versioned executables
cd %i/bin
for filename in *; do
	mv -v $filename $filename-py%type_pkg[python]
done
<<


SplitOff: <<
	Description: Binaries for pyobjc
	Package: %N-bin
	Depends: %N (= %v-%r)
	Files: bin

	PostInstScript: <<
	for filename in \
		nibclassbuilder \
		pyobjc-metadata-gen \
		pyobjc-metadata-lint \
		pyobjc-metadata-overrides \
		pyobjc-wrapper-gen
	do
		update-alternatives --install %p/bin/$filename $filename %p/bin/$filename-py%type_pkg[python] %type_pkg[python]
	done
	<<

	PreRmScript: <<
	if [ "$1" = "upgrade" ]; then
		exit
	fi

	for filename in \
		nibclassbuilder \
		pyobjc-metadata-gen \
		pyobjc-metadata-lint \
		pyobjc-metadata-overrides \
		pyobjc-wrapper-gen
	do
		update-alternatives --remove $filename %p/bin/$filename-py%type_pkg[python]
	done
	<<
<<


SplitOff2: <<
	Description: Docs and example scripts for pyobjc
	Package: %N-doc
	Files: share/doc/%N
<<

DescPackaging: <<
 There are no available tarballs of pyobjc2.0 or above.
 The file pyobjc-2.0+svn2008.tar.bz2 was created from trunk of the pyobjc
 repository with the following commands.
$ umask 022
$ svn export -r 2008 http://svn.red-bean.com/pyobjc/trunk/pyobjc pyobjc-2.0+svn2008
$ rm -rf altgraph macholib modulegraph py2app PyOpenGL-2.0.2.01
$ tar jcf pyobjc-2.0+svn2008.tar.bz2 pyobjc-2.0+svn2008/

 Uses NSUInteger datatype, which was introduced in 10.5
<<

<<
