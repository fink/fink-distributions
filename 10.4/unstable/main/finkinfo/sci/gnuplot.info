Info2: <<
Package: gnuplot%type_pkg[-nox]
Version: 4.2.3
Revision: 13
Type: -nox (boolean)
Maintainer: Alexander Hansen <akh@finkproject.org>
Conflicts: gnuplot, gnuplot-nox
Replaces: gnuplot, gnuplot-nox
Depends: <<
	(%type_raw[-nox] != -nox) app-defaults,
	aquaterm,
	(%type_raw[-nox] != -nox) atk1-shlibs,
	(%type_raw[-nox] != -nox) cairo-shlibs,
	(%type_raw[-nox] != -nox) fontconfig2-shlibs,
	freetype219-shlibs,
	(%type_raw[-nox] != -nox) gd2-shlibs,
	(%type_raw[-nox] != -nox) glib2-shlibs,
	(%type_raw[-nox] != -nox) gtk+2-shlibs,
	(%type_raw[-nox] != -nox) libgettext3-shlibs,
	(%type_raw[-nox] != -nox) libggi2,
	libiconv,
	libjpeg-shlibs,
	libncurses5-shlibs,
	libpng3-shlibs,
	ncurses,
	(%type_raw[-nox] != -nox) pango1-xft2-ft219-shlibs,
	pdflib6-shlibs,
	(%type_raw[-nox] != -nox) plotutils,
	readline5-shlibs,
	(%type_raw[-nox] != -nox) wxgtk2.8-shlibs,
	(%type_raw[-nox] != -nox) x11
<<
BuildDepends: <<
	aquaterm-dev,
	(%type_raw[-nox] != -nox) atk1,
	(%type_raw[-nox] != -nox) cairo,
	fink (>= 0.24.12),
	(%type_raw[-nox] != -nox) fontconfig2-dev,
	freetype219,
	(%type_raw[-nox] != -nox) gd2,
	(%type_raw[-nox] = -nox) gd2-nox,
	(%type_raw[-nox] != -nox) glib2-dev,
	(%type_raw[-nox] != -nox) gtk+2-dev,
	(%type_raw[-nox] != -nox) libgettext3-dev,
	(%type_raw[-nox] != -nox) libggi2-dev,
	(%type_raw[-nox] != -nox) libgii0-dev,
	libiconv-dev,
	libjpeg,
	libncurses5,
	libpng3,
	(%type_raw[-nox] != -nox) pango1-xft2-ft219-dev,
	pdflib6,
	(%type_raw[-nox] != -nox) plotutils-dev,
	readline5,
	(%type_raw[-nox] != -nox) wxgtk2.8,
	(%type_raw[-nox] != -nox) x11-dev
<<
GCC: 4.0
Source: mirror:sourceforge:%{ni}/%{ni}-%v.tar.gz
Source-MD5: 6b6d22662df5101b308c465a722c43ce
PatchFile: %{Ni}.patch
PatchFile-MD5: 9034c4350b8d1daad672ca8c2e40fe0f
PatchScript:<<
  perl -pi -e 's/\bClass\b/GP_Class/g' `find src -name \*.c -o -name \*.cpp -o -name \*.h`
  sed -e 's,@FINKPREFIX@,%p,g' %{PatchFile} | patch -p1 
<<
ConfigureParams: <<
 --mandir='${prefix}/share/man' --libexecdir='${prefix}/lib' --infodir='${prefix}/share/info' \
 --disable-dependency-tracking --without-tutorial --with-readline=gnu \
 (%type_raw[-nox] = -nox) --without-x (%type_raw[-nox] != -nox) --with-plot=%p \
 (%type_raw[-nox] != -nox) --with-ggi=%p (%type_raw[-nox] = -nox) --disable-wxwidgets \
 --with-kpsexpand --enable-history-file --enable-thin-splines --enable-rgip (%type_raw[-nox] != -nox) --x-includes=/usr/X11R6/include (%type_raw[-nox] != -nox) --x-libraries=/usr/X11R6/lib
<<
CompileScript: <<
 #!/bin/sh -ev
 export CCACHE_DISABLE=1
 export CPATH=%p/include
 export PKG_CONFIG_PATH=%p/lib/fontconfig2/lib/pkgconfig:%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH
 if [ "%type_raw[-nox]" == "." ]
	then export PKG_CONFIG_PATH=%p/lib/pango-ft219/lib/pkgconfig:$PKG_CONFIG_PATH
 fi
 export FREETYPE_CONFIG=%p/lib/freetype219/bin/freetype-config
 ./configure %c
 make
<<
InstallScript: <<
 #!/bin/sh -ev
 make install DESTDIR=%d
 mv %i/bin/gnuplot %i/bin/gnuplotx
 echo '#!/bin/sh' > %i/bin/gnuplot
 echo 'export AQUATERM_PATH=%p/Applications/AquaTerm.app' >> %i/bin/gnuplot
 echo 'case ${DISPLAY-0} in' >> %i/bin/gnuplot
 echo ' 0) export GNUTERM=aqua ;;'  >> %i/bin/gnuplot
 echo 'esac'  >> %i/bin/gnuplot
 echo '%p/bin/gnuplotx "$@"' >> %i/bin/gnuplot
 chmod 755 %i/bin/gnuplot
 mkdir -p %i/share/doc/%n
 cp -R demo %i/share/doc/%n
 mkdir %i/share/doc/%n/psdoc
 cp docs/psdoc/*ps %i/share/doc/%n/psdoc
 rm -f %i/share/emacs/site-lisp/*.elc
 install -d %i/etc
 install -d %i/etc/app-defaults
 install %b/share/Gnuplot.app-defaults %i/etc/app-defaults
 rm -rf %i/lib/X11
 install -d %i/etc/texmf.local
 install -d %i/etc/texmf.local/latex
 install -d %i/etc/texmf.local/latex/gnuplot
 install %b/share/LaTeX/gnuplot.cfg %i/etc/texmf.local/latex/gnuplot
<<
PostInstScript:<<
 if [ -f %p/bin/kpsexpand ]; then %p/bin/kpsexpand %p/etc/texmf.local/latex/gnuplot; fi
 if [ -f %p/bin/texhash ]; then %p/bin/texhash %p/etc/texmf.local/latex/gnuplot; fi
<<
PreRmScript:<<
 if [ -f %p/bin/kpsexpand ]; then %p/bin/kpsexpand %p/etc/texmf.local/latex/gnuplot; fi
 if [ -f %p/bin/texhash ]; then %p/bin/texhash %p/etc/texmf.local/latex/gnuplot; fi
<<

DocFiles: BUGS INSTALL FAQ README NEWS ChangeLog Copyright
InfoDocs: gnuplot.info
Description: Command-driven interactive plotting program
DescDetail: <<
It can be used to plot functions and data points in both two- and 
three-dimensional plots in many different formats, and will accommodate
many of the needs of today's scientists for graphic data representation.
<<
DescPackaging: <<
PDF documentation has been moved to a separate package to avoid having to
BuildDepend on tetex
<<
DescPort: <<
Uses Per Persson's aqua terminal (installed via the aquaterm package).
gnuplot is a shell script that sets environment variables and invokes
gnuplot binary (renamed to gnuplotx).
Install the configuration for epslatex terminal manually, because the 
upstream build system runs kpsexpand and texhash.
<<
Homepage: http://www.gnuplot.info/
License: Restrictive/Distributable
<<
