Package: libdap3
Version: 3.5.2
Revision: 1002
BuildDependsOnly: true
GCC: 4.0
Description: DAP 2.0 C++ SDK
License: LGPL
Maintainer: Jeffrey Whitaker <jswhit@fastmail.fm>
Depends: %N-shlibs (>= %v-%r), libcurl3-shlibs, libxml2-shlibs, libiconv
BuildDepends: libcurl3, libxml2, libiconv-dev

# Unpack Phase:
Source: ftp://ftp.unidata.ucar.edu/pub/dods/DODS-3.5/source/libdap-%v.tar.gz
Source-MD5: ed786ae3f8f7ca4e9eac2b87c132d8fb

# Compile Phase
CompileScript: <<
 #!/bin/sh -e
 ./configure %c
 # for some reason, the allow_undefined_flag doesn't get set right by configure.
 perl -pi.BAK -e 's|-single_module |-single_module -undefined dynamic_lookup |' libtool
 make
<<

# Install Phase:
DocFiles: COPYING COPYRIGHT_* README README.* NEWS

InstallScript: <<
	make prefix=%i install mandir=%i/share/man infodir=%i/share/info
<<

SplitOff: <<
	Package: %N-shlibs
	Files: lib/libdap.*.dylib
	Shlibs: %p/lib/libdap.3.dylib 4.0.0 %n (>= 3.5.2-1)
	DocFiles: COPYING COPYRIGHT_* README README.* NEWS
<<

DescDetail: <<
	A C++ SDK which contains an implementation of DAP 2.0,
	Client- and Server-side support classes and a prototype
	implementation of the AIS.
<<

Homepage: http://opendap.org/
