Package: whatcheck
Version: 7.0
Revision: 1000
GCC: 4.0
BuildDepends: fink (>= 0.24.12), gcc43
Depends: gcc43-shlibs
Maintainer: Jack Howarth <howarth@bromo.med.uc.edu>
Source: http://swift.cmbi.ru.nl/gv/whatcheck/whatcheck.tar.bz2
Source-MD5: cb97ed2f5b3bbededa29c06cac8564d1
Source2: ftp://ftp.cmbi.kun.nl/pub/molbio/software/dsspcmbi.zip
Source2-MD5: 718779c6c5469429994a2ca284777050
SourceDirectory: whatcheck
PatchFile: %n.patch
PatchFile-MD5: 6bf5a7b4bbd631e9dc980b5acd64a0f4
PatchScript: <<
#!/bin/bash -ev
rm -fr *.o scatter dbdata/fonts/.svn
sed 's|@FINKPREFIX@|%p|g' <%{PatchFile} | patch -p1
rm -fr dssp
mv ../dssp .
perl -pi -e 's|-static||g' ./dssp/DsspCompileGCC
perl -pi -e 's|-O|-O3|g' ./dssp/DsspCompileGCC
if [ "%m" == "powerpc" ]; then
   perl -pi -e 's|gfortran|gfortran -fconvert=little-endian|g' ./Makefile_whatcheck;
fi
<<
CompileScript: <<
#!/bin/sh -ev
touch *
make -f Makefile_whatcheck
cd scatterdir
export FC=gfortran
make clean
make
cp scatter ../scatter
cd ../dssp
./DsspCompileGCC
mv dsspcmbi DSSP.EXE
<<
InstallScript: <<
mkdir -p %i/share/whatcheck/dssp
cp *.FIG %i/share/whatcheck
cp whatcheck %i/share/whatcheck
cp -r ascdata %i/share/whatcheck
cp -r bindata %i/share/whatcheck
cp -r dbdata %i/share/whatcheck
cp -r nqual %i/share/whatcheck
cp -r qualty %i/share/whatcheck
cp dssp/DSSP.EXE %i/share/whatcheck/dssp 
cp scatter %i/share/whatcheck
cp supertab.sty %i/share/whatcheck
cp whatcheck %i/share/whatcheck
cp DO_WHATCHECK.COM %i/share/whatcheck
mkdir -p %i/bin
ln -s %p/share/whatcheck/DO_WHATCHECK.COM %i/bin/whatcheck
ln -s %p/share/whatcheck/dssp/DSSP.EXE %i/bin/dssp
<<
Description: Protein verification tools from WhatIf
License: Restrictive
Homepage: http://www.cmbi.kun.nl/gv/whatcheck/
