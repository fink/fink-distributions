Package: dia
Version: 0.96.1
Revision: 1005
GCC: 4.0
Depends: orbit2-shlibs (>= 2.14.9-1), libart2-shlibs, atk1-shlibs (>= 1.20.0-1), audiofile-shlibs, libbonobo2-shlibs (>= 2.20.0-1), libbonoboui2-shlibs (>= 2.20.0-1), esound-shlibs (>= 0.2.38-1), gconf2-shlibs (>= 2.20.0-1), gtk+2-shlibs (>= 2.12.0-1), glib2-shlibs (>= 2.14.0-1), libgnome2-shlibs (>= 2.20.0-1), libgnomecanvas2-shlibs (>= 2.20.0-1), libgnomeui2-shlibs (>= 2.20.0-1), gnome-vfs2-unified-shlibs (>= 1:2.20.0-1), libiconv, libgettext3-shlibs, libjpeg-shlibs, pango1-xft2-ft219-shlibs (>= 1.18.4-4), libpng3-shlibs, popt-shlibs, libxml2-bin (>= 2.6.30-1), libxml2-shlibs (>= 2.6.30-1), rarian-compat, gnome-keyring-shlibs (>= 0.8.1-1), freetype219-shlibs
BuildDepends: avahi-dev, gail18-dev, libavahi-glib1-dev, libxslt, glitz, expat1, cairo (>= 1.6-1), fontconfig2-dev (>= 2.4.1-1), freetype219 (>= 2.3.5-1), xft2-dev, orbit2-dev (>= 2.14.9-1), libart2, atk1 (>= 1.20.0-1), audiofile, libbonobo2-dev (>= 2.20.0-1), libbonoboui2-dev (>= 2.20.0-1), libbonoboui2 (>= 2.20.0-1), esound (>= 0.2.38-1), libgettext3-dev, gettext-bin, gettext-tools, libiconv-dev, gconf2-dev (>= 2.20.0-1), glib2-dev (>= 2.14.0-1), gtk+2-dev (>= 2.12.0-1), libgnome2-dev (>= 2.20.0-1), libgnomecanvas2-dev (>= 2.20.0-1), libgnomeui2-dev (>= 2.20.0-1), dbus-dev (>= 1.0-1),  gnome-vfs2-unified-dev (>= 1:2.20.0-1), libjpeg, pango1-xft2-ft219-dev (>= 1.18.4-4), pixman (>= 0.10.0-1), libpng3, popt, libxml2 (>= 2.6.30-1), intltool (>= 0.36.0-1), gnome-keyring-dev (>= 0.8.1-1), pkgconfig (>= 0.21-1), pyxml-py24, fink (>= 0.24.12)
Source: mirror:gnome:sources/dia/0.96/dia-%v.tar.bz2
Source-MD5: 7b81b22baa2df55efe4845865dddc7b6
SetCPPFLAGS: -I%p/lib/pango-ft219/include/pango-1.0 -I%p/lib/pango-ft219/include -I%p/lib/freetype219/include/freetype2 -I%p/lib/freetype219/include -I%p/lib/fontconfig2/include
NoSetLDFLAGS: true
SetLDFLAGS: -L%p/lib/pango-ft219/lib -L%p/lib/freetype219/lib -L%p/lib/fontconfig2/lib
SetLIBS: -L%p/lib
SetCFLAGS: -Os -pipe
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1

PatchFile: dia.patch
PatchFile-MD5: c5409b3c969d4a878bf6a9afeccad7fe

Patchscript: <<
	patch -p1 < %{PatchFile}
	perl -pi.bak -e "s/-scrollkeeper-update -p \\$\\(scrollkeeper_localstat\
e_dir\\)//g" omf.make `find . -name Makefile.in`
<<
PostInstScript: <<
	if [ configure = "$1" ]; then
		scrollkeeper-update -q
	fi
<<
PostRmScript: <<
	if [ remove != "$1" ]; then
		scrollkeeper-update -q
	fi
<<
DescPort: <<
	the patchscript mainly works around scrollkeeper
<<

ConfigureParams: --infodir=%i/share/info --mandir=%i/share/man --enable-gnome --disable-dependency-tracking PKG_CONFIG_PATH="%p/lib/pango-ft219/lib/pkgconfig:%p/lib/fontconfig2/lib/pkgconfig:%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH" FREETYPE_CONFIG=%p/lib/freetype219/bin/freetype-config

CompileScript: <<
	#!/bin/sh -ev
	perl -pi.bak -e "s/-module//g" ./lib/Makefile.in
	./configure %c
	make GMSGFMT=%p/bin/msgfmt MSGFMT=%p/bin/msgfmt
<<

Shlibs: %p/lib/dia/libdia.dylib 0.0.0 %n (>= 0.95-1)
DocFiles: COPYING README AUTHORS NEWS ChangeLog KNOWN_BUGS TODO
Description: Diagram drawing program
DescDetail: <<
Dia is a tool for drawing diagrams, borrowing ideas from programs such
as visio. It can be used to draw specific types of diagrams such as
network and UML diagrams and flowcharts, while also providing some
more generic objects to draw with. Dia may be extended to use new
shape types by writing a simple XML description of the shape. The
diagrams can be exported to a number of formats including EPS, SVG,
CGM and PNG. Diagrams can also be printed (splitting the diagram to
multiple pages if appropriate).
<<
License: GPL
Homepage: http://live.gnome.org/Dia
Maintainer: H. Todd Fujinaka <htodd@twofifty.com>
