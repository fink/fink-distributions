# DISCLAIMER: Max Horn is the sole maintainer of this package.
# Please DO NOT MAKE MODIFICATIONS without informing the maintainer.
# Preferably, send a patch to me instead of making changes yourself!
# If that is not possible due to extra urgency, at least send me a mail.
#
# Explanation: I am sick and tired of getting back to my packages and
# discovering that people have messed with it. I am then forced to
# retrace their steps, find out who, when and why did make a certain
# change etc. -- i.e. it makes my life as maintainer harder.
# Furthermore, as maintainer I am responsible for problems caused by my
# packages. But I am not willing to take responsibility for something I
# did not do. In particular, for changes that other people introduced
# behind my back, no matter how good and noble their intentions were. As
# such, I may see myself forced to drop responsibility for (and hence,
# maintainership of) the affected package.

Package: ethereal
Version: 0.99.0
Revision: 1014
Maintainer: Max Horn <max@quendi.de>
BuildDepends: <<
  cairo (>= 1.6-1),
  libpng3,
  expat1,
  fink (>= 0.28),
  fontconfig2-dev (>= 2.4.1-1),
  freetype219 (>= 2.3.5-1),
  glitz,
  xft2-dev,
  x11-dev,
  pkgconfig (>= 0.21-1),
  libpcap,
  pcre,
  atk1 (>= 1.20.0-1),
  glib2-dev (>= 2.14.0-1),
  pango1-xft2-ft219-dev (>= 1.18.4-4),
  pixman (>= 0.10.0-1),
  gtk+2-dev (>= 2.12.0-1),
  libgettext3-dev,
  gettext-bin,
  gettext-tools,
  libiconv-dev
<<
Depends: <<
  atk1-shlibs (>= 1.20.0-1),
  libpcap-shlibs,
  pcre-shlibs,
  gtk+2 (>= 2.12.0-1),
  glib2-shlibs (>= 2.14.0-1),
  pango1-xft2-ft219 (>= 1.18.4-4),
  libgettext3-shlibs
<<
Conflicts: ethereal-ssl
Replaces: ethereal-ssl
Source: mirror:custom:ethereal-%v.tar.bz2
Source-MD5: f9905b9d347acdc05af664a7553f7f76
CustomMirror: <<
  Primary: ftp://ftp.ethereal.com/pub/ethereal/all-versions/
  aus-AU: ftp://ftp.planetmirror.com/pub/ethereal/all-versions/
  aus-AU: ftp://ftp.mirrors.wiretapped.net/pub/security/packet-capture/ethereal/all-versions/
  eur-AT: ftp://gd.tuwien.ac.at/infosys/security/ethereal/all-versions/
  eur-SE: ftp://ftp.sunet.se/pub/network/monitoring/ethereal/all-versions/
  asi-JP: ftp://ftp.ayamura.org/pub/ethereal/all-versions/
  asi-JP: http://ethereal.netarc.jp/distribution/all-versions/
  nam-MX: ftp://ftp.azc.uam.mx/mirrors/ethereal/all-versions/
<<
Patch: %n.patch
ConfigureParams: <<
  --mandir=%p/share/man \
  --without-net-snmp \
  --without-ucd-snmp \
  --without-adns \
  --disable-usr-local \
  --enable-gtk2 \
  --disable-dependency-tracking \
  --without-ssl \
  PKG_CONFIG_PATH="%p/lib/pango-ft219/lib/pkgconfig:%p/lib/fontconfig2/lib/pkgconfig:%p/lib/freetype219/lib/pkgconfig:$PKG_CONFIG_PATH" FREETYPE_CONFIG=%p/lib/freetype219/bin/freetype-config
<<
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
InstallScript: <<
 make install DESTDIR=%d
 rm %i/lib/libethereal.dylib
 rm %i/lib/libwiretap.dylib
<<
Shlibs: <<
 !%p/lib/libethereal.0.dylib
 !%p/lib/libwiretap.0.dylib
<<
DocFiles: AUTHORS COPYING NEWS README*
Description: DEPRECATED -- use Wireshark instead
DescDetail: <<
It is strongly recommended that you use the 'wireshark'
package, which is the successor of ethereal, instead of this
one. Ethereal does not receive any security updates anymore.
Various serious security problems with ethereal have been
fixed in 'wireshark'.
<<
DescPackaging: <<
Might eventually link against and depend on the adns package. Since adns
is not in stable, I am not (yet) doing this.
<<
Homepage: http://www.ethereal.com
License: GPL
