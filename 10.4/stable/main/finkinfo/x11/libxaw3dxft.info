Package: libxaw3dxft
Version: 1.6.2
Revision: 3
BuildDependsOnly: true

Source: mirror:sourceforge:sf-xpaint/libXaw3dXft-%v.tar.bz2
Source-MD5: 75ad45c8fcb4df5faf55e986ccbcfe83
SourceDirectory: libXaw3dXft-%v

BuildDepends: <<
	x11-dev, 
	fink-package-precedence, 
	fontconfig2-dev, 
	freetype219, 
	xft2-dev, 
	pkgconfig,
	automake1.11,
	autoconf2.6,
	util-macros
<<
Depends: x11, x11-shlibs, %n-shlibs (= %v-%r)
Conflicts: xaw3d-static, xaw3d
Replaces: xaw3d-static, xaw3d

PatchFile: %n.patch
PatchFile-MD5: f30ad12fdb084be5259233a6a5476155
PatchFile2: %n-api-tokens.patch
PatchFile2-MD5: 98c58f496ee110dc7cc08ed645aedca1
PatchScript: <<
	%{default_script}
	perl -pi -e 's/-lXft\s+-lfontconfig//' xaw3d.pc.in
<<

ConfigureParams: --enable-arrow-scrollbars --disable-static --disable-silent-rules
Compilescript: <<
	autoreconf -fi
	%{default_script}
	fink-package-precedence .
<<

InstallScript: <<
	make install DESTDIR=%D
<<
DocFiles: src/README.XAW3d COPYING README
SplitOff: <<
  Package: %N-shlibs
  Depends: x11, fontconfig2-shlibs, freetype219-shlibs, xft2-shlibs
  Files: lib/libXaw3d.*.dylib
  Shlibs: %p/lib/libXaw3d.8.dylib 9.0.0 %n (>= 1.6.2-1)
  DocFiles: src/README.XAW3d COPYING README
<<
Description: Athena widget set with 3D look
License: OSI-Approved
Homepage: https://sourceforge.net/projects/sf-xpaint/files/libxaw3dxft/
Maintainer: Alexander Hansen <alexkhansen@users.sf.net>
DescPackaging: <<
Tries to redefine Pixel, so we patch that out.

1.6.2-3: Put the prior API tokens back via PatchFile2 so that it "looks" the same
as prior xaw3d for packages that build against it.

<<
DescDetail: <<
Updated Xaw3D from the xpaint project at Sourceforge.

This is a newer version which should be entirely source compatible with the
current development versions of libXaw3d-1.6.2 and provides additionally
support for freetype and UTF8 encoding (as did earlier versions
of libxaw3dxft <= 1.3.3). 
<<
DescUsage: <<
The main parameter to be set is Xaw3dXftEncoding. By default
   Xaw3dXftEncoding = 0
and in this case libXaw3dxft-1.6.2 just behaves as plain libXaw3d. Freetype
support is enabled when Xaw3dXftEncoding != 0, and UTF8 corresponds to
Xaw3dXftEncoding = -1

Other specific parameters (and their default values) are:

char Xaw3dXftEncoding = 0;
char Xaw3dXftStringHilight = 0;
char Xaw3dXftStringUsePixmap = 0;
char Xaw3dXftMenuSpacing = 1;
char Xaw3dXftShowTips = 1;
char Xaw3dXftTipDoGrab = 1;
char Xaw3dXftBorderHack = 1;
char Xaw3dXftNoHilitReverse = 0;
char Xaw3dXftButtonInverse = 1;
char Xaw3dXftButtonDashed = 0;
char Xaw3dXftMultiColumnMenu = 0;

Pixel Xaw3dXftTipBackgroundColor = -1;
char * Xaw3dXftHilitColor = NULL;
unsigned short Xaw3dXftInsensitiveTwist[4] = { 0, 0, 0, 0};

char * Xaw3dXftDefaultFontName = NULL;
XftFont * Xaw3dXftDefaultFont = NULL;
<<