Info2: <<
Package: image-oct%type_pkg[oct]
Version: 2.0.0
Type: oct (3.6.0 3.6.1 3.6.2 3.6.3), forge (image)
Revision: 1
Maintainer: Alexander Hansen <alexkhansen@users.sourceforge.net>
# unfortunately, Homepage won't do types
Homepage: http://octave.sourceforge.net/image/index.html 
License: OSI-Approved

Description: Image tools for octave
DescDetail: <<
The Octave-forge Image package provides functions for processing images. 
The package supports almost all image formats through the use of 
GraphicsMagick. The package also provides functions for 
feature extraction, image statistics, spatial and geometric transformations, 
morphological operations, linear filtering, and much more.
The following additional functions are included:
Analysis and Statistics:
	edge
	fftconv2
	corr2
	imhist
	mean2
	std2
	entropy
	entropyfilt
	qtdecomp
	qtgetblk
	qtsetblk
	graycomatrix
	houghtf
	hough_line
	hough_circle
	immaximas
	normxcorr2
	rangefilt
	regionprops
	stdfilt
Arithmetics:
	imabsdiff
	imadd
	imcomplement
	imdivide
	imlincomb
	immultiply
	imsubtract
Black and white image functions:
	applylut
	bwarea
	bwborder
	bwboundaries
	bwconncomp
	bwdist
	bweuler
	bwfill
	bwhitmiss
	bwlabel
	bwlabeln
	bwmorph
	bwperim
	bwselect
	fchcode
	makelut
Colour maps and Colour controls:
	cmpermute
	cmunique
	colorgradient
	rgb2ycbcr
	wavelength2rgb
Display:
	rgbplot
Enhancement and Restoration:
	histeq
	imadjust
	imnoise
	imsmooth
	medfilt2
	ordfilt2
	ordfiltn
	stretchlim
Filtering and Transforms:
	fspecial
	imfilter
	iradon
	nonmax_supress
	phantom
	radon
	rho_filter
	uintlut
Morhophological Operations:
	conndef
	imbothat
	imclose
	imdilate
	imerode
	imopen
	imtophat
	mmgradm
Read/write:
	analyze75info
	analyze75read
	analyze75write
	bmpwrite
	readexif
	tiff_tag_read
Region-based and block processing:
	bestblk
	blockproc
	col2im
	colfilt
	im2col
	nlfilter
	poly2mask
	roicolor
Spatial transformations:
	imcrop
	impad
	imperspectivewarp
	imremap
	imresize
	imrotate
	imrotate_Fourier
	imshear
	imtranslate
	rotate_scale
Types and Type conversions:
	grayslice
	graythresh
	im2bw
	im2double
	im2int16
	im2single
	im2uint8
	im2uint16
	imdither
	isbw
	iscolormap
	isgray
	isind
	isrgb
	label2rgb
	mat2gray
	rgb2gray
Utilities:
	getrangefromclass
	iptcheckconn
	iptcheckmap
	iptchecknargin
	iptcheckstrs
	iptnum2ordinal
	padarray
<<
DescPackaging: <<
This package:  Listed license is GPLv3+, MIT, FreeBSD

Common for all octave-forge packages:

We read in postinst and prerm template scripts installed by octaveN and modify
them to use the name of this package because Octave's package manager can't 
cope with non-literal arguments.

The Type: forge (pkgname) is used to minimize what needs to be changed when
using this .info file as a template.
<<

BuildDepends: <<
  liboctave%type_pkg[oct]-dev,
  fftw3, 
  hdf5.7, 
  graphicsmagick-dev, 
  fink (>=0.32)
<<
RuntimeDepends:   graphicsmagick-imagemagick-compat | imagemagick, signal-oct%type_pkg[oct] (>= 1.2.0-1)
Depends: octave%type_pkg[oct]-interpreter

Conflicts: octave-forge

Source: mirror:sourceforge:octave/%type_raw[forge]-%v.tar.gz
Source-MD5: 1b9a3b387526af32c58fe693289da25b
SourceDirectory: %type_raw[forge]

######################################

# Do not change anything from this point down, unless absolutely necessary,
# since the foo-oct%type_pkg[oct] packages are designed to be built/installed
# in the same way.

#NoSetCPPFLAGS: true
#NoSetLDFLAGS: true
SetLIBRARY_PATH: /usr/X11R6/lib:%p/lib
UseMaxBuildJobs: false
BuildAsNobody: false

CompileScript: <<
	#!/bin/sh -ev
	if [ $UID -ne 0 ]
	then 
		echo "%n cannot be built with --build-as-nobody"
		exit 1
	fi
	export OCTAVE=%p/bin/octave-%type_raw[oct]
	# repack tarball, since octave-3.4.3 appears not to want to install
	# from directories
	cd ..
	tar -cf %type_raw[forge]-%v.tar %type_raw[forge]
	cd %b
	pkgsrc=%type_raw[forge]-%v.tar
	%p/share/octave/%type_raw[oct]/scripts/octave-forge-compile.sh $pkgsrc
<<

InstallScript: << 
	#!/bin/sh -ev
	%p/share/octave/%type_raw[oct]/scripts/octave-forge-install.sh %type_raw[forge]-%v %i %b
	mkdir -p %i/share/octave/%type_raw[oct]/%type_raw[forge]-%v
	# copy template scripts
	cp %p/share/octave/%type_raw[oct]/scripts/octave-forge-prerm %p/share/octave/%type_raw[oct]/scripts/octave-forge-postinst %i/share/octave/%type_raw[oct]/%type_raw[forge]-%v
	cd %i/share/octave/%type_raw[oct]/%type_raw[forge]-%v
	sed -i -e 's/@PKGNAME@/%type_raw[forge]-%v/' octave-forge-postinst
	sed -i -e 's/@PKGNAME@/%type_raw[forge]/' octave-forge-prerm
	chmod a+x octave-forge*
<<

PostInstScript:  <<
	if [ -s %p/var/octave/%type_raw[oct]/octave_packages ] && [ -f %p/var/octave/%type_raw[oct]/octave_packages ]
	then 
 		`which xvfb-run` %p/share/octave/%type_raw[oct]/%type_raw[forge]-%v/octave-forge-postinst
	else
 		mv %p/share/octave/%type_raw[oct]/packages/%type_raw[forge]-%v/octave_packages %p/var/octave/%type_raw[oct]/octave_packages
	fi
<<

PreRmScript: `which xvfb-run` %p/share/octave/%type_raw[oct]/%type_raw[forge]-%v/octave-forge-prerm
<<

