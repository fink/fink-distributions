Package: msp430-binutils
Version: 2.21.1-20120406
Revision: 1
BuildDepends: fink (>= 0.29.21)
Maintainer: Matthias Ringwald <freckle@users.sf.net>

Source: mirror:gnu:binutils/binutils-2.21.1a.tar.bz2
Source-MD5: bde820eac53fa3a8d8696667418557ad 
SourceDirectory: binutils-2.21.1

Source2: mirror:sourceforge:mspgcc/mspgcc/mspgcc-20120406.tar.bz2
Source2-MD5: 66a729487c2649a732b516dbe473f298

PatchScript: <<
    patch -p1 < ../mspgcc-20120406/msp430-binutils-2.21.1a-20120406.patch
<<

ConfigureParams: <<
  --target=msp430            \
  --prefix=%p/lib/msp430     \
  --program-prefix=msp430-   \
  --bindir=%p/bin            \
  --mandir=%p/share/man      \
  --infodir=%p/share/info    \
  --disable-werror           \
  --disable-nls
<<

CompileScript: <<
    #!/bin/sh -ev
    ./configure %c
    num_cpu=$(echo `sysctl -n hw.ncpu`)
    make -j $num_cpu
<<

InstallScript: <<
    #!/bin/sh -ev
    make install DESTDIR=%d

    rm -fr %i/lib/msp430/lib
    rm -fr %i/share/info/*
<<

DocFiles: README COPYING MAINTAINERS

Description: GNU binutils for Texas Instruments MSP430 MCU
DescPort: <<

Fink package based on arm-binutils.info.

Removed libiberty.a installation of msp430-gcc & msp430-binutils.
Avoided using /sw/msp430. Its lib & include folders have been moved to /sw/share/msp430 and the binaries are put into /sw/bin.

It includes the binutils patches from the mspgcc project release 20120406 and patches:
 *
<<

DescPackaging: <<
I didn't update the binutils version to the 1a variant as the 2.21.1a-201204 is smaller then 2.21.1-2011
<<

License: GPL
Homepage: http://mspgcc4.sourceforge.net/
