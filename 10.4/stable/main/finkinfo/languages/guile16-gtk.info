Package: guile16-gtk
Version: 1.2-0.50
Revision: 12
BuildDepends: guile16-dev (>= 1.6.7-1010), guile16 (>= 1.6.7-1010), gdk-pixbuf, guile16-libs (>= 1.6.7-1010), gtk+, gtk+-shlibs, x11-dev, libgettext3-dev, glib, libiconv-dev
Depends: guile16-shlibs (>= 1.6.7-1010), gtk+-shlibs, gdk-pixbuf-shlibs, libgettext3-shlibs, %n-shlibs (= %v-%r) 
Source: mirror:gnu:guile-gtk/guile-gtk-0.5.tar.gz
Source-MD5: af683e33ef1d575dc501cbcba3acf83e
DocFiles: README AUTHORS NEWS COPYING 
Description: Glue code to link gtk to guile
DescDetail: << 
This is some glue code to make Gtk accessible from Guile.  It provides
a convenient interface for Scheme programmers to develop graphical
user interfaces.  This version of guile-gtk is stripped down and
intended for people who want to use Gtk+-1.2 without Gnome.
Guile-gtk was started by Marius Vollmer <mvo@zagadka.ping.de> and is
currently mantained by Ariel Rios<ariel@arcavia.com> and other
intrepid Guile hackers around the world.
<<
PatchScript: <<
sed 's/(ulong)/(unsigned long)/g' guile-gtk.c > tmp.c
mv tmp.c guile-gtk.c
perl -pi.bak -e 's|\$rpath/\$soname|%p/lib/\$soname|g' configure
perl -pi.bak -e 's|exec guile|exec guile-1.6|g' build-guile-gtk*
/bin/rm texinfo.tex
<<
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
CompileScript: <<   
#!/bin/zsh -efv
export PATH=%p/share/guile/1.6/scripts/binoverride:$PATH
./configure --prefix=%i  --with-gtk-prefix=%p  --infodir=%i/share/info  
export GUILE_LOAD_PATH=%p/share/guile/1.6
make
<<
InstallScript: <<
#!/bin/zsh -efv
export PATH=%p/share/guile/1.6/scripts/binoverride:$PATH
export GUILE_LOAD_PATH=%p/share/guile/1.6
mkdir -p %i/share/guile/1.6
make install
mv %i/share/guile/gtk %i/share/guile/1.6/gtk
mv %i/share/guile/gtk-1.2 %i/share/guile/1.6/gtk-1.2
perl -pi -e 's|%d||g' %i/share/guile/1.6/gtk/config.scm
perl -pi -e 's|%d||g' %i/share/guile/1.6/gtk-1.2/config.scm
perl -pi -e 's|%d||g' %i/lib/libguilegtk-1.2.la
perl -pi -e 's|%d||g' %i/lib/libguilegdkpixbuf-1.2.la
perl -pi -e 's|%b|%p/lib|' %i/lib/libguileglade-1.2.la
perl -pi -e 's|%d||' %i/lib/libguileglade-1.2.la
mv %i/bin/build-guile-gtk %i/bin/build-guile16-gtk
mv %i/share/guile-gtk %i/share/guile16-gtk
<<
License: GPL
Maintainer:  W. G. Scott <wgscott@users.sourceforge.net>
Homepage:  http://www.gnu.org/software/guile-gtk/
#
###############################################################################
#
SplitOff: <<
Package: %n-shlibs
Depends: <<
	gdk-pixbuf-shlibs       ,
	gettext                 ,
	glib-shlibs             ,
	gtk+-shlibs             ,
	guile16-gtk-shlibs      ,
	libiconv
<<
Files: <<
lib/libguilegdkpixbuf-1.2.*.dylib  
lib/libguilegtk-1.2.*.dylib 
lib/libguileglade-1.2.*.dylib
<<
Shlibs: <<
%p/lib/libguilegdkpixbuf-1.2.0.dylib     1.0.0 %n (>= 1.2-0.50-12)
%p/lib/libguileglade-1.2.0.dylib 1.0.0 %n (>= 1.2-0.50-12)
%p/lib/libguilegtk-1.2.0.dylib               1.0.0 %n (>= 1.2-0.50-12)
<<
<< 
#
###############################################################################
#
SplitOff2: <<
Package: %n-dev
BuildDependsOnly: True
Depends: guile16-gtk-shlibs (= %v-%r) 
Files: <<   
include/*
lib/*.dylib
lib/*.a
<<
<<
###############################################################################
#
SplitOff3: <<
 Package: %N-doc
 Conflicts: guile18-gtk-doc, guile16-gtk (<= 1.2-0.50-6)
 Replaces: guile18-gtk-doc , guile16-gtk (<= 1.2-0.50-6)
 Files: share/info
 InfoDocs: guile-gtk.info  
 Description: Texinfo documentation files for guile16-gtk
<<

